{"version":3,"file":"vendors-node_modules_bittorrent-tracker_client_js.chunk.js?v=7457","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAMA,KAAK,GAAGC,mBAAO,CAAC,kDAAD,CAAP,CAAiB,2BAAjB,CAAd;;AACA,MAAMC,YAAY,GAAGD,mBAAO,CAAC,+CAAD,CAA5B;;AACA,MAAME,IAAI,GAAGF,mBAAO,CAAC,yCAAD,CAApB;;AACA,MAAMG,QAAQ,GAAGH,mBAAO,CAAC,0DAAD,CAAxB;;AACA,MAAMI,IAAI,GAAGJ,mBAAO,CAAC,wDAAD,CAApB;;AACA,MAAMK,cAAc,GAAGL,mBAAO,CAAC,gEAAD,CAA9B;;AAEA,MAAMM,MAAM,GAAGN,mBAAO,CAAC,qEAAD,CAAtB;;AACA,MAAMO,WAAW,GAAGP,mBAAO,CAAC,wCAAD,CAA3B,EAAyD;;;AACzD,MAAMQ,UAAU,GAAGR,mBAAO,CAAC,uCAAD,CAA1B,EAAuD;;;AACvD,MAAMS,gBAAgB,GAAGT,mBAAO,CAAC,yGAAD,CAAhC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;IACMU;;;;;AACJ,oBAAwB;AAAA;;AAAA,QAAXC,IAAW,uEAAJ,EAAI;;AAAA;;AACtB;AAEA,QAAI,CAACA,IAAI,CAACC,MAAV,EAAkB,MAAM,IAAIC,KAAJ,CAAU,6BAAV,CAAN;AAClB,QAAI,CAACF,IAAI,CAACG,QAAV,EAAoB,MAAM,IAAID,KAAJ,CAAU,+BAAV,CAAN;AACpB,QAAI,CAACF,IAAI,CAACI,QAAV,EAAoB,MAAM,IAAIF,KAAJ,CAAU,+BAAV,CAAN;AACpB,QAAI,CAACG,OAAO,CAACC,OAAT,IAAoB,CAACN,IAAI,CAACO,IAA9B,EAAoC,MAAM,IAAIL,KAAJ,CAAU,2BAAV,CAAN;AAEpC,UAAKD,MAAL,GAAc,OAAOD,IAAI,CAACC,MAAZ,KAAuB,QAAvB,GACVD,IAAI,CAACC,MADK,GAEVD,IAAI,CAACC,MAAL,CAAYO,QAAZ,CAAqB,KAArB,CAFJ;AAGA,UAAKC,aAAL,GAAqBC,MAAM,CAACC,IAAP,CAAY,MAAKV,MAAjB,EAAyB,KAAzB,CAArB;AACA,UAAKW,aAAL,GAAqB,MAAKH,aAAL,CAAmBD,QAAnB,CAA4B,QAA5B,CAArB;AAEA,UAAKL,QAAL,GAAgB,OAAOH,IAAI,CAACG,QAAZ,KAAyB,QAAzB,GACZH,IAAI,CAACG,QAAL,CAAcU,WAAd,EADY,GAEZb,IAAI,CAACG,QAAL,CAAcK,QAAd,CAAuB,KAAvB,CAFJ;AAGA,UAAKM,eAAL,GAAuBJ,MAAM,CAACC,IAAP,CAAY,MAAKR,QAAjB,EAA2B,KAA3B,CAAvB;AACA,UAAKY,eAAL,GAAuB,MAAKD,eAAL,CAAqBN,QAArB,CAA8B,QAA9B,CAAvB;AAEApB,IAAAA,KAAK,CAAC,eAAD,EAAkB,MAAKe,QAAvB,CAAL;AAEA,UAAKa,SAAL,GAAiB,KAAjB;AAEA,UAAKC,KAAL,GAAajB,IAAI,CAACO,IAAlB;AACA,UAAKW,gBAAL,GAAwBlB,IAAI,CAACmB,eAA7B;AACA,UAAKC,UAAL,GAAkBpB,IAAI,CAACqB,SAAvB;AACA,UAAKC,UAAL,GAAkBtB,IAAI,CAACuB,SAAvB;AACA,UAAKC,UAAL,GAAkBxB,IAAI,CAACyB,SAAvB,CA5BsB,CA8BtB;AACA;;AACA,UAAKC,KAAL,GAAa,OAAO1B,IAAI,CAAC2B,IAAZ,KAAqB,UAArB,GAAkC3B,IAAI,CAAC2B,IAAL,EAAlC,GAAgD3B,IAAI,CAAC2B,IAAlE;AAEA,QAAIvB,QAAQ,GAAG,OAAOJ,IAAI,CAACI,QAAZ,KAAyB,QAAzB,GACX,CAACJ,IAAI,CAACI,QAAN,CADW,GAEXJ,IAAI,CAACI,QAAL,IAAiB,IAAjB,GAAwB,EAAxB,GAA6BJ,IAAI,CAACI,QAFtC,CAlCsB,CAsCtB;;AACAA,IAAAA,QAAQ,GAAGA,QAAQ,CAACwB,GAAT,CAAaC,WAAW,IAAI;AACrCA,MAAAA,WAAW,GAAGA,WAAW,CAACrB,QAAZ,EAAd;;AACA,UAAIqB,WAAW,CAACA,WAAW,CAACC,MAAZ,GAAqB,CAAtB,CAAX,KAAwC,GAA5C,EAAiD;AAC/CD,QAAAA,WAAW,GAAGA,WAAW,CAACE,SAAZ,CAAsB,CAAtB,EAAyBF,WAAW,CAACC,MAAZ,GAAqB,CAA9C,CAAd;AACD;;AACD,aAAOD,WAAP;AACD,KANU,CAAX,CAvCsB,CA8CtB;;AACAzB,IAAAA,QAAQ,GAAG4B,KAAK,CAACrB,IAAN,CAAW,IAAIsB,GAAJ,CAAQ7B,QAAR,CAAX,CAAX;AAEA,UAAM8B,aAAa,GAAG,MAAKR,KAAL,KAAe,KAAf,KAAyB,CAAC,CAAC,MAAKA,KAAP,IAAgBjC,IAAI,CAAC0C,cAA9C,CAAtB;;AAEA,UAAMC,YAAY,GAAGC,GAAG,IAAI;AAC1B3C,MAAAA,cAAc,CAAC,MAAM;AACnB,cAAK4C,IAAL,CAAU,SAAV,EAAqBD,GAArB;AACD,OAFa,CAAd;AAGD,KAJD;;AAMA,UAAKE,SAAL,GAAiBnC,QAAQ,CACtBwB,GADc,CACVC,WAAW,IAAI;AAClB,UAAIW,SAAJ;;AACA,UAAI;AACFA,QAAAA,SAAS,GAAG7C,MAAM,CAAC8C,QAAP,CAAgBZ,WAAhB,CAAZ;AACD,OAFD,CAEE,OAAOQ,GAAP,EAAY;AACZD,QAAAA,YAAY,CAAC,IAAIlC,KAAJ,CAAW,wBAAuB2B,WAAY,EAA9C,CAAD,CAAZ;AACA,eAAO,IAAP;AACD;;AAED,YAAMtB,IAAI,GAAGiC,SAAS,CAACjC,IAAvB;;AACA,UAAIA,IAAI,GAAG,CAAP,IAAYA,IAAI,GAAG,KAAvB,EAA8B;AAC5B6B,QAAAA,YAAY,CAAC,IAAIlC,KAAJ,CAAW,yBAAwB2B,WAAY,EAA/C,CAAD,CAAZ;AACA,eAAO,IAAP;AACD;;AAED,YAAMa,QAAQ,GAAGF,SAAS,CAACE,QAA3B;;AACA,UAAI,CAACA,QAAQ,KAAK,OAAb,IAAwBA,QAAQ,KAAK,QAAtC,KACA,OAAO9C,WAAP,KAAuB,UAD3B,EACuC;AACrC,eAAO,IAAIA,WAAJ,gCAAsBiC,WAAtB,CAAP;AACD,OAHD,MAGO,IAAIa,QAAQ,KAAK,MAAb,IAAuB,OAAO7C,UAAP,KAAsB,UAAjD,EAA6D;AAClE,eAAO,IAAIA,UAAJ,gCAAqBgC,WAArB,CAAP;AACD,OAFM,MAEA,IAAI,CAACa,QAAQ,KAAK,KAAb,IAAsBA,QAAQ,KAAK,MAApC,KAA+CR,aAAnD,EAAkE;AACvE;AACA,YAAIQ,QAAQ,KAAK,KAAb,IAAsB,OAAOC,MAAP,KAAkB,WAAxC,IACAA,MAAM,CAACC,QAAP,CAAgBF,QAAhB,KAA6B,QADjC,EAC2C;AACzCN,UAAAA,YAAY,CAAC,IAAIlC,KAAJ,CAAW,iCAAgC2B,WAAY,EAAvD,CAAD,CAAZ;AACA,iBAAO,IAAP;AACD;;AACD,eAAO,IAAI/B,gBAAJ,gCAA2B+B,WAA3B,CAAP;AACD,OARM,MAQA;AACLO,QAAAA,YAAY,CAAC,IAAIlC,KAAJ,CAAW,iCAAgC2B,WAAY,EAAvD,CAAD,CAAZ;AACA,eAAO,IAAP;AACD;AACF,KAlCc,EAmCdgB,MAnCc,CAmCPC,OAnCO,CAAjB;AAzDsB;AA6FvB;AAED;AACF;AACA;AACA;AACA;AACA;AACA;;;;;WACE,eAAO9C,IAAP,EAAa;AACXA,MAAAA,IAAI,GAAG,KAAK+C,oBAAL,CAA0B/C,IAA1B,CAAP;AACAA,MAAAA,IAAI,CAACgD,KAAL,GAAa,SAAb;AACA5D,MAAAA,KAAK,CAAC,iBAAD,EAAoBY,IAApB,CAAL;;AACA,WAAKiD,SAAL,CAAejD,IAAf,EAJW,CAMX;;;AACA,WAAKuC,SAAL,CAAeW,OAAf,CAAuBC,OAAO,IAAI;AAChCA,QAAAA,OAAO,CAACC,WAAR;AACD,OAFD;AAGD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;;;WACE,cAAMpD,IAAN,EAAY;AACVA,MAAAA,IAAI,GAAG,KAAK+C,oBAAL,CAA0B/C,IAA1B,CAAP;AACAA,MAAAA,IAAI,CAACgD,KAAL,GAAa,SAAb;AACA5D,MAAAA,KAAK,CAAC,gBAAD,EAAmBY,IAAnB,CAAL;;AACA,WAAKiD,SAAL,CAAejD,IAAf;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;;;WACE,kBAAUA,IAAV,EAAgB;AACd,UAAI,CAACA,IAAL,EAAWA,IAAI,GAAG,EAAP;AACXA,MAAAA,IAAI,GAAG,KAAK+C,oBAAL,CAA0B/C,IAA1B,CAAP;AACAA,MAAAA,IAAI,CAACgD,KAAL,GAAa,WAAb;AACA5D,MAAAA,KAAK,CAAC,oBAAD,EAAuBY,IAAvB,CAAL;;AACA,WAAKiD,SAAL,CAAejD,IAAf;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;;;WACE,gBAAQA,IAAR,EAAc;AACZA,MAAAA,IAAI,GAAG,KAAK+C,oBAAL,CAA0B/C,IAA1B,CAAP;AACA,UAAIA,IAAI,CAACgD,KAAT,EAAgB,OAAOhD,IAAI,CAACgD,KAAZ;AAChB5D,MAAAA,KAAK,CAAC,kBAAD,EAAqBY,IAArB,CAAL;;AACA,WAAKiD,SAAL,CAAejD,IAAf;AACD;;;WAED,mBAAWA,IAAX,EAAiB;AACf,WAAKuC,SAAL,CAAeW,OAAf,CAAuBC,OAAO,IAAI;AAChC;AACAA,QAAAA,OAAO,CAAC/C,QAAR,CAAiBJ,IAAjB;AACD,OAHD;AAID;AAED;AACF;AACA;AACA;;;;WACE,gBAAQA,IAAR,EAAc;AACZZ,MAAAA,KAAK,CAAC,eAAD,CAAL;AACA,UAAI,CAACY,IAAL,EAAWA,IAAI,GAAG,EAAP;;AACX,WAAKuC,SAAL,CAAeW,OAAf,CAAuBC,OAAO,IAAI;AAChC;AACAA,QAAAA,OAAO,CAACE,MAAR,CAAerD,IAAf;AACD,OAHD;AAID;;;WAED,qBAAasD,UAAb,EAAyB;AACvBlE,MAAAA,KAAK,CAAC,gBAAD,EAAmBkE,UAAnB,CAAL;;AACA,WAAKf,SAAL,CAAeW,OAAf,CAAuBC,OAAO,IAAI;AAChCA,QAAAA,OAAO,CAACC,WAAR,CAAoBE,UAApB;AACD,OAFD;AAGD;;;WAED,iBAASC,EAAT,EAAa;AACX,UAAI,KAAKvC,SAAT,EAAoB;AACpB,WAAKA,SAAL,GAAiB,IAAjB;AACA5B,MAAAA,KAAK,CAAC,SAAD,CAAL;;AAEA,YAAMoE,KAAK,GAAG,KAAKjB,SAAL,CAAeX,GAAf,CAAmBuB,OAAO,IAAII,EAAE,IAAI;AAChDJ,QAAAA,OAAO,CAACM,OAAR,CAAgBF,EAAhB;AACD,OAFa,CAAd;;AAIA/D,MAAAA,QAAQ,CAACgE,KAAD,EAAQD,EAAR,CAAR;AAEA,WAAKhB,SAAL,GAAiB,EAAjB;AACA,WAAKrB,gBAAL,GAAwB,IAAxB;AACD;;;WAED,gCAAiC;AAAA,UAAXlB,IAAW,uEAAJ,EAAI;AAC/B,UAAIA,IAAI,CAAC0D,OAAL,IAAgB,IAApB,EAA0B1D,IAAI,CAAC0D,OAAL,GAAe/D,MAAM,CAACgE,sBAAtB;AAE1B,UAAI3D,IAAI,CAAC4D,QAAL,IAAiB,IAArB,EAA2B5D,IAAI,CAAC4D,QAAL,GAAgB,CAAhB;AAC3B,UAAI5D,IAAI,CAAC6D,UAAL,IAAmB,IAAvB,EAA6B7D,IAAI,CAAC6D,UAAL,GAAkB,CAAlB;AAE7B,UAAI,KAAK3C,gBAAT,EAA2BlB,IAAI,GAAG8D,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB/D,IAAlB,EAAwB,KAAKkB,gBAAL,EAAxB,CAAP;AAE3B,aAAOlB,IAAP;AACD;;;;EApNkBV;AAuNrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAS,MAAM,CAACsD,MAAP,GAAgB,CAACrD,IAAD,EAAOuD,EAAP,KAAc;AAC5BA,EAAAA,EAAE,GAAGhE,IAAI,CAACgE,EAAD,CAAT;AAEA,MAAI,CAACvD,IAAI,CAACG,QAAV,EAAoB,MAAM,IAAID,KAAJ,CAAU,+BAAV,CAAN;AACpB,MAAI,CAACF,IAAI,CAACI,QAAV,EAAoB,MAAM,IAAIF,KAAJ,CAAU,+BAAV,CAAN;AAEpB,QAAM8D,UAAU,GAAGF,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB/D,IAAlB,EAAwB;AACzCG,IAAAA,QAAQ,EAAE6B,KAAK,CAACiC,OAAN,CAAcjE,IAAI,CAACG,QAAnB,IAA+BH,IAAI,CAACG,QAAL,CAAc,CAAd,CAA/B,GAAkDH,IAAI,CAACG,QADxB;AAEzCF,IAAAA,MAAM,EAAES,MAAM,CAACC,IAAP,CAAY,sBAAZ,CAFiC;AAEI;AAC7CJ,IAAAA,IAAI,EAAE,IAHmC,CAG9B;;AAH8B,GAAxB,CAAnB;AAMA,QAAM2D,MAAM,GAAG,IAAInE,MAAJ,CAAWiE,UAAX,CAAf;AACAE,EAAAA,MAAM,CAAC3E,IAAP,CAAY,OAAZ,EAAqBgE,EAArB;AACAW,EAAAA,MAAM,CAAC3E,IAAP,CAAY,SAAZ,EAAuBgE,EAAvB;AAEA,MAAIY,GAAG,GAAGnC,KAAK,CAACiC,OAAN,CAAcjE,IAAI,CAACG,QAAnB,IAA+BH,IAAI,CAACG,QAAL,CAAc2B,MAA7C,GAAsD,CAAhE;AACA,QAAMsC,OAAO,GAAG,EAAhB;AACAF,EAAAA,MAAM,CAACG,EAAP,CAAU,QAAV,EAAoBC,IAAI,IAAI;AAC1BH,IAAAA,GAAG,IAAI,CAAP;AACAC,IAAAA,OAAO,CAACE,IAAI,CAACnE,QAAN,CAAP,GAAyBmE,IAAzB;;AACA,QAAIH,GAAG,KAAK,CAAZ,EAAe;AACbD,MAAAA,MAAM,CAACT,OAAP;AACA,YAAMc,IAAI,GAAGT,MAAM,CAACS,IAAP,CAAYH,OAAZ,CAAb;;AACA,UAAIG,IAAI,CAACzC,MAAL,KAAgB,CAApB,EAAuB;AACrByB,QAAAA,EAAE,CAAC,IAAD,EAAOa,OAAO,CAACG,IAAI,CAAC,CAAD,CAAL,CAAd,CAAF;AACD,OAFD,MAEO;AACLhB,QAAAA,EAAE,CAAC,IAAD,EAAOa,OAAP,CAAF;AACD;AACF;AACF,GAZD;AAcApE,EAAAA,IAAI,CAACG,QAAL,GAAgB6B,KAAK,CAACiC,OAAN,CAAcjE,IAAI,CAACG,QAAnB,IACZH,IAAI,CAACG,QAAL,CAAcyB,GAAd,CAAkBzB,QAAQ,IAAIO,MAAM,CAACC,IAAP,CAAYR,QAAZ,EAAsB,KAAtB,CAA9B,CADY,GAEZO,MAAM,CAACC,IAAP,CAAYX,IAAI,CAACG,QAAjB,EAA2B,KAA3B,CAFJ;AAGA+D,EAAAA,MAAM,CAACb,MAAP,CAAc;AAAElD,IAAAA,QAAQ,EAAEH,IAAI,CAACG;AAAjB,GAAd;AACA,SAAO+D,MAAP;AACD,CArCD;;AAuCAM,MAAM,CAACC,OAAP,GAAiB1E,MAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnSA,MAAMT,YAAY,GAAGD,mBAAO,CAAC,+CAAD,CAA5B;;IAEMqF;;;;;AACJ,mBAAaR,MAAb,EAAqBrC,WAArB,EAAkC;AAAA;;AAAA;;AAChC;AAEA,UAAKqC,MAAL,GAAcA,MAAd;AACA,UAAKrC,WAAL,GAAmBA,WAAnB;AAEA,UAAK8C,QAAL,GAAgB,IAAhB;AACA,UAAK3D,SAAL,GAAiB,KAAjB;AAPgC;AAQjC;;;;;;;;;;;;;;MAED,UAAasC,UAAb,EAAyB;AACvB,UAAIA,UAAU,IAAI,IAAlB,EAAwBA,UAAU,GAAG,KAAKsB,yBAAlB;AAExBC,MAAAA,aAAa,CAAC,KAAKF,QAAN,CAAb;;AAEA,UAAIrB,UAAJ,EAAgB;AACd,aAAKqB,QAAL,GAAgBvB,WAAW,CAAC,MAAM;AAChC,eAAKhD,QAAL,CAAc,KAAK8D,MAAL,CAAYnB,oBAAZ,EAAd;AACD,SAF0B,EAExBO,UAFwB,CAA3B;AAGA,YAAI,KAAKqB,QAAL,CAAcG,KAAlB,EAAyB,KAAKH,QAAL,CAAcG,KAAd;AAC1B;AACF;;;;EAtBmBxF;;AAyBtBkF,MAAM,CAACC,OAAP,GAAiBC,OAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BA,MAAMK,KAAK,GAAG1F,mBAAO,CAAC,4CAAD,CAArB;;AACA,MAAMD,KAAK,GAAGC,mBAAO,CAAC,kDAAD,CAAP,CAAiB,sCAAjB,CAAd;;AACA,MAAMI,IAAI,GAAGJ,mBAAO,CAAC,wDAAD,CAApB;;AACA,MAAM2F,WAAW,GAAG3F,mBAAO,CAAC,0DAAD,CAA3B;;AACA,MAAM4F,MAAM,GAAG5F,mBAAO,CAAC,kEAAD,CAAtB;;AACA,MAAM6F,KAAK,GAAG7F,mBAAO,CAAC,oBAAD,CAArB;;AAEA,MAAMM,MAAM,GAAGN,mBAAO,CAAC,kEAAD,CAAtB;;AACA,MAAMqF,OAAO,GAAGrF,mBAAO,CAAC,0EAAD,CAAvB,EAEA;AACA;AACA;;;AACA,MAAM8F,UAAU,GAAG,EAAnB;AAEA,MAAMC,iBAAiB,GAAG,KAAK,IAA/B;AACA,MAAMC,iBAAiB,GAAG,KAAK,EAAL,GAAU,IAApC;AACA,MAAMC,kBAAkB,GAAG,IAAI,EAAJ,GAAS,IAApC;AACA,MAAMC,aAAa,GAAG,KAAK,IAA3B;;IAEMzF;;;;;AACJ,4BAAaoE,MAAb,EAAqBrC,WAArB,EAAkC;AAAA;;AAAA;;AAChC,8BAAMqC,MAAN,EAAcrC,WAAd;AACAzC,IAAAA,KAAK,CAAC,0BAAD,EAA6ByC,WAA7B,CAAL;AAEA,UAAK2D,KAAL,GAAa,EAAb,CAJgC,CAIhB;;AAChB,UAAKC,MAAL,GAAc,IAAd;AAEA,UAAKC,YAAL,GAAoB,KAApB;AACA,UAAKC,OAAL,GAAe,CAAf;AACA,UAAKC,cAAL,GAAsB,IAAtB,CATgC,CAWhC;AACA;;AACA,UAAKC,iBAAL,GAAyB,KAAzB;;AAEA,UAAKC,WAAL;;AAfgC;AAgBjC;;;;WAED,kBAAU9F,IAAV,EAAgB;AACd,UAAI,KAAKgB,SAAL,IAAkB,KAAK0E,YAA3B,EAAyC;;AACzC,UAAI,CAAC,KAAKD,MAAL,CAAYM,SAAjB,EAA4B;AAC1B,aAAKN,MAAL,CAAYlG,IAAZ,CAAiB,SAAjB,EAA4B,MAAM;AAChC,eAAKa,QAAL,CAAcJ,IAAd;AACD,SAFD;AAGA;AACD;;AAED,YAAMgG,MAAM,GAAGlC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB/D,IAAlB,EAAwB;AACrCiG,QAAAA,MAAM,EAAE,UAD6B;AAErCC,QAAAA,SAAS,EAAE,KAAKhC,MAAL,CAAYnD,eAFc;AAGrCoF,QAAAA,OAAO,EAAE,KAAKjC,MAAL,CAAYtD;AAHgB,OAAxB,CAAf;AAKA,UAAI,KAAKwF,UAAT,EAAqBJ,MAAM,CAACK,SAAP,GAAmB,KAAKD,UAAxB;;AAErB,UAAIpG,IAAI,CAACgD,KAAL,KAAe,SAAf,IAA4BhD,IAAI,CAACgD,KAAL,KAAe,WAA/C,EAA4D;AAC1D;AACA,aAAKsD,KAAL,CAAWN,MAAX;AACD,OAHD,MAGO;AACL;AACA,cAAMtC,OAAO,GAAG6C,IAAI,CAACC,GAAL,CAASxG,IAAI,CAAC0D,OAAd,EAAuB,CAAvB,CAAhB;;AAEA,aAAK+C,eAAL,CAAqB/C,OAArB,EAA8BgD,MAAM,IAAI;AACtCV,UAAAA,MAAM,CAACtC,OAAP,GAAiBA,OAAjB;AACAsC,UAAAA,MAAM,CAACU,MAAP,GAAgBA,MAAhB;;AACA,eAAKJ,KAAL,CAAWN,MAAX;AACD,SAJD;AAKD;AACF;;;WAED,gBAAQhG,IAAR,EAAc;AACZ,UAAI,KAAKgB,SAAL,IAAkB,KAAK0E,YAA3B,EAAyC;;AACzC,UAAI,CAAC,KAAKD,MAAL,CAAYM,SAAjB,EAA4B;AAC1B,aAAKN,MAAL,CAAYlG,IAAZ,CAAiB,SAAjB,EAA4B,MAAM;AAChC,eAAK8D,MAAL,CAAYrD,IAAZ;AACD,SAFD;AAGA;AACD;;AAED,YAAM2G,UAAU,GAAI3E,KAAK,CAACiC,OAAN,CAAcjE,IAAI,CAACG,QAAnB,KAAgCH,IAAI,CAACG,QAAL,CAAc2B,MAAd,GAAuB,CAAxD,GACf9B,IAAI,CAACG,QAAL,CAAcyB,GAAd,CAAkBzB,QAAQ,IAAIA,QAAQ,CAACK,QAAT,CAAkB,QAAlB,CAA9B,CADe,GAEdR,IAAI,CAACG,QAAL,IAAiBH,IAAI,CAACG,QAAL,CAAcK,QAAd,CAAuB,QAAvB,CAAlB,IAAuD,KAAK0D,MAAL,CAAYnD,eAFvE;AAGA,YAAMiF,MAAM,GAAG;AACbC,QAAAA,MAAM,EAAE,QADK;AAEbC,QAAAA,SAAS,EAAES;AAFE,OAAf;;AAKA,WAAKL,KAAL,CAAWN,MAAX;AACD;;;WAED,mBAAoB;AAAA,UAAXzC,EAAW,uEAANqD,IAAM;AAClB,UAAI,KAAK5F,SAAT,EAAoB,OAAOuC,EAAE,CAAC,IAAD,CAAT;AAEpB,WAAKvC,SAAL,GAAiB,IAAjB;AAEA6D,MAAAA,aAAa,CAAC,KAAKF,QAAN,CAAb;AACAkC,MAAAA,YAAY,CAAC,KAAKjB,cAAN,CAAZ,CANkB,CAQlB;;AACA,WAAK,MAAM3F,MAAX,IAAqB,KAAKuF,KAA1B,EAAiC;AAC/B,cAAMsB,IAAI,GAAG,KAAKtB,KAAL,CAAWvF,MAAX,CAAb;AACA4G,QAAAA,YAAY,CAACC,IAAI,CAACC,cAAN,CAAZ;AACAD,QAAAA,IAAI,CAACrD,OAAL;AACD;;AACD,WAAK+B,KAAL,GAAa,IAAb;;AAEA,UAAI,KAAKC,MAAT,EAAiB;AACf,aAAKA,MAAL,CAAYuB,cAAZ,CAA2B,SAA3B,EAAsC,KAAKC,qBAA3C;AACA,aAAKxB,MAAL,CAAYuB,cAAZ,CAA2B,MAA3B,EAAmC,KAAKE,kBAAxC;AACA,aAAKzB,MAAL,CAAYuB,cAAZ,CAA2B,OAA3B,EAAoC,KAAKG,mBAAzC;AACA,aAAK1B,MAAL,CAAYuB,cAAZ,CAA2B,OAA3B,EAAoC,KAAKI,mBAAzC;AACA,aAAK3B,MAAL,GAAc,IAAd;AACD;;AAED,WAAKwB,qBAAL,GAA6B,IAA7B;AACA,WAAKG,mBAAL,GAA2B,IAA3B;AACA,WAAKF,kBAAL,GAA0B,IAA1B;AACA,WAAKC,mBAAL,GAA2B,IAA3B;;AAEA,UAAIhC,UAAU,CAAC,KAAKtD,WAAN,CAAd,EAAkC;AAChCsD,QAAAA,UAAU,CAAC,KAAKtD,WAAN,CAAV,CAA6BwF,SAA7B,IAA0C,CAA1C;AACD,OA/BiB,CAiClB;;;AACA,UAAIlC,UAAU,CAAC,KAAKtD,WAAN,CAAV,CAA6BwF,SAA7B,GAAyC,CAA7C,EAAgD,OAAO9D,EAAE,EAAT;AAEhD,UAAIkC,MAAM,GAAGN,UAAU,CAAC,KAAKtD,WAAN,CAAvB;AACA,aAAOsD,UAAU,CAAC,KAAKtD,WAAN,CAAjB;AACA4D,MAAAA,MAAM,CAACpB,EAAP,CAAU,OAAV,EAAmBuC,IAAnB,EAtCkB,CAsCO;;AACzBnB,MAAAA,MAAM,CAAClG,IAAP,CAAY,OAAZ,EAAqBgE,EAArB;AAEA,UAAI+D,OAAJ,CAzCkB,CA2ClB;;AACA,UAAI,CAAC,KAAKzB,iBAAV,EAA6B,OAAO0B,cAAc,EAArB,CA5CX,CA8ClB;AACA;;AACAD,MAAAA,OAAO,GAAGE,UAAU,CAACD,cAAD,EAAiB5H,MAAM,CAAC8H,eAAxB,CAApB,CAhDkB,CAkDlB;AACA;;AACAhC,MAAAA,MAAM,CAAClG,IAAP,CAAY,MAAZ,EAAoBgI,cAApB;;AAEA,eAASA,cAAT,GAA2B;AACzB,YAAID,OAAJ,EAAa;AACXT,UAAAA,YAAY,CAACS,OAAD,CAAZ;AACAA,UAAAA,OAAO,GAAG,IAAV;AACD;;AACD7B,QAAAA,MAAM,CAACuB,cAAP,CAAsB,MAAtB,EAA8BO,cAA9B;AACA9B,QAAAA,MAAM,CAAChC,OAAP;AACAgC,QAAAA,MAAM,GAAG,IAAT;AACD;AACF;;;WAED,uBAAe;AACb,WAAKzE,SAAL,GAAiB,KAAjB;AAEA,UAAI,CAAC,KAAKwE,KAAV,EAAiB,KAAKA,KAAL,GAAa,EAAb;;AAEjB,WAAKyB,qBAAL,GAA6B,MAAM;AACjC,aAAKS,gBAAL;AACD,OAFD;;AAGA,WAAKN,mBAAL,GAA2B/E,GAAG,IAAI;AAChC,aAAKsF,cAAL,CAAoBtF,GAApB;AACD,OAFD;;AAGA,WAAK6E,kBAAL,GAA0B5C,IAAI,IAAI;AAChC,aAAKsD,aAAL,CAAmBtD,IAAnB;AACD,OAFD;;AAGA,WAAK6C,mBAAL,GAA2B,MAAM;AAC/B,aAAKU,cAAL;AACD,OAFD;;AAIA,WAAKpC,MAAL,GAAcN,UAAU,CAAC,KAAKtD,WAAN,CAAxB;;AACA,UAAI,KAAK4D,MAAT,EAAiB;AACfN,QAAAA,UAAU,CAAC,KAAKtD,WAAN,CAAV,CAA6BwF,SAA7B,IAA0C,CAA1C;;AACA,YAAI,KAAK5B,MAAL,CAAYM,SAAhB,EAA2B;AACzB,eAAKkB,qBAAL;AACD;AACF,OALD,MAKO;AACL,cAAMzE,SAAS,GAAG,IAAIsF,GAAJ,CAAQ,KAAKjG,WAAb,CAAlB;AACA,YAAIkG,KAAJ;;AACA,YAAI,KAAK7D,MAAL,CAAY1C,UAAhB,EAA4B;AAC1BuG,UAAAA,KAAK,GAAGvF,SAAS,CAACE,QAAV,KAAuB,MAAvB,GAAgC,KAAKwB,MAAL,CAAY1C,UAAZ,CAAuBwG,UAAvD,GAAoE,KAAK9D,MAAL,CAAY1C,UAAZ,CAAuByG,SAAnG;;AACA,cAAI,CAACF,KAAD,IAAU,KAAK7D,MAAL,CAAY1C,UAAZ,CAAuB0G,UAArC,EAAiD;AAC/CH,YAAAA,KAAK,GAAG,IAAI7C,KAAK,CAACiD,KAAV,CAAgBpD,KAAK,CAAC,KAAKb,MAAL,CAAY1C,UAAZ,CAAuB0G,UAAxB,CAArB,EAA2D1F,SAAS,CAACE,QAAV,KAAuB,MAAlF,CAAR;AACD;AACF;;AACD,aAAK+C,MAAL,GAAcN,UAAU,CAAC,KAAKtD,WAAN,CAAV,GAA+B,IAAIoD,MAAJ,CAAW;AAAEmD,UAAAA,GAAG,EAAE,KAAKvG,WAAZ;AAAyBkG,UAAAA;AAAzB,SAAX,CAA7C;AACA,aAAKtC,MAAL,CAAY4B,SAAZ,GAAwB,CAAxB;AACA,aAAK5B,MAAL,CAAYlG,IAAZ,CAAiB,SAAjB,EAA4B,KAAK0H,qBAAjC;AACD;;AAED,WAAKxB,MAAL,CAAYpB,EAAZ,CAAe,MAAf,EAAuB,KAAK6C,kBAA5B;AACA,WAAKzB,MAAL,CAAYlG,IAAZ,CAAiB,OAAjB,EAA0B,KAAK4H,mBAA/B;AACA,WAAK1B,MAAL,CAAYlG,IAAZ,CAAiB,OAAjB,EAA0B,KAAK6H,mBAA/B;AACD;;;WAED,4BAAoB;AAClB,UAAI,KAAKpG,SAAT,EAAoB;;AAEpB,UAAI,KAAK0E,YAAT,EAAuB;AACrB,aAAKA,YAAL,GAAoB,KAApB;AACA,aAAKC,OAAL,GAAe,CAAf;AACA,aAAKvF,QAAL,CAAc,KAAK8D,MAAL,CAAYnB,oBAAZ,EAAd;AACD;AACF;;;WAED,uBAAeuB,IAAf,EAAqB;AACnB,UAAI,KAAKtD,SAAT,EAAoB;AAEpB,WAAK6E,iBAAL,GAAyB,KAAzB;;AAEA,UAAI;AACFvB,QAAAA,IAAI,GAAG+D,IAAI,CAACC,KAAL,CAAWhE,IAAX,CAAP;AACD,OAFD,CAEE,OAAOjC,GAAP,EAAY;AACZ,aAAK6B,MAAL,CAAY5B,IAAZ,CAAiB,SAAjB,EAA4B,IAAIpC,KAAJ,CAAU,0BAAV,CAA5B;AACA;AACD;;AAED,UAAIoE,IAAI,CAAC2B,MAAL,KAAgB,UAApB,EAAgC;AAC9B,aAAKsC,mBAAL,CAAyBjE,IAAzB;AACD,OAFD,MAEO,IAAIA,IAAI,CAAC2B,MAAL,KAAgB,QAApB,EAA8B;AACnC,aAAKuC,iBAAL,CAAuBlE,IAAvB;AACD,OAFM,MAEA;AACL,aAAKqD,cAAL,CAAoB,IAAIzH,KAAJ,CAAW,kCAAiCoE,IAAI,CAAC2B,MAAO,EAAxD,CAApB;AACD;AACF;;;WAED,6BAAqB3B,IAArB,EAA2B;AACzB,UAAIA,IAAI,CAAC4B,SAAL,KAAmB,KAAKhC,MAAL,CAAYnD,eAAnC,EAAoD;AAClD3B,QAAAA,KAAK,CACH,wEADG,EAEH,KAAKyC,WAFF,EAEelC,MAAM,CAAC8I,WAAP,CAAmBnE,IAAI,CAAC4B,SAAxB,CAFf,EAEmD,KAAKhC,MAAL,CAAY/D,QAF/D,CAAL;AAIA;AACD;;AAED,UAAImE,IAAI,CAAC6B,OAAL,IAAgB7B,IAAI,CAAC6B,OAAL,KAAiB,KAAKjC,MAAL,CAAYtD,aAAjD,EAAgE;AAC9D;AACA;AACD;;AAEDxB,MAAAA,KAAK,CACH,4BADG,EAEHiJ,IAAI,CAACK,SAAL,CAAepE,IAAf,CAFG,EAEmB,KAAKzC,WAFxB,EAEqC,KAAKqC,MAAL,CAAY/D,QAFjD,CAAL;AAKA,YAAMwI,OAAO,GAAGrE,IAAI,CAAC,gBAAD,CAApB;AACA,UAAIqE,OAAJ,EAAa,OAAO,KAAKzE,MAAL,CAAY5B,IAAZ,CAAiB,SAAjB,EAA4B,IAAIpC,KAAJ,CAAUyI,OAAV,CAA5B,CAAP;AAEb,YAAMC,OAAO,GAAGtE,IAAI,CAAC,iBAAD,CAApB;AACA,UAAIsE,OAAJ,EAAa,KAAK1E,MAAL,CAAY5B,IAAZ,CAAiB,SAAjB,EAA4B,IAAIpC,KAAJ,CAAU0I,OAAV,CAA5B;AAEb,YAAMjE,QAAQ,GAAGL,IAAI,CAACK,QAAL,IAAiBL,IAAI,CAAC,cAAD,CAAtC;AACA,UAAIK,QAAJ,EAAc,KAAKvB,WAAL,CAAiBuB,QAAQ,GAAG,IAA5B;AAEd,YAAMkE,SAAS,GAAGvE,IAAI,CAAC,YAAD,CAAtB;;AACA,UAAIuE,SAAJ,EAAe;AACb;AACA,aAAKzC,UAAL,GAAkByC,SAAlB;AACD;;AAED,UAAIvE,IAAI,CAACwE,QAAL,IAAiB,IAArB,EAA2B;AACzB,cAAMC,QAAQ,GAAGjF,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBO,IAAlB,EAAwB;AACvClE,UAAAA,QAAQ,EAAE,KAAKyB,WADwB;AAEvC1B,UAAAA,QAAQ,EAAER,MAAM,CAAC8I,WAAP,CAAmBnE,IAAI,CAAC4B,SAAxB;AAF6B,SAAxB,CAAjB;AAIA,aAAKhC,MAAL,CAAY5B,IAAZ,CAAiB,QAAjB,EAA2ByG,QAA3B;AACD;;AAED,UAAIjC,IAAJ;;AACA,UAAIxC,IAAI,CAAC0E,KAAL,IAAc1E,IAAI,CAAC6B,OAAvB,EAAgC;AAC9B/G,QAAAA,KAAK,CAAC,mCAAD,CAAL;AACA0H,QAAAA,IAAI,GAAG,KAAKmC,WAAL,EAAP;AACAnC,QAAAA,IAAI,CAACoC,EAAL,GAAUvJ,MAAM,CAAC8I,WAAP,CAAmBnE,IAAI,CAAC6B,OAAxB,CAAV;AACAW,QAAAA,IAAI,CAACvH,IAAL,CAAU,QAAV,EAAoB4J,MAAM,IAAI;AAC5B,gBAAMnD,MAAM,GAAG;AACbC,YAAAA,MAAM,EAAE,UADK;AAEbC,YAAAA,SAAS,EAAE,KAAKhC,MAAL,CAAYnD,eAFV;AAGboF,YAAAA,OAAO,EAAE,KAAKjC,MAAL,CAAYtD,aAHR;AAIbwI,YAAAA,UAAU,EAAE9E,IAAI,CAAC6B,OAJJ;AAKbgD,YAAAA,MALa;AAMbE,YAAAA,QAAQ,EAAE/E,IAAI,CAAC+E;AANF,WAAf;AAQA,cAAI,KAAKjD,UAAT,EAAqBJ,MAAM,CAACK,SAAP,GAAmB,KAAKD,UAAxB;;AACrB,eAAKE,KAAL,CAAWN,MAAX;AACD,SAXD;AAYA,aAAK9B,MAAL,CAAY5B,IAAZ,CAAiB,MAAjB,EAAyBwE,IAAzB;AACAA,QAAAA,IAAI,CAACwC,MAAL,CAAYhF,IAAI,CAAC0E,KAAjB;AACD;;AAED,UAAI1E,IAAI,CAAC6E,MAAL,IAAe7E,IAAI,CAAC6B,OAAxB,EAAiC;AAC/B,cAAMoD,OAAO,GAAG5J,MAAM,CAAC8I,WAAP,CAAmBnE,IAAI,CAAC+E,QAAxB,CAAhB;AACAvC,QAAAA,IAAI,GAAG,KAAKtB,KAAL,CAAW+D,OAAX,CAAP;;AACA,YAAIzC,IAAJ,EAAU;AACRA,UAAAA,IAAI,CAACoC,EAAL,GAAUvJ,MAAM,CAAC8I,WAAP,CAAmBnE,IAAI,CAAC6B,OAAxB,CAAV;AACA,eAAKjC,MAAL,CAAY5B,IAAZ,CAAiB,MAAjB,EAAyBwE,IAAzB;AACAA,UAAAA,IAAI,CAACwC,MAAL,CAAYhF,IAAI,CAAC6E,MAAjB;AAEAtC,UAAAA,YAAY,CAACC,IAAI,CAACC,cAAN,CAAZ;AACAD,UAAAA,IAAI,CAACC,cAAL,GAAsB,IAAtB;AACA,iBAAO,KAAKvB,KAAL,CAAW+D,OAAX,CAAP;AACAzC,UAAAA,IAAI,CAACrD,OAAL;AACD,SATD,MASO;AACLrE,UAAAA,KAAK,CAAE,0BAAyBiJ,IAAI,CAACK,SAAL,CAAepE,IAAI,CAAC6E,MAApB,CAA4B,EAAvD,CAAL;AACD;AACF;AACF;;;WAED,2BAAmB7E,IAAnB,EAAyB;AACvBA,MAAAA,IAAI,GAAGA,IAAI,CAACkF,KAAL,IAAc,EAArB;AAEA,YAAMjF,IAAI,GAAGT,MAAM,CAACS,IAAP,CAAYD,IAAZ,CAAb;;AACA,UAAIC,IAAI,CAACzC,MAAL,KAAgB,CAApB,EAAuB;AACrB,aAAKoC,MAAL,CAAY5B,IAAZ,CAAiB,SAAjB,EAA4B,IAAIpC,KAAJ,CAAU,yBAAV,CAA5B;AACA;AACD;;AAEDqE,MAAAA,IAAI,CAACrB,OAAL,CAAa/C,QAAQ,IAAI;AACvB;AACA;AACA,cAAM4I,QAAQ,GAAGjF,MAAM,CAACC,MAAP,CAAcO,IAAI,CAACnE,QAAD,CAAlB,EAA8B;AAC7CC,UAAAA,QAAQ,EAAE,KAAKyB,WAD8B;AAE7C1B,UAAAA,QAAQ,EAAER,MAAM,CAAC8I,WAAP,CAAmBtI,QAAnB;AAFmC,SAA9B,CAAjB;AAIA,aAAK+D,MAAL,CAAY5B,IAAZ,CAAiB,QAAjB,EAA2ByG,QAA3B;AACD,OARD;AASD;;;WAED,0BAAkB;AAChB,UAAI,KAAK/H,SAAT,EAAoB;AACpB,WAAKyC,OAAL;;AACA,WAAKgG,oBAAL;AACD;;;WAED,wBAAgBpH,GAAhB,EAAqB;AACnB,UAAI,KAAKrB,SAAT,EAAoB;AACpB,WAAKyC,OAAL,GAFmB,CAGnB;;AACA,WAAKS,MAAL,CAAY5B,IAAZ,CAAiB,SAAjB,EAA4BD,GAA5B;;AACA,WAAKoH,oBAAL;AACD;;;WAED,gCAAwB;AACtB,YAAMC,EAAE,GAAGnD,IAAI,CAACoD,KAAL,CAAWpD,IAAI,CAACqD,MAAL,KAAgBtE,kBAA3B,IAAiDiB,IAAI,CAACC,GAAL,CAASD,IAAI,CAACsD,GAAL,CAAS,CAAT,EAAY,KAAKlE,OAAjB,IAA4BP,iBAArC,EAAwDC,iBAAxD,CAA5D;AAEA,WAAKK,YAAL,GAAoB,IAApB;AACAmB,MAAAA,YAAY,CAAC,KAAKjB,cAAN,CAAZ;AACA,WAAKA,cAAL,GAAsB4B,UAAU,CAAC,MAAM;AACrC,aAAK7B,OAAL;;AACA,aAAKG,WAAL;AACD,OAH+B,EAG7B4D,EAH6B,CAAhC;AAIA,UAAI,KAAK9D,cAAL,CAAoBd,KAAxB,EAA+B,KAAKc,cAAL,CAAoBd,KAApB;AAE/B1F,MAAAA,KAAK,CAAC,8BAAD,EAAiCsK,EAAjC,CAAL;AACD;;;WAED,eAAO1D,MAAP,EAAe;AACb,UAAI,KAAKhF,SAAT,EAAoB;AACpB,WAAK6E,iBAAL,GAAyB,IAAzB;AACA,YAAMiE,OAAO,GAAGzB,IAAI,CAACK,SAAL,CAAe1C,MAAf,CAAhB;AACA5G,MAAAA,KAAK,CAAC,SAAD,EAAY0K,OAAZ,CAAL;AACA,WAAKrE,MAAL,CAAYsE,IAAZ,CAAiBD,OAAjB;AACD;;;WAED,yBAAiBpG,OAAjB,EAA0BH,EAA1B,EAA8B;AAC5B,YAAMyG,IAAI,GAAG,IAAb;AACA,YAAMtD,MAAM,GAAG,EAAf;AACAtH,MAAAA,KAAK,CAAC,sBAAD,EAAyBsE,OAAzB,CAAL;;AAEA,WAAK,IAAIuG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGvG,OAApB,EAA6B,EAAEuG,CAA/B,EAAkC;AAChCC,QAAAA,aAAa;AACd;;AACDC,MAAAA,SAAS;;AAET,eAASD,aAAT,GAA0B;AACxB,cAAMX,OAAO,GAAGvE,WAAW,CAAC,EAAD,CAAX,CAAgBxE,QAAhB,CAAyB,KAAzB,CAAhB;AACApB,QAAAA,KAAK,CAAC,sCAAD,CAAL;;AACA,cAAM0H,IAAI,GAAGkD,IAAI,CAACxE,KAAL,CAAW+D,OAAX,IAAsBS,IAAI,CAACf,WAAL,CAAiB;AAAEmB,UAAAA,SAAS,EAAE;AAAb,SAAjB,CAAnC;;AACAtD,QAAAA,IAAI,CAACvH,IAAL,CAAU,QAAV,EAAoByJ,KAAK,IAAI;AAC3BtC,UAAAA,MAAM,CAAC2D,IAAP,CAAY;AACVrB,YAAAA,KADU;AAEVK,YAAAA,QAAQ,EAAE1J,MAAM,CAAC2K,WAAP,CAAmBf,OAAnB;AAFA,WAAZ;AAIAY,UAAAA,SAAS;AACV,SAND;AAOArD,QAAAA,IAAI,CAACC,cAAL,GAAsBS,UAAU,CAAC,MAAM;AACrCpI,UAAAA,KAAK,CAAC,kCAAD,CAAL;AACA0H,UAAAA,IAAI,CAACC,cAAL,GAAsB,IAAtB;AACA,iBAAOiD,IAAI,CAACxE,KAAL,CAAW+D,OAAX,CAAP;AACAzC,UAAAA,IAAI,CAACrD,OAAL;AACD,SAL+B,EAK7B8B,aAL6B,CAAhC;AAMA,YAAIuB,IAAI,CAACC,cAAL,CAAoBjC,KAAxB,EAA+BgC,IAAI,CAACC,cAAL,CAAoBjC,KAApB;AAChC;;AAED,eAASqF,SAAT,GAAsB;AACpB,YAAIzD,MAAM,CAAC5E,MAAP,KAAkB4B,OAAtB,EAA+B;AAC7BtE,UAAAA,KAAK,CAAC,qBAAD,EAAwBsE,OAAxB,CAAL;AACAH,UAAAA,EAAE,CAACmD,MAAD,CAAF;AACD;AACF;AACF;;;WAED,qBAAa1G,IAAb,EAAmB;AACjB,YAAMgK,IAAI,GAAG,IAAb;AAEAhK,MAAAA,IAAI,GAAG8D,MAAM,CAACC,MAAP,CAAc;AACnBwG,QAAAA,OAAO,EAAE,KADU;AAEnBC,QAAAA,MAAM,EAAER,IAAI,CAAC9F,MAAL,CAAY9C,UAFD;AAGnBO,QAAAA,IAAI,EAAEqI,IAAI,CAAC9F,MAAL,CAAYxC;AAHC,OAAd,EAIJ1B,IAJI,CAAP;AAMA,YAAM8G,IAAI,GAAG,IAAIrH,IAAJ,CAASO,IAAT,CAAb;AAEA8G,MAAAA,IAAI,CAACvH,IAAL,CAAU,OAAV,EAAmBkL,OAAnB;AACA3D,MAAAA,IAAI,CAACvH,IAAL,CAAU,SAAV,EAAqBmL,SAArB;AAEA,aAAO5D,IAAP,CAdiB,CAgBjB;AACA;;AACA,eAAS2D,OAAT,CAAkBpI,GAAlB,EAAuB;AACrB2H,QAAAA,IAAI,CAAC9F,MAAL,CAAY5B,IAAZ,CAAiB,SAAjB,EAA4B,IAAIpC,KAAJ,CAAW,qBAAoBmC,GAAG,CAACyH,OAAQ,EAA3C,CAA5B;AACAhD,QAAAA,IAAI,CAACrD,OAAL;AACD,OArBgB,CAuBjB;AACA;;;AACA,eAASiH,SAAT,GAAsB;AACpB5D,QAAAA,IAAI,CAACE,cAAL,CAAoB,OAApB,EAA6ByD,OAA7B;AACA3D,QAAAA,IAAI,CAACE,cAAL,CAAoB,SAApB,EAA+B0D,SAA/B;AACD;AACF;;;;EA7Z4BhG;;AAga/B5E,gBAAgB,CAAC6K,SAAjB,CAA2B/F,yBAA3B,GAAuD,KAAK,IAA5D,EAAiE;AACjE;;AACA9E,gBAAgB,CAAC8K,WAAjB,GAA+BzF,UAA/B;;AAEA,SAASyB,IAAT,GAAiB,CAAE;;AAEnBpC,MAAM,CAACC,OAAP,GAAiB3E,gBAAjB;;;;;;;;;;;AC1bA;AACA;AACA;AAEA2E,8BAAA,GAAiC,EAAjC;AACAA,0BAAA,GAA6B,EAA7B;;AAEAA,mBAAA,GAAsBqG,GAAG,IAAI;AAC3B,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC3BA,IAAAA,GAAG,GAAGC,MAAM,CAACD,GAAD,CAAZ;AACD;;AACD,SAAOpK,MAAM,CAACC,IAAP,CAAYmK,GAAZ,EAAiB,QAAjB,EAA2BtK,QAA3B,CAAoC,KAApC,CAAP;AACD,CALD;;AAOAiE,mBAAA,GAAsBqG,GAAG,IAAI;AAC3B,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC3BA,IAAAA,GAAG,GAAGC,MAAM,CAACD,GAAD,CAAZ;AACD;;AACD,SAAOpK,MAAM,CAACC,IAAP,CAAYmK,GAAZ,EAAiB,KAAjB,EAAwBtK,QAAxB,CAAiC,QAAjC,CAAP;AACD,CALD,EAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAiE,gBAAA,GAAmBqG,GAAG,IAAI;AACxB,QAAM1C,GAAG,GAAG,IAAIN,GAAJ,CAAQgD,GAAG,CAACE,OAAJ,CAAY,OAAZ,EAAqB,OAArB,CAAR,CAAZ;;AAEA,MAAIF,GAAG,CAACG,KAAJ,CAAU,OAAV,CAAJ,EAAwB;AACtBnH,IAAAA,MAAM,CAACoH,gBAAP,CAAwB9C,GAAxB,EAA6B;AAC3B+C,MAAAA,IAAI,EAAE;AAAEC,QAAAA,KAAK,EAAEhD,GAAG,CAAC+C,IAAJ,CAASH,OAAT,CAAiB,OAAjB,EAA0B,KAA1B;AAAT,OADqB;AAE3BtI,MAAAA,QAAQ,EAAE;AAAE0I,QAAAA,KAAK,EAAEhD,GAAG,CAAC1F,QAAJ,CAAasI,OAAb,CAAqB,OAArB,EAA8B,KAA9B;AAAT,OAFiB;AAG3BK,MAAAA,MAAM,EAAE;AAAED,QAAAA,KAAK,EAAEhD,GAAG,CAACiD,MAAJ,CAAWL,OAAX,CAAmB,OAAnB,EAA4B,KAA5B;AAAT;AAHmB,KAA7B;AAKD;;AAED,SAAO5C,GAAP;AACD,CAZD;;AAcA,MAAMoC,MAAM,GAAGnL,mBAAO,CAAC,4BAAD,CAAtB;;AACAyE,MAAM,CAACC,MAAP,CAAcU,OAAd,EAAuB+F,MAAvB;;;;;;;;;;;AChDA,IAAIzF,KAAK,GAAI,YAAW;AACxB;;AAEA,WAASuG,WAAT,CAAqBC,GAArB,EAA0BC,IAA1B,EAAgC;AAC9B,WAAOA,IAAI,IAAI,IAAR,IAAgBD,GAAG,YAAYC,IAAtC;AACD;;AAED,MAAIC,SAAJ;;AACA,MAAI;AACFA,IAAAA,SAAS,GAAGC,GAAZ;AACD,GAFD,CAEE,OAAMC,CAAN,EAAS;AACT;AACA;AACAF,IAAAA,SAAS,GAAG,YAAW,CAAE,CAAzB;AACD;;AAED,MAAIG,SAAJ;;AACA,MAAI;AACFA,IAAAA,SAAS,GAAG3J,GAAZ;AACD,GAFD,CAEE,OAAM0J,CAAN,EAAS;AACTC,IAAAA,SAAS,GAAG,YAAW,CAAE,CAAzB;AACD;;AAED,MAAIC,aAAJ;;AACA,MAAI;AACFA,IAAAA,aAAa,GAAGC,OAAhB;AACD,GAFD,CAEE,OAAMH,CAAN,EAAS;AACTE,IAAAA,aAAa,GAAG,YAAW,CAAE,CAA7B;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,WAAS9G,KAAT,CAAegH,MAAf,EAAuBC,QAAvB,EAAiCC,KAAjC,EAAwCtB,SAAxC,EAAmDuB,oBAAnD,EAAyE;AACvE,QAAI,OAAOF,QAAP,KAAoB,QAAxB,EAAkC;AAChCC,MAAAA,KAAK,GAAGD,QAAQ,CAACC,KAAjB;AACAtB,MAAAA,SAAS,GAAGqB,QAAQ,CAACrB,SAArB;AACAuB,MAAAA,oBAAoB,GAAGF,QAAQ,CAACE,oBAAhC;AACAF,MAAAA,QAAQ,GAAGA,QAAQ,CAACA,QAApB;AACD,KANsE,CAOvE;AACA;;;AACA,QAAIG,UAAU,GAAG,EAAjB;AACA,QAAIC,WAAW,GAAG,EAAlB;AAEA,QAAIC,SAAS,GAAG,OAAO3L,MAAP,IAAiB,WAAjC;AAEA,QAAI,OAAOsL,QAAP,IAAmB,WAAvB,EACEA,QAAQ,GAAG,IAAX;AAEF,QAAI,OAAOC,KAAP,IAAgB,WAApB,EACEA,KAAK,GAAGK,QAAR,CAlBqE,CAoBvE;;AACA,aAASC,MAAT,CAAgBR,MAAhB,EAAwBE,KAAxB,EAA+B;AAC7B;AACA,UAAIF,MAAM,KAAK,IAAf,EACE,OAAO,IAAP;AAEF,UAAIE,KAAK,KAAK,CAAd,EACE,OAAOF,MAAP;AAEF,UAAIS,KAAJ;AACA,UAAIC,KAAJ;;AACA,UAAI,OAAOV,MAAP,IAAiB,QAArB,EAA+B;AAC7B,eAAOA,MAAP;AACD;;AAED,UAAIT,WAAW,CAACS,MAAD,EAASN,SAAT,CAAf,EAAoC;AAClCe,QAAAA,KAAK,GAAG,IAAIf,SAAJ,EAAR;AACD,OAFD,MAEO,IAAIH,WAAW,CAACS,MAAD,EAASH,SAAT,CAAf,EAAoC;AACzCY,QAAAA,KAAK,GAAG,IAAIZ,SAAJ,EAAR;AACD,OAFM,MAEA,IAAIN,WAAW,CAACS,MAAD,EAASF,aAAT,CAAf,EAAwC;AAC7CW,QAAAA,KAAK,GAAG,IAAIX,aAAJ,CAAkB,UAAUa,OAAV,EAAmBC,MAAnB,EAA2B;AACnDZ,UAAAA,MAAM,CAACa,IAAP,CAAY,UAASxB,KAAT,EAAgB;AAC1BsB,YAAAA,OAAO,CAACH,MAAM,CAACnB,KAAD,EAAQa,KAAK,GAAG,CAAhB,CAAP,CAAP;AACD,WAFD,EAEG,UAAS5J,GAAT,EAAc;AACfsK,YAAAA,MAAM,CAACJ,MAAM,CAAClK,GAAD,EAAM4J,KAAK,GAAG,CAAd,CAAP,CAAN;AACD,WAJD;AAKD,SANO,CAAR;AAOD,OARM,MAQA,IAAIlH,KAAK,CAAC8H,SAAN,CAAgBd,MAAhB,CAAJ,EAA6B;AAClCS,QAAAA,KAAK,GAAG,EAAR;AACD,OAFM,MAEA,IAAIzH,KAAK,CAAC+H,UAAN,CAAiBf,MAAjB,CAAJ,EAA8B;AACnCS,QAAAA,KAAK,GAAG,IAAIO,MAAJ,CAAWhB,MAAM,CAACiB,MAAlB,EAA0BC,gBAAgB,CAAClB,MAAD,CAA1C,CAAR;AACA,YAAIA,MAAM,CAACmB,SAAX,EAAsBV,KAAK,CAACU,SAAN,GAAkBnB,MAAM,CAACmB,SAAzB;AACvB,OAHM,MAGA,IAAInI,KAAK,CAACoI,QAAN,CAAepB,MAAf,CAAJ,EAA4B;AACjCS,QAAAA,KAAK,GAAG,IAAIY,IAAJ,CAASrB,MAAM,CAACsB,OAAP,EAAT,CAAR;AACD,OAFM,MAEA,IAAIhB,SAAS,IAAI3L,MAAM,CAAC4M,QAAP,CAAgBvB,MAAhB,CAAjB,EAA0C;AAC/C,YAAIrL,MAAM,CAAC6M,WAAX,EAAwB;AACtB;AACAf,UAAAA,KAAK,GAAG9L,MAAM,CAAC6M,WAAP,CAAmBxB,MAAM,CAACjK,MAA1B,CAAR;AACD,SAHD,MAGO;AACL;AACA0K,UAAAA,KAAK,GAAG,IAAI9L,MAAJ,CAAWqL,MAAM,CAACjK,MAAlB,CAAR;AACD;;AACDiK,QAAAA,MAAM,CAACyB,IAAP,CAAYhB,KAAZ;AACA,eAAOA,KAAP;AACD,OAVM,MAUA,IAAIlB,WAAW,CAACS,MAAD,EAAS7L,KAAT,CAAf,EAAgC;AACrCsM,QAAAA,KAAK,GAAG1I,MAAM,CAAC2J,MAAP,CAAc1B,MAAd,CAAR;AACD,OAFM,MAEA;AACL,YAAI,OAAOpB,SAAP,IAAoB,WAAxB,EAAqC;AACnC8B,UAAAA,KAAK,GAAG3I,MAAM,CAAC4J,cAAP,CAAsB3B,MAAtB,CAAR;AACAS,UAAAA,KAAK,GAAG1I,MAAM,CAAC2J,MAAP,CAAchB,KAAd,CAAR;AACD,SAHD,MAIK;AACHD,UAAAA,KAAK,GAAG1I,MAAM,CAAC2J,MAAP,CAAc9C,SAAd,CAAR;AACA8B,UAAAA,KAAK,GAAG9B,SAAR;AACD;AACF;;AAED,UAAIqB,QAAJ,EAAc;AACZ,YAAI2B,KAAK,GAAGxB,UAAU,CAACyB,OAAX,CAAmB7B,MAAnB,CAAZ;;AAEA,YAAI4B,KAAK,IAAI,CAAC,CAAd,EAAiB;AACf,iBAAOvB,WAAW,CAACuB,KAAD,CAAlB;AACD;;AACDxB,QAAAA,UAAU,CAAC9B,IAAX,CAAgB0B,MAAhB;AACAK,QAAAA,WAAW,CAAC/B,IAAZ,CAAiBmC,KAAjB;AACD;;AAED,UAAIlB,WAAW,CAACS,MAAD,EAASN,SAAT,CAAf,EAAoC;AAClCM,QAAAA,MAAM,CAAC7I,OAAP,CAAe,UAASkI,KAAT,EAAgByC,GAAhB,EAAqB;AAClC,cAAIC,QAAQ,GAAGvB,MAAM,CAACsB,GAAD,EAAM5B,KAAK,GAAG,CAAd,CAArB;;AACA,cAAI8B,UAAU,GAAGxB,MAAM,CAACnB,KAAD,EAAQa,KAAK,GAAG,CAAhB,CAAvB;;AACAO,UAAAA,KAAK,CAACwB,GAAN,CAAUF,QAAV,EAAoBC,UAApB;AACD,SAJD;AAKD;;AACD,UAAIzC,WAAW,CAACS,MAAD,EAASH,SAAT,CAAf,EAAoC;AAClCG,QAAAA,MAAM,CAAC7I,OAAP,CAAe,UAASkI,KAAT,EAAgB;AAC7B,cAAI6C,UAAU,GAAG1B,MAAM,CAACnB,KAAD,EAAQa,KAAK,GAAG,CAAhB,CAAvB;;AACAO,UAAAA,KAAK,CAAC0B,GAAN,CAAUD,UAAV;AACD,SAHD;AAID;;AAED,WAAK,IAAIhE,CAAT,IAAc8B,MAAd,EAAsB;AACpB,YAAIoC,KAAJ;;AACA,YAAI1B,KAAJ,EAAW;AACT0B,UAAAA,KAAK,GAAGrK,MAAM,CAACsK,wBAAP,CAAgC3B,KAAhC,EAAuCxC,CAAvC,CAAR;AACD;;AAED,YAAIkE,KAAK,IAAIA,KAAK,CAACH,GAAN,IAAa,IAA1B,EAAgC;AAC9B;AACD;;AACDxB,QAAAA,KAAK,CAACvC,CAAD,CAAL,GAAWsC,MAAM,CAACR,MAAM,CAAC9B,CAAD,CAAP,EAAYgC,KAAK,GAAG,CAApB,CAAjB;AACD;;AAED,UAAInI,MAAM,CAACuK,qBAAX,EAAkC;AAChC,YAAIC,OAAO,GAAGxK,MAAM,CAACuK,qBAAP,CAA6BtC,MAA7B,CAAd;;AACA,aAAK,IAAI9B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqE,OAAO,CAACxM,MAA5B,EAAoCmI,CAAC,EAArC,EAAyC;AACvC;AACA;AACA,cAAIsE,MAAM,GAAGD,OAAO,CAACrE,CAAD,CAApB;AACA,cAAIuE,UAAU,GAAG1K,MAAM,CAACsK,wBAAP,CAAgCrC,MAAhC,EAAwCwC,MAAxC,CAAjB;;AACA,cAAIC,UAAU,IAAI,CAACA,UAAU,CAACC,UAA1B,IAAwC,CAACvC,oBAA7C,EAAmE;AACjE;AACD;;AACDM,UAAAA,KAAK,CAAC+B,MAAD,CAAL,GAAgBhC,MAAM,CAACR,MAAM,CAACwC,MAAD,CAAP,EAAiBtC,KAAK,GAAG,CAAzB,CAAtB;;AACA,cAAI,CAACuC,UAAU,CAACC,UAAhB,EAA4B;AAC1B3K,YAAAA,MAAM,CAAC4K,cAAP,CAAsBlC,KAAtB,EAA6B+B,MAA7B,EAAqC;AACnCE,cAAAA,UAAU,EAAE;AADuB,aAArC;AAGD;AACF;AACF;;AAED,UAAIvC,oBAAJ,EAA0B;AACxB,YAAIyC,gBAAgB,GAAG7K,MAAM,CAAC8K,mBAAP,CAA2B7C,MAA3B,CAAvB;;AACA,aAAK,IAAI9B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0E,gBAAgB,CAAC7M,MAArC,EAA6CmI,CAAC,EAA9C,EAAkD;AAChD,cAAI4E,YAAY,GAAGF,gBAAgB,CAAC1E,CAAD,CAAnC;AACA,cAAIuE,UAAU,GAAG1K,MAAM,CAACsK,wBAAP,CAAgCrC,MAAhC,EAAwC8C,YAAxC,CAAjB;;AACA,cAAIL,UAAU,IAAIA,UAAU,CAACC,UAA7B,EAAyC;AACvC;AACD;;AACDjC,UAAAA,KAAK,CAACqC,YAAD,CAAL,GAAsBtC,MAAM,CAACR,MAAM,CAAC8C,YAAD,CAAP,EAAuB5C,KAAK,GAAG,CAA/B,CAA5B;AACAnI,UAAAA,MAAM,CAAC4K,cAAP,CAAsBlC,KAAtB,EAA6BqC,YAA7B,EAA2C;AACzCJ,YAAAA,UAAU,EAAE;AAD6B,WAA3C;AAGD;AACF;;AAED,aAAOjC,KAAP;AACD;;AAED,WAAOD,MAAM,CAACR,MAAD,EAASE,KAAT,CAAb;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAlH,EAAAA,KAAK,CAAC+J,cAAN,GAAuB,SAASA,cAAT,CAAwB/C,MAAxB,EAAgC;AACrD,QAAIA,MAAM,KAAK,IAAf,EACE,OAAO,IAAP;;AAEF,QAAIgD,CAAC,GAAG,YAAY,CAAE,CAAtB;;AACAA,IAAAA,CAAC,CAACpE,SAAF,GAAcoB,MAAd;AACA,WAAO,IAAIgD,CAAJ,EAAP;AACD,GAPD,CAnNwB,CA4NxB;;;AAEA,WAASC,UAAT,CAAoBC,CAApB,EAAuB;AACrB,WAAOnL,MAAM,CAAC6G,SAAP,CAAiBnK,QAAjB,CAA0B0O,IAA1B,CAA+BD,CAA/B,CAAP;AACD;;AACDlK,EAAAA,KAAK,CAACiK,UAAN,GAAmBA,UAAnB;;AAEA,WAAS7B,QAAT,CAAkB8B,CAAlB,EAAqB;AACnB,WAAO,OAAOA,CAAP,KAAa,QAAb,IAAyBD,UAAU,CAACC,CAAD,CAAV,KAAkB,eAAlD;AACD;;AACDlK,EAAAA,KAAK,CAACoI,QAAN,GAAiBA,QAAjB;;AAEA,WAASN,SAAT,CAAmBoC,CAAnB,EAAsB;AACpB,WAAO,OAAOA,CAAP,KAAa,QAAb,IAAyBD,UAAU,CAACC,CAAD,CAAV,KAAkB,gBAAlD;AACD;;AACDlK,EAAAA,KAAK,CAAC8H,SAAN,GAAkBA,SAAlB;;AAEA,WAASC,UAAT,CAAoBmC,CAApB,EAAuB;AACrB,WAAO,OAAOA,CAAP,KAAa,QAAb,IAAyBD,UAAU,CAACC,CAAD,CAAV,KAAkB,iBAAlD;AACD;;AACDlK,EAAAA,KAAK,CAAC+H,UAAN,GAAmBA,UAAnB;;AAEA,WAASG,gBAAT,CAA0BkC,EAA1B,EAA8B;AAC5B,QAAIC,KAAK,GAAG,EAAZ;AACA,QAAID,EAAE,CAACE,MAAP,EAAeD,KAAK,IAAI,GAAT;AACf,QAAID,EAAE,CAACG,UAAP,EAAmBF,KAAK,IAAI,GAAT;AACnB,QAAID,EAAE,CAACI,SAAP,EAAkBH,KAAK,IAAI,GAAT;AAClB,WAAOA,KAAP;AACD;;AACDrK,EAAAA,KAAK,CAACkI,gBAAN,GAAyBA,gBAAzB;AAEA,SAAOlI,KAAP;AACC,CA5PW,EAAZ;;AA8PA,IAAI,SAA8BP,MAAM,CAACC,OAAzC,EAAkD;AAChDD,EAAAA,MAAM,CAACC,OAAP,GAAiBM,KAAjB;AACD;;;;;;;;;;;AChQD;;AAEA;AACA;AACA;AAEAN,kBAAA,GAAqB+K,UAArB;AACA/K,YAAA,GAAegL,IAAf;AACAhL,YAAA,GAAeiL,IAAf;AACAjL,iBAAA,GAAoBkL,SAApB;AACAlL,eAAA,GAAkBoL,YAAY,EAA9B;;AACApL,eAAA,GAAkB,CAAC,MAAM;AACxB,MAAIqL,MAAM,GAAG,KAAb;AAEA,SAAO,MAAM;AACZ,QAAI,CAACA,MAAL,EAAa;AACZA,MAAAA,MAAM,GAAG,IAAT;AACAC,MAAAA,OAAO,CAACC,IAAR,CAAa,uIAAb;AACA;AACD,GALD;AAMA,CATiB,GAAlB;AAWA;AACA;AACA;;;AAEAvL,cAAA,GAAiB,CAChB,SADgB,EAEhB,SAFgB,EAGhB,SAHgB,EAIhB,SAJgB,EAKhB,SALgB,EAMhB,SANgB,EAOhB,SAPgB,EAQhB,SARgB,EAShB,SATgB,EAUhB,SAVgB,EAWhB,SAXgB,EAYhB,SAZgB,EAahB,SAbgB,EAchB,SAdgB,EAehB,SAfgB,EAgBhB,SAhBgB,EAiBhB,SAjBgB,EAkBhB,SAlBgB,EAmBhB,SAnBgB,EAoBhB,SApBgB,EAqBhB,SArBgB,EAsBhB,SAtBgB,EAuBhB,SAvBgB,EAwBhB,SAxBgB,EAyBhB,SAzBgB,EA0BhB,SA1BgB,EA2BhB,SA3BgB,EA4BhB,SA5BgB,EA6BhB,SA7BgB,EA8BhB,SA9BgB,EA+BhB,SA/BgB,EAgChB,SAhCgB,EAiChB,SAjCgB,EAkChB,SAlCgB,EAmChB,SAnCgB,EAoChB,SApCgB,EAqChB,SArCgB,EAsChB,SAtCgB,EAuChB,SAvCgB,EAwChB,SAxCgB,EAyChB,SAzCgB,EA0ChB,SA1CgB,EA2ChB,SA3CgB,EA4ChB,SA5CgB,EA6ChB,SA7CgB,EA8ChB,SA9CgB,EA+ChB,SA/CgB,EAgDhB,SAhDgB,EAiDhB,SAjDgB,EAkDhB,SAlDgB,EAmDhB,SAnDgB,EAoDhB,SApDgB,EAqDhB,SArDgB,EAsDhB,SAtDgB,EAuDhB,SAvDgB,EAwDhB,SAxDgB,EAyDhB,SAzDgB,EA0DhB,SA1DgB,EA2DhB,SA3DgB,EA4DhB,SA5DgB,EA6DhB,SA7DgB,EA8DhB,SA9DgB,EA+DhB,SA/DgB,EAgEhB,SAhEgB,EAiEhB,SAjEgB,EAkEhB,SAlEgB,EAmEhB,SAnEgB,EAoEhB,SApEgB,EAqEhB,SArEgB,EAsEhB,SAtEgB,EAuEhB,SAvEgB,EAwEhB,SAxEgB,EAyEhB,SAzEgB,EA0EhB,SA1EgB,EA2EhB,SA3EgB,EA4EhB,SA5EgB,CAAjB;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,SAASkL,SAAT,GAAqB;AACpB;AACA;AACA;AACA,MAAI,OAAOhN,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACtC,OAAxC,KAAoDsC,MAAM,CAACtC,OAAP,CAAemL,IAAf,KAAwB,UAAxB,IAAsC7I,MAAM,CAACtC,OAAP,CAAe6P,MAAzG,CAAJ,EAAsH;AACrH,WAAO,IAAP;AACA,GANmB,CAQpB;;;AACA,MAAI,OAAOC,SAAP,KAAqB,WAArB,IAAoCA,SAAS,CAAC5O,SAA9C,IAA2D4O,SAAS,CAAC5O,SAAV,CAAoBV,WAApB,GAAkCoK,KAAlC,CAAwC,uBAAxC,CAA/D,EAAiI;AAChI,WAAO,KAAP;AACA,GAXmB,CAapB;AACA;;;AACA,SAAQ,OAAOmF,QAAP,KAAoB,WAApB,IAAmCA,QAAQ,CAACC,eAA5C,IAA+DD,QAAQ,CAACC,eAAT,CAAyBC,KAAxF,IAAiGF,QAAQ,CAACC,eAAT,CAAyBC,KAAzB,CAA+BC,gBAAjI,IACN;AACC,SAAO5N,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACoN,OAAxC,KAAoDpN,MAAM,CAACoN,OAAP,CAAeS,OAAf,IAA2B7N,MAAM,CAACoN,OAAP,CAAeU,SAAf,IAA4B9N,MAAM,CAACoN,OAAP,CAAeW,KAA1H,CAFK,IAGN;AACA;AACC,SAAOP,SAAP,KAAqB,WAArB,IAAoCA,SAAS,CAAC5O,SAA9C,IAA2D4O,SAAS,CAAC5O,SAAV,CAAoBV,WAApB,GAAkCoK,KAAlC,CAAwC,gBAAxC,CAA3D,IAAwH0F,QAAQ,CAAC5D,MAAM,CAAC6D,EAAR,EAAY,EAAZ,CAAR,IAA2B,EAL9I,IAMN;AACC,SAAOT,SAAP,KAAqB,WAArB,IAAoCA,SAAS,CAAC5O,SAA9C,IAA2D4O,SAAS,CAAC5O,SAAV,CAAoBV,WAApB,GAAkCoK,KAAlC,CAAwC,oBAAxC,CAP7D;AAQA;AAED;AACA;AACA;AACA;AACA;;;AAEA,SAASuE,UAAT,CAAoBqB,IAApB,EAA0B;AACzBA,EAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAC,KAAKlB,SAAL,GAAiB,IAAjB,GAAwB,EAAzB,IACT,KAAKmB,SADI,IAER,KAAKnB,SAAL,GAAiB,KAAjB,GAAyB,GAFjB,IAGTkB,IAAI,CAAC,CAAD,CAHK,IAIR,KAAKlB,SAAL,GAAiB,KAAjB,GAAyB,GAJjB,IAKT,GALS,GAKHnL,MAAM,CAACC,OAAP,CAAesM,QAAf,CAAwB,KAAKC,IAA7B,CALP;;AAOA,MAAI,CAAC,KAAKrB,SAAV,EAAqB;AACpB;AACA;;AAED,QAAMZ,CAAC,GAAG,YAAY,KAAKkC,KAA3B;AACAJ,EAAAA,IAAI,CAACK,MAAL,CAAY,CAAZ,EAAe,CAAf,EAAkBnC,CAAlB,EAAqB,gBAArB,EAbyB,CAezB;AACA;AACA;;AACA,MAAIpB,KAAK,GAAG,CAAZ;AACA,MAAIwD,KAAK,GAAG,CAAZ;AACAN,EAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQ7F,OAAR,CAAgB,aAAhB,EAA+BC,KAAK,IAAI;AACvC,QAAIA,KAAK,KAAK,IAAd,EAAoB;AACnB;AACA;;AACD0C,IAAAA,KAAK;;AACL,QAAI1C,KAAK,KAAK,IAAd,EAAoB;AACnB;AACA;AACAkG,MAAAA,KAAK,GAAGxD,KAAR;AACA;AACD,GAVD;AAYAkD,EAAAA,IAAI,CAACK,MAAL,CAAYC,KAAZ,EAAmB,CAAnB,EAAsBpC,CAAtB;AACA;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAtK,WAAA,GAAcsL,OAAO,CAAC3Q,KAAR,IAAiB2Q,OAAO,CAACqB,GAAzB,KAAiC,MAAM,CAAE,CAAzC,CAAd;AAEA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS3B,IAAT,CAAc4B,UAAd,EAA0B;AACzB,MAAI;AACH,QAAIA,UAAJ,EAAgB;AACf5M,MAAAA,OAAO,CAACmL,OAAR,CAAgB0B,OAAhB,CAAwB,OAAxB,EAAiCD,UAAjC;AACA,KAFD,MAEO;AACN5M,MAAAA,OAAO,CAACmL,OAAR,CAAgB2B,UAAhB,CAA2B,OAA3B;AACA;AACD,GAND,CAME,OAAOC,KAAP,EAAc,CACf;AACA;AACA;AACD;AAED;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS9B,IAAT,GAAgB;AACf,MAAI+B,CAAJ;;AACA,MAAI;AACHA,IAAAA,CAAC,GAAGhN,OAAO,CAACmL,OAAR,CAAgB8B,OAAhB,CAAwB,OAAxB,CAAJ;AACA,GAFD,CAEE,OAAOF,KAAP,EAAc,CACf;AACA;AACA,GAPc,CASf;;;AACA,MAAI,CAACC,CAAD,IAAM,OAAOpR,OAAP,KAAmB,WAAzB,IAAwC,SAASA,OAArD,EAA8D;AAC7DoR,IAAAA,CAAC,GAAGpR,OAAO,CAACsR,GAAR,CAAYC,KAAhB;AACA;;AAED,SAAOH,CAAP;AACA;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,SAAS5B,YAAT,GAAwB;AACvB,MAAI;AACH;AACA;AACA,WAAOgC,YAAP;AACA,GAJD,CAIE,OAAOL,KAAP,EAAc,CACf;AACA;AACA;AACD;;AAEDhN,MAAM,CAACC,OAAP,GAAiBpF,mBAAO,CAAC,oDAAD,CAAP,CAAoBoF,OAApB,CAAjB;AAEA,MAAM;AAACqN,EAAAA;AAAD,IAAetN,MAAM,CAACC,OAA5B;AAEA;AACA;AACA;;AAEAqN,UAAU,CAACC,CAAX,GAAe,UAAUC,CAAV,EAAa;AAC3B,MAAI;AACH,WAAO3J,IAAI,CAACK,SAAL,CAAesJ,CAAf,CAAP;AACA,GAFD,CAEE,OAAOR,KAAP,EAAc;AACf,WAAO,iCAAiCA,KAAK,CAAC1H,OAA9C;AACA;AACD,CAND;;;;;;;;;;;;;;;;;;;;;;ACrQA;AACA;AACA;AACA;AAEA,SAASmI,KAAT,CAAeN,GAAf,EAAoB;AACnBO,EAAAA,WAAW,CAAC9S,KAAZ,GAAoB8S,WAApB;AACAA,EAAAA,WAAW,CAACC,OAAZ,GAAsBD,WAAtB;AACAA,EAAAA,WAAW,CAACE,MAAZ,GAAqBA,MAArB;AACAF,EAAAA,WAAW,CAACG,OAAZ,GAAsBA,OAAtB;AACAH,EAAAA,WAAW,CAACI,MAAZ,GAAqBA,MAArB;AACAJ,EAAAA,WAAW,CAACK,OAAZ,GAAsBA,OAAtB;AACAL,EAAAA,WAAW,CAACnB,QAAZ,GAAuB1R,mBAAO,CAAC,sCAAD,CAA9B;AACA6S,EAAAA,WAAW,CAACzO,OAAZ,GAAsBA,OAAtB;AAEAK,EAAAA,MAAM,CAACS,IAAP,CAAYoN,GAAZ,EAAiBzO,OAAjB,CAAyB2K,GAAG,IAAI;AAC/BqE,IAAAA,WAAW,CAACrE,GAAD,CAAX,GAAmB8D,GAAG,CAAC9D,GAAD,CAAtB;AACA,GAFD;AAIA;AACD;AACA;;AAECqE,EAAAA,WAAW,CAACM,KAAZ,GAAoB,EAApB;AACAN,EAAAA,WAAW,CAACO,KAAZ,GAAoB,EAApB;AAEA;AACD;AACA;AACA;AACA;;AACCP,EAAAA,WAAW,CAACJ,UAAZ,GAAyB,EAAzB;AAEA;AACD;AACA;AACA;AACA;AACA;;AACC,WAASY,WAAT,CAAqB5B,SAArB,EAAgC;AAC/B,QAAI6B,IAAI,GAAG,CAAX;;AAEA,SAAK,IAAI1I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6G,SAAS,CAAChP,MAA9B,EAAsCmI,CAAC,EAAvC,EAA2C;AAC1C0I,MAAAA,IAAI,GAAI,CAACA,IAAI,IAAI,CAAT,IAAcA,IAAf,GAAuB7B,SAAS,CAAC8B,UAAV,CAAqB3I,CAArB,CAA9B;AACA0I,MAAAA,IAAI,IAAI,CAAR,CAF0C,CAE/B;AACX;;AAED,WAAOT,WAAW,CAACjC,MAAZ,CAAmB1J,IAAI,CAACsM,GAAL,CAASF,IAAT,IAAiBT,WAAW,CAACjC,MAAZ,CAAmBnO,MAAvD,CAAP;AACA;;AACDoQ,EAAAA,WAAW,CAACQ,WAAZ,GAA0BA,WAA1B;AAEA;AACD;AACA;AACA;AACA;AACA;AACA;;AACC,WAASR,WAAT,CAAqBpB,SAArB,EAAgC;AAC/B,QAAIgC,QAAJ;AACA,QAAIC,cAAc,GAAG,IAArB;;AAEA,aAAS3T,KAAT,GAAwB;AAAA,wCAANyR,IAAM;AAANA,QAAAA,IAAM;AAAA;;AACvB;AACA,UAAI,CAACzR,KAAK,CAACmT,OAAX,EAAoB;AACnB;AACA;;AAED,YAAMvI,IAAI,GAAG5K,KAAb,CANuB,CAQvB;;AACA,YAAM4T,IAAI,GAAGC,MAAM,CAAC,IAAI7F,IAAJ,EAAD,CAAnB;AACA,YAAM1D,EAAE,GAAGsJ,IAAI,IAAIF,QAAQ,IAAIE,IAAhB,CAAf;AACAhJ,MAAAA,IAAI,CAACgH,IAAL,GAAYtH,EAAZ;AACAM,MAAAA,IAAI,CAACkJ,IAAL,GAAYJ,QAAZ;AACA9I,MAAAA,IAAI,CAACgJ,IAAL,GAAYA,IAAZ;AACAF,MAAAA,QAAQ,GAAGE,IAAX;AAEAnC,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUqB,WAAW,CAACE,MAAZ,CAAmBvB,IAAI,CAAC,CAAD,CAAvB,CAAV;;AAEA,UAAI,OAAOA,IAAI,CAAC,CAAD,CAAX,KAAmB,QAAvB,EAAiC;AAChC;AACAA,QAAAA,IAAI,CAACsC,OAAL,CAAa,IAAb;AACA,OArBsB,CAuBvB;;;AACA,UAAIxF,KAAK,GAAG,CAAZ;AACAkD,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUA,IAAI,CAAC,CAAD,CAAJ,CAAQ7F,OAAR,CAAgB,eAAhB,EAAiC,CAACC,KAAD,EAAQmI,MAAR,KAAmB;AAC7D;AACA,YAAInI,KAAK,KAAK,IAAd,EAAoB;AACnB,iBAAO,GAAP;AACA;;AACD0C,QAAAA,KAAK;AACL,cAAM0F,SAAS,GAAGnB,WAAW,CAACJ,UAAZ,CAAuBsB,MAAvB,CAAlB;;AACA,YAAI,OAAOC,SAAP,KAAqB,UAAzB,EAAqC;AACpC,gBAAMC,GAAG,GAAGzC,IAAI,CAAClD,KAAD,CAAhB;AACA1C,UAAAA,KAAK,GAAGoI,SAAS,CAACnE,IAAV,CAAelF,IAAf,EAAqBsJ,GAArB,CAAR,CAFoC,CAIpC;;AACAzC,UAAAA,IAAI,CAACK,MAAL,CAAYvD,KAAZ,EAAmB,CAAnB;AACAA,UAAAA,KAAK;AACL;;AACD,eAAO1C,KAAP;AACA,OAhBS,CAAV,CAzBuB,CA2CvB;;AACAiH,MAAAA,WAAW,CAAC1C,UAAZ,CAAuBN,IAAvB,CAA4BlF,IAA5B,EAAkC6G,IAAlC;AAEA,YAAM0C,KAAK,GAAGvJ,IAAI,CAACoH,GAAL,IAAYc,WAAW,CAACd,GAAtC;AACAmC,MAAAA,KAAK,CAACC,KAAN,CAAYxJ,IAAZ,EAAkB6G,IAAlB;AACA;;AAEDzR,IAAAA,KAAK,CAAC0R,SAAN,GAAkBA,SAAlB;AACA1R,IAAAA,KAAK,CAACuQ,SAAN,GAAkBuC,WAAW,CAACvC,SAAZ,EAAlB;AACAvQ,IAAAA,KAAK,CAAC6R,KAAN,GAAciB,WAAW,CAACQ,WAAZ,CAAwB5B,SAAxB,CAAd;AACA1R,IAAAA,KAAK,CAACqU,MAAN,GAAeA,MAAf;AACArU,IAAAA,KAAK,CAACqE,OAAN,GAAgByO,WAAW,CAACzO,OAA5B,CA1D+B,CA0DM;;AAErCK,IAAAA,MAAM,CAAC4K,cAAP,CAAsBtP,KAAtB,EAA6B,SAA7B,EAAwC;AACvCqP,MAAAA,UAAU,EAAE,IAD2B;AAEvCiF,MAAAA,YAAY,EAAE,KAFyB;AAGvCC,MAAAA,GAAG,EAAE,MAAMZ,cAAc,KAAK,IAAnB,GAA0Bb,WAAW,CAACK,OAAZ,CAAoBzB,SAApB,CAA1B,GAA2DiC,cAH/B;AAIvC/E,MAAAA,GAAG,EAAEgE,CAAC,IAAI;AACTe,QAAAA,cAAc,GAAGf,CAAjB;AACA;AANsC,KAAxC,EA5D+B,CAqE/B;;AACA,QAAI,OAAOE,WAAW,CAAC0B,IAAnB,KAA4B,UAAhC,EAA4C;AAC3C1B,MAAAA,WAAW,CAAC0B,IAAZ,CAAiBxU,KAAjB;AACA;;AAED,WAAOA,KAAP;AACA;;AAED,WAASqU,MAAT,CAAgB3C,SAAhB,EAA2B+C,SAA3B,EAAsC;AACrC,UAAMC,QAAQ,GAAG5B,WAAW,CAAC,KAAKpB,SAAL,IAAkB,OAAO+C,SAAP,KAAqB,WAArB,GAAmC,GAAnC,GAAyCA,SAA3D,IAAwE/C,SAAzE,CAA5B;AACAgD,IAAAA,QAAQ,CAAC1C,GAAT,GAAe,KAAKA,GAApB;AACA,WAAO0C,QAAP;AACA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;;;AACC,WAASxB,MAAT,CAAgBjB,UAAhB,EAA4B;AAC3Ba,IAAAA,WAAW,CAACzC,IAAZ,CAAiB4B,UAAjB;AAEAa,IAAAA,WAAW,CAACM,KAAZ,GAAoB,EAApB;AACAN,IAAAA,WAAW,CAACO,KAAZ,GAAoB,EAApB;AAEA,QAAIxI,CAAJ;AACA,UAAM8J,KAAK,GAAG,CAAC,OAAO1C,UAAP,KAAsB,QAAtB,GAAiCA,UAAjC,GAA8C,EAA/C,EAAmD0C,KAAnD,CAAyD,QAAzD,CAAd;AACA,UAAM5P,GAAG,GAAG4P,KAAK,CAACjS,MAAlB;;AAEA,SAAKmI,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG9F,GAAhB,EAAqB8F,CAAC,EAAtB,EAA0B;AACzB,UAAI,CAAC8J,KAAK,CAAC9J,CAAD,CAAV,EAAe;AACd;AACA;AACA;;AAEDoH,MAAAA,UAAU,GAAG0C,KAAK,CAAC9J,CAAD,CAAL,CAASe,OAAT,CAAiB,KAAjB,EAAwB,KAAxB,CAAb;;AAEA,UAAIqG,UAAU,CAAC,CAAD,CAAV,KAAkB,GAAtB,EAA2B;AAC1Ba,QAAAA,WAAW,CAACO,KAAZ,CAAkBpI,IAAlB,CAAuB,IAAI0C,MAAJ,CAAW,MAAMsE,UAAU,CAAC2C,MAAX,CAAkB,CAAlB,CAAN,GAA6B,GAAxC,CAAvB;AACA,OAFD,MAEO;AACN9B,QAAAA,WAAW,CAACM,KAAZ,CAAkBnI,IAAlB,CAAuB,IAAI0C,MAAJ,CAAW,MAAMsE,UAAN,GAAmB,GAA9B,CAAvB;AACA;AACD;AACD;AAED;AACD;AACA;AACA;AACA;AACA;;;AACC,WAASgB,OAAT,GAAmB;AAClB,UAAMhB,UAAU,GAAG,6BACfa,WAAW,CAACM,KAAZ,CAAkB5Q,GAAlB,CAAsBqS,WAAtB,CADe,sBAEf/B,WAAW,CAACO,KAAZ,CAAkB7Q,GAAlB,CAAsBqS,WAAtB,EAAmCrS,GAAnC,CAAuCkP,SAAS,IAAI,MAAMA,SAA1D,CAFe,GAGjBoD,IAHiB,CAGZ,GAHY,CAAnB;AAIAhC,IAAAA,WAAW,CAACI,MAAZ,CAAmB,EAAnB;AACA,WAAOjB,UAAP;AACA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;;;AACC,WAASkB,OAAT,CAAiB4B,IAAjB,EAAuB;AACtB,QAAIA,IAAI,CAACA,IAAI,CAACrS,MAAL,GAAc,CAAf,CAAJ,KAA0B,GAA9B,EAAmC;AAClC,aAAO,IAAP;AACA;;AAED,QAAImI,CAAJ;AACA,QAAI9F,GAAJ;;AAEA,SAAK8F,CAAC,GAAG,CAAJ,EAAO9F,GAAG,GAAG+N,WAAW,CAACO,KAAZ,CAAkB3Q,MAApC,EAA4CmI,CAAC,GAAG9F,GAAhD,EAAqD8F,CAAC,EAAtD,EAA0D;AACzD,UAAIiI,WAAW,CAACO,KAAZ,CAAkBxI,CAAlB,EAAqBmK,IAArB,CAA0BD,IAA1B,CAAJ,EAAqC;AACpC,eAAO,KAAP;AACA;AACD;;AAED,SAAKlK,CAAC,GAAG,CAAJ,EAAO9F,GAAG,GAAG+N,WAAW,CAACM,KAAZ,CAAkB1Q,MAApC,EAA4CmI,CAAC,GAAG9F,GAAhD,EAAqD8F,CAAC,EAAtD,EAA0D;AACzD,UAAIiI,WAAW,CAACM,KAAZ,CAAkBvI,CAAlB,EAAqBmK,IAArB,CAA0BD,IAA1B,CAAJ,EAAqC;AACpC,eAAO,IAAP;AACA;AACD;;AAED,WAAO,KAAP;AACA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;;;AACC,WAASF,WAAT,CAAqBI,MAArB,EAA6B;AAC5B,WAAOA,MAAM,CAAC7T,QAAP,GACLuB,SADK,CACK,CADL,EACQsS,MAAM,CAAC7T,QAAP,GAAkBsB,MAAlB,GAA2B,CADnC,EAELkJ,OAFK,CAEG,SAFH,EAEc,GAFd,CAAP;AAGA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;;;AACC,WAASoH,MAAT,CAAgBkB,GAAhB,EAAqB;AACpB,QAAIA,GAAG,YAAYpT,KAAnB,EAA0B;AACzB,aAAOoT,GAAG,CAACgB,KAAJ,IAAahB,GAAG,CAACxJ,OAAxB;AACA;;AACD,WAAOwJ,GAAP;AACA;AAED;AACD;AACA;AACA;;;AACC,WAAS7P,OAAT,GAAmB;AAClBsM,IAAAA,OAAO,CAACC,IAAR,CAAa,uIAAb;AACA;;AAEDkC,EAAAA,WAAW,CAACI,MAAZ,CAAmBJ,WAAW,CAACxC,IAAZ,EAAnB;AAEA,SAAOwC,WAAP;AACA;;AAED1N,MAAM,CAACC,OAAP,GAAiBwN,KAAjB;;;;;;;;;;;ACpQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEa;;AAEb,IAAIsC,CAAC,GAAG,OAAOC,OAAP,KAAmB,QAAnB,GAA8BA,OAA9B,GAAwC,IAAhD;AACA,IAAIC,YAAY,GAAGF,CAAC,IAAI,OAAOA,CAAC,CAACf,KAAT,KAAmB,UAAxB,GACfe,CAAC,CAACf,KADa,GAEf,SAASiB,YAAT,CAAsBC,MAAtB,EAA8BC,QAA9B,EAAwC9D,IAAxC,EAA8C;AAC9C,SAAO+D,QAAQ,CAACjK,SAAT,CAAmB6I,KAAnB,CAAyBtE,IAAzB,CAA8BwF,MAA9B,EAAsCC,QAAtC,EAAgD9D,IAAhD,CAAP;AACD,CAJH;AAMA,IAAIgE,cAAJ;;AACA,IAAIN,CAAC,IAAI,OAAOA,CAAC,CAACO,OAAT,KAAqB,UAA9B,EAA0C;AACxCD,EAAAA,cAAc,GAAGN,CAAC,CAACO,OAAnB;AACD,CAFD,MAEO,IAAIhR,MAAM,CAACuK,qBAAX,EAAkC;AACvCwG,EAAAA,cAAc,GAAG,SAASA,cAAT,CAAwBH,MAAxB,EAAgC;AAC/C,WAAO5Q,MAAM,CAAC8K,mBAAP,CAA2B8F,MAA3B,EACJK,MADI,CACGjR,MAAM,CAACuK,qBAAP,CAA6BqG,MAA7B,CADH,CAAP;AAED,GAHD;AAID,CALM,MAKA;AACLG,EAAAA,cAAc,GAAG,SAASA,cAAT,CAAwBH,MAAxB,EAAgC;AAC/C,WAAO5Q,MAAM,CAAC8K,mBAAP,CAA2B8F,MAA3B,CAAP;AACD,GAFD;AAGD;;AAED,SAASM,kBAAT,CAA4BpM,OAA5B,EAAqC;AACnC,MAAImH,OAAO,IAAIA,OAAO,CAACC,IAAvB,EAA6BD,OAAO,CAACC,IAAR,CAAapH,OAAb;AAC9B;;AAED,IAAIqM,WAAW,GAAGhC,MAAM,CAACiC,KAAP,IAAgB,SAASD,WAAT,CAAqB7J,KAArB,EAA4B;AAC5D,SAAOA,KAAK,KAAKA,KAAjB;AACD,CAFD;;AAIA,SAAS9L,YAAT,GAAwB;AACtBA,EAAAA,YAAY,CAACsU,IAAb,CAAkB1E,IAAlB,CAAuB,IAAvB;AACD;;AACD1K,MAAM,CAACC,OAAP,GAAiBnF,YAAjB;AACAkF,mBAAA,GAAsBjF,IAAtB,EAEA;;AACAD,YAAY,CAACA,YAAb,GAA4BA,YAA5B;AAEAA,YAAY,CAACqL,SAAb,CAAuBwK,OAAvB,GAAiCC,SAAjC;AACA9V,YAAY,CAACqL,SAAb,CAAuB0K,YAAvB,GAAsC,CAAtC;AACA/V,YAAY,CAACqL,SAAb,CAAuB2K,aAAvB,GAAuCF,SAAvC,EAEA;AACA;;AACA,IAAIG,mBAAmB,GAAG,EAA1B;;AAEA,SAASC,aAAT,CAAuBC,QAAvB,EAAiC;AAC/B,MAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClC,UAAM,IAAIC,SAAJ,CAAc,qEAAqE,OAAOD,QAA1F,CAAN;AACD;AACF;;AAED3R,MAAM,CAAC4K,cAAP,CAAsBpP,YAAtB,EAAoC,qBAApC,EAA2D;AACzDmP,EAAAA,UAAU,EAAE,IAD6C;AAEzDkF,EAAAA,GAAG,EAAE,YAAW;AACd,WAAO4B,mBAAP;AACD,GAJwD;AAKzDvH,EAAAA,GAAG,EAAE,UAAS2H,GAAT,EAAc;AACjB,QAAI,OAAOA,GAAP,KAAe,QAAf,IAA2BA,GAAG,GAAG,CAAjC,IAAsCV,WAAW,CAACU,GAAD,CAArD,EAA4D;AAC1D,YAAM,IAAIC,UAAJ,CAAe,oGAAoGD,GAApG,GAA0G,GAAzH,CAAN;AACD;;AACDJ,IAAAA,mBAAmB,GAAGI,GAAtB;AACD;AAVwD,CAA3D;;AAaArW,YAAY,CAACsU,IAAb,GAAoB,YAAW;AAE7B,MAAI,KAAKuB,OAAL,KAAiBC,SAAjB,IACA,KAAKD,OAAL,KAAiBrR,MAAM,CAAC4J,cAAP,CAAsB,IAAtB,EAA4ByH,OADjD,EAC0D;AACxD,SAAKA,OAAL,GAAerR,MAAM,CAAC2J,MAAP,CAAc,IAAd,CAAf;AACA,SAAK4H,YAAL,GAAoB,CAApB;AACD;;AAED,OAAKC,aAAL,GAAqB,KAAKA,aAAL,IAAsBF,SAA3C;AACD,CATD,EAWA;AACA;;;AACA9V,YAAY,CAACqL,SAAb,CAAuBkL,eAAvB,GAAyC,SAASA,eAAT,CAAyBC,CAAzB,EAA4B;AACnE,MAAI,OAAOA,CAAP,KAAa,QAAb,IAAyBA,CAAC,GAAG,CAA7B,IAAkCb,WAAW,CAACa,CAAD,CAAjD,EAAsD;AACpD,UAAM,IAAIF,UAAJ,CAAe,kFAAkFE,CAAlF,GAAsF,GAArG,CAAN;AACD;;AACD,OAAKR,aAAL,GAAqBQ,CAArB;AACA,SAAO,IAAP;AACD,CAND;;AAQA,SAASC,gBAAT,CAA0BC,IAA1B,EAAgC;AAC9B,MAAIA,IAAI,CAACV,aAAL,KAAuBF,SAA3B,EACE,OAAO9V,YAAY,CAACiW,mBAApB;AACF,SAAOS,IAAI,CAACV,aAAZ;AACD;;AAEDhW,YAAY,CAACqL,SAAb,CAAuBsL,eAAvB,GAAyC,SAASA,eAAT,GAA2B;AAClE,SAAOF,gBAAgB,CAAC,IAAD,CAAvB;AACD,CAFD;;AAIAzW,YAAY,CAACqL,SAAb,CAAuBrI,IAAvB,GAA8B,SAASA,IAAT,CAAckJ,IAAd,EAAoB;AAChD,MAAIqF,IAAI,GAAG,EAAX;;AACA,OAAK,IAAI5G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiM,SAAS,CAACpU,MAA9B,EAAsCmI,CAAC,EAAvC,EAA2C4G,IAAI,CAACxG,IAAL,CAAU6L,SAAS,CAACjM,CAAD,CAAnB;;AAC3C,MAAIkM,OAAO,GAAI3K,IAAI,KAAK,OAAxB;AAEA,MAAI4K,MAAM,GAAG,KAAKjB,OAAlB;AACA,MAAIiB,MAAM,KAAKhB,SAAf,EACEe,OAAO,GAAIA,OAAO,IAAIC,MAAM,CAAC5E,KAAP,KAAiB4D,SAAvC,CADF,KAEK,IAAI,CAACe,OAAL,EACH,OAAO,KAAP,CAT8C,CAWhD;;AACA,MAAIA,OAAJ,EAAa;AACX,QAAIE,EAAJ;AACA,QAAIxF,IAAI,CAAC/O,MAAL,GAAc,CAAlB,EACEuU,EAAE,GAAGxF,IAAI,CAAC,CAAD,CAAT;;AACF,QAAIwF,EAAE,YAAYnW,KAAlB,EAAyB;AACvB;AACA;AACA,YAAMmW,EAAN,CAHuB,CAGb;AACX,KARU,CASX;;;AACA,QAAIhU,GAAG,GAAG,IAAInC,KAAJ,CAAU,sBAAsBmW,EAAE,GAAG,OAAOA,EAAE,CAACvM,OAAV,GAAoB,GAAvB,GAA6B,EAArD,CAAV,CAAV;AACAzH,IAAAA,GAAG,CAACiU,OAAJ,GAAcD,EAAd;AACA,UAAMhU,GAAN,CAZW,CAYA;AACZ;;AAED,MAAIkU,OAAO,GAAGH,MAAM,CAAC5K,IAAD,CAApB;AAEA,MAAI+K,OAAO,KAAKnB,SAAhB,EACE,OAAO,KAAP;;AAEF,MAAI,OAAOmB,OAAP,KAAmB,UAAvB,EAAmC;AACjC9B,IAAAA,YAAY,CAAC8B,OAAD,EAAU,IAAV,EAAgB1F,IAAhB,CAAZ;AACD,GAFD,MAEO;AACL,QAAI1M,GAAG,GAAGoS,OAAO,CAACzU,MAAlB;AACA,QAAI0U,SAAS,GAAGC,UAAU,CAACF,OAAD,EAAUpS,GAAV,CAA1B;;AACA,SAAK,IAAI8F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG9F,GAApB,EAAyB,EAAE8F,CAA3B,EACEwK,YAAY,CAAC+B,SAAS,CAACvM,CAAD,CAAV,EAAe,IAAf,EAAqB4G,IAArB,CAAZ;AACH;;AAED,SAAO,IAAP;AACD,CA1CD;;AA4CA,SAAS6F,YAAT,CAAsBhC,MAAtB,EAA8BlJ,IAA9B,EAAoCiK,QAApC,EAA8CkB,OAA9C,EAAuD;AACrD,MAAIC,CAAJ;AACA,MAAIR,MAAJ;AACA,MAAIS,QAAJ;AAEArB,EAAAA,aAAa,CAACC,QAAD,CAAb;AAEAW,EAAAA,MAAM,GAAG1B,MAAM,CAACS,OAAhB;;AACA,MAAIiB,MAAM,KAAKhB,SAAf,EAA0B;AACxBgB,IAAAA,MAAM,GAAG1B,MAAM,CAACS,OAAP,GAAiBrR,MAAM,CAAC2J,MAAP,CAAc,IAAd,CAA1B;AACAiH,IAAAA,MAAM,CAACW,YAAP,GAAsB,CAAtB;AACD,GAHD,MAGO;AACL;AACA;AACA,QAAIe,MAAM,CAACU,WAAP,KAAuB1B,SAA3B,EAAsC;AACpCV,MAAAA,MAAM,CAACpS,IAAP,CAAY,aAAZ,EAA2BkJ,IAA3B,EACYiK,QAAQ,CAACA,QAAT,GAAoBA,QAAQ,CAACA,QAA7B,GAAwCA,QADpD,EADoC,CAIpC;AACA;;AACAW,MAAAA,MAAM,GAAG1B,MAAM,CAACS,OAAhB;AACD;;AACD0B,IAAAA,QAAQ,GAAGT,MAAM,CAAC5K,IAAD,CAAjB;AACD;;AAED,MAAIqL,QAAQ,KAAKzB,SAAjB,EAA4B;AAC1B;AACAyB,IAAAA,QAAQ,GAAGT,MAAM,CAAC5K,IAAD,CAAN,GAAeiK,QAA1B;AACA,MAAEf,MAAM,CAACW,YAAT;AACD,GAJD,MAIO;AACL,QAAI,OAAOwB,QAAP,KAAoB,UAAxB,EAAoC;AAClC;AACAA,MAAAA,QAAQ,GAAGT,MAAM,CAAC5K,IAAD,CAAN,GACTmL,OAAO,GAAG,CAAClB,QAAD,EAAWoB,QAAX,CAAH,GAA0B,CAACA,QAAD,EAAWpB,QAAX,CADnC,CAFkC,CAIlC;AACD,KALD,MAKO,IAAIkB,OAAJ,EAAa;AAClBE,MAAAA,QAAQ,CAAC1D,OAAT,CAAiBsC,QAAjB;AACD,KAFM,MAEA;AACLoB,MAAAA,QAAQ,CAACxM,IAAT,CAAcoL,QAAd;AACD,KAVI,CAYL;;;AACAmB,IAAAA,CAAC,GAAGb,gBAAgB,CAACrB,MAAD,CAApB;;AACA,QAAIkC,CAAC,GAAG,CAAJ,IAASC,QAAQ,CAAC/U,MAAT,GAAkB8U,CAA3B,IAAgC,CAACC,QAAQ,CAAC/G,MAA9C,EAAsD;AACpD+G,MAAAA,QAAQ,CAAC/G,MAAT,GAAkB,IAAlB,CADoD,CAEpD;AACA;;AACA,UAAIiH,CAAC,GAAG,IAAI7W,KAAJ,CAAU,iDACE2W,QAAQ,CAAC/U,MADX,GACoB,GADpB,GAC0BiJ,MAAM,CAACS,IAAD,CADhC,GACyC,aADzC,GAEE,0CAFF,GAGE,gBAHZ,CAAR;AAIAuL,MAAAA,CAAC,CAAC5C,IAAF,GAAS,6BAAT;AACA4C,MAAAA,CAAC,CAACC,OAAF,GAAYtC,MAAZ;AACAqC,MAAAA,CAAC,CAACvL,IAAF,GAASA,IAAT;AACAuL,MAAAA,CAAC,CAACE,KAAF,GAAUJ,QAAQ,CAAC/U,MAAnB;AACAkT,MAAAA,kBAAkB,CAAC+B,CAAD,CAAlB;AACD;AACF;;AAED,SAAOrC,MAAP;AACD;;AAEDpV,YAAY,CAACqL,SAAb,CAAuBuM,WAAvB,GAAqC,SAASA,WAAT,CAAqB1L,IAArB,EAA2BiK,QAA3B,EAAqC;AACxE,SAAOiB,YAAY,CAAC,IAAD,EAAOlL,IAAP,EAAaiK,QAAb,EAAuB,KAAvB,CAAnB;AACD,CAFD;;AAIAnW,YAAY,CAACqL,SAAb,CAAuBtG,EAAvB,GAA4B/E,YAAY,CAACqL,SAAb,CAAuBuM,WAAnD;;AAEA5X,YAAY,CAACqL,SAAb,CAAuBwM,eAAvB,GACI,SAASA,eAAT,CAAyB3L,IAAzB,EAA+BiK,QAA/B,EAAyC;AACvC,SAAOiB,YAAY,CAAC,IAAD,EAAOlL,IAAP,EAAaiK,QAAb,EAAuB,IAAvB,CAAnB;AACD,CAHL;;AAKA,SAAS2B,WAAT,GAAuB;AACrB,MAAI,CAAC,KAAKC,KAAV,EAAiB;AACf,SAAK3C,MAAL,CAAY1N,cAAZ,CAA2B,KAAKwE,IAAhC,EAAsC,KAAK8L,MAA3C;AACA,SAAKD,KAAL,GAAa,IAAb;AACA,QAAInB,SAAS,CAACpU,MAAV,KAAqB,CAAzB,EACE,OAAO,KAAK2T,QAAL,CAAcvG,IAAd,CAAmB,KAAKwF,MAAxB,CAAP;AACF,WAAO,KAAKe,QAAL,CAAcjC,KAAd,CAAoB,KAAKkB,MAAzB,EAAiCwB,SAAjC,CAAP;AACD;AACF;;AAED,SAASqB,SAAT,CAAmB7C,MAAnB,EAA2BlJ,IAA3B,EAAiCiK,QAAjC,EAA2C;AACzC,MAAI+B,KAAK,GAAG;AAAEH,IAAAA,KAAK,EAAE,KAAT;AAAgBC,IAAAA,MAAM,EAAElC,SAAxB;AAAmCV,IAAAA,MAAM,EAAEA,MAA3C;AAAmDlJ,IAAAA,IAAI,EAAEA,IAAzD;AAA+DiK,IAAAA,QAAQ,EAAEA;AAAzE,GAAZ;AACA,MAAIgC,OAAO,GAAGL,WAAW,CAACM,IAAZ,CAAiBF,KAAjB,CAAd;AACAC,EAAAA,OAAO,CAAChC,QAAR,GAAmBA,QAAnB;AACA+B,EAAAA,KAAK,CAACF,MAAN,GAAeG,OAAf;AACA,SAAOA,OAAP;AACD;;AAEDnY,YAAY,CAACqL,SAAb,CAAuBpL,IAAvB,GAA8B,SAASA,IAAT,CAAciM,IAAd,EAAoBiK,QAApB,EAA8B;AAC1DD,EAAAA,aAAa,CAACC,QAAD,CAAb;AACA,OAAKpR,EAAL,CAAQmH,IAAR,EAAc+L,SAAS,CAAC,IAAD,EAAO/L,IAAP,EAAaiK,QAAb,CAAvB;AACA,SAAO,IAAP;AACD,CAJD;;AAMAnW,YAAY,CAACqL,SAAb,CAAuBgN,mBAAvB,GACI,SAASA,mBAAT,CAA6BnM,IAA7B,EAAmCiK,QAAnC,EAA6C;AAC3CD,EAAAA,aAAa,CAACC,QAAD,CAAb;AACA,OAAK0B,eAAL,CAAqB3L,IAArB,EAA2B+L,SAAS,CAAC,IAAD,EAAO/L,IAAP,EAAaiK,QAAb,CAApC;AACA,SAAO,IAAP;AACD,CALL,EAOA;;;AACAnW,YAAY,CAACqL,SAAb,CAAuB3D,cAAvB,GACI,SAASA,cAAT,CAAwBwE,IAAxB,EAA8BiK,QAA9B,EAAwC;AACtC,MAAImC,IAAJ,EAAUxB,MAAV,EAAkByB,QAAlB,EAA4B5N,CAA5B,EAA+B6N,gBAA/B;AAEAtC,EAAAA,aAAa,CAACC,QAAD,CAAb;AAEAW,EAAAA,MAAM,GAAG,KAAKjB,OAAd;AACA,MAAIiB,MAAM,KAAKhB,SAAf,EACE,OAAO,IAAP;AAEFwC,EAAAA,IAAI,GAAGxB,MAAM,CAAC5K,IAAD,CAAb;AACA,MAAIoM,IAAI,KAAKxC,SAAb,EACE,OAAO,IAAP;;AAEF,MAAIwC,IAAI,KAAKnC,QAAT,IAAqBmC,IAAI,CAACnC,QAAL,KAAkBA,QAA3C,EAAqD;AACnD,QAAI,EAAE,KAAKJ,YAAP,KAAwB,CAA5B,EACE,KAAKF,OAAL,GAAerR,MAAM,CAAC2J,MAAP,CAAc,IAAd,CAAf,CADF,KAEK;AACH,aAAO2I,MAAM,CAAC5K,IAAD,CAAb;AACA,UAAI4K,MAAM,CAACpP,cAAX,EACE,KAAK1E,IAAL,CAAU,gBAAV,EAA4BkJ,IAA5B,EAAkCoM,IAAI,CAACnC,QAAL,IAAiBA,QAAnD;AACH;AACF,GARD,MAQO,IAAI,OAAOmC,IAAP,KAAgB,UAApB,EAAgC;AACrCC,IAAAA,QAAQ,GAAG,CAAC,CAAZ;;AAEA,SAAK5N,CAAC,GAAG2N,IAAI,CAAC9V,MAAL,GAAc,CAAvB,EAA0BmI,CAAC,IAAI,CAA/B,EAAkCA,CAAC,EAAnC,EAAuC;AACrC,UAAI2N,IAAI,CAAC3N,CAAD,CAAJ,KAAYwL,QAAZ,IAAwBmC,IAAI,CAAC3N,CAAD,CAAJ,CAAQwL,QAAR,KAAqBA,QAAjD,EAA2D;AACzDqC,QAAAA,gBAAgB,GAAGF,IAAI,CAAC3N,CAAD,CAAJ,CAAQwL,QAA3B;AACAoC,QAAAA,QAAQ,GAAG5N,CAAX;AACA;AACD;AACF;;AAED,QAAI4N,QAAQ,GAAG,CAAf,EACE,OAAO,IAAP;AAEF,QAAIA,QAAQ,KAAK,CAAjB,EACED,IAAI,CAACG,KAAL,GADF,KAEK;AACHC,MAAAA,SAAS,CAACJ,IAAD,EAAOC,QAAP,CAAT;AACD;AAED,QAAID,IAAI,CAAC9V,MAAL,KAAgB,CAApB,EACEsU,MAAM,CAAC5K,IAAD,CAAN,GAAeoM,IAAI,CAAC,CAAD,CAAnB;AAEF,QAAIxB,MAAM,CAACpP,cAAP,KAA0BoO,SAA9B,EACE,KAAK9S,IAAL,CAAU,gBAAV,EAA4BkJ,IAA5B,EAAkCsM,gBAAgB,IAAIrC,QAAtD;AACH;;AAED,SAAO,IAAP;AACD,CAlDL;;AAoDAnW,YAAY,CAACqL,SAAb,CAAuBsN,GAAvB,GAA6B3Y,YAAY,CAACqL,SAAb,CAAuB3D,cAApD;;AAEA1H,YAAY,CAACqL,SAAb,CAAuBuN,kBAAvB,GACI,SAASA,kBAAT,CAA4B1M,IAA5B,EAAkC;AAChC,MAAIgL,SAAJ,EAAeJ,MAAf,EAAuBnM,CAAvB;AAEAmM,EAAAA,MAAM,GAAG,KAAKjB,OAAd;AACA,MAAIiB,MAAM,KAAKhB,SAAf,EACE,OAAO,IAAP,CAL8B,CAOhC;;AACA,MAAIgB,MAAM,CAACpP,cAAP,KAA0BoO,SAA9B,EAAyC;AACvC,QAAIc,SAAS,CAACpU,MAAV,KAAqB,CAAzB,EAA4B;AAC1B,WAAKqT,OAAL,GAAerR,MAAM,CAAC2J,MAAP,CAAc,IAAd,CAAf;AACA,WAAK4H,YAAL,GAAoB,CAApB;AACD,KAHD,MAGO,IAAIe,MAAM,CAAC5K,IAAD,CAAN,KAAiB4J,SAArB,EAAgC;AACrC,UAAI,EAAE,KAAKC,YAAP,KAAwB,CAA5B,EACE,KAAKF,OAAL,GAAerR,MAAM,CAAC2J,MAAP,CAAc,IAAd,CAAf,CADF,KAGE,OAAO2I,MAAM,CAAC5K,IAAD,CAAb;AACH;;AACD,WAAO,IAAP;AACD,GAnB+B,CAqBhC;;;AACA,MAAI0K,SAAS,CAACpU,MAAV,KAAqB,CAAzB,EAA4B;AAC1B,QAAIyC,IAAI,GAAGT,MAAM,CAACS,IAAP,CAAY6R,MAAZ,CAAX;AACA,QAAIvI,GAAJ;;AACA,SAAK5D,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG1F,IAAI,CAACzC,MAArB,EAA6B,EAAEmI,CAA/B,EAAkC;AAChC4D,MAAAA,GAAG,GAAGtJ,IAAI,CAAC0F,CAAD,CAAV;AACA,UAAI4D,GAAG,KAAK,gBAAZ,EAA8B;AAC9B,WAAKqK,kBAAL,CAAwBrK,GAAxB;AACD;;AACD,SAAKqK,kBAAL,CAAwB,gBAAxB;AACA,SAAK/C,OAAL,GAAerR,MAAM,CAAC2J,MAAP,CAAc,IAAd,CAAf;AACA,SAAK4H,YAAL,GAAoB,CAApB;AACA,WAAO,IAAP;AACD;;AAEDmB,EAAAA,SAAS,GAAGJ,MAAM,CAAC5K,IAAD,CAAlB;;AAEA,MAAI,OAAOgL,SAAP,KAAqB,UAAzB,EAAqC;AACnC,SAAKxP,cAAL,CAAoBwE,IAApB,EAA0BgL,SAA1B;AACD,GAFD,MAEO,IAAIA,SAAS,KAAKpB,SAAlB,EAA6B;AAClC;AACA,SAAKnL,CAAC,GAAGuM,SAAS,CAAC1U,MAAV,GAAmB,CAA5B,EAA+BmI,CAAC,IAAI,CAApC,EAAuCA,CAAC,EAAxC,EAA4C;AAC1C,WAAKjD,cAAL,CAAoBwE,IAApB,EAA0BgL,SAAS,CAACvM,CAAD,CAAnC;AACD;AACF;;AAED,SAAO,IAAP;AACD,CAjDL;;AAmDA,SAASkO,UAAT,CAAoBzD,MAApB,EAA4BlJ,IAA5B,EAAkC4M,MAAlC,EAA0C;AACxC,MAAIhC,MAAM,GAAG1B,MAAM,CAACS,OAApB;AAEA,MAAIiB,MAAM,KAAKhB,SAAf,EACE,OAAO,EAAP;AAEF,MAAIiD,UAAU,GAAGjC,MAAM,CAAC5K,IAAD,CAAvB;AACA,MAAI6M,UAAU,KAAKjD,SAAnB,EACE,OAAO,EAAP;AAEF,MAAI,OAAOiD,UAAP,KAAsB,UAA1B,EACE,OAAOD,MAAM,GAAG,CAACC,UAAU,CAAC5C,QAAX,IAAuB4C,UAAxB,CAAH,GAAyC,CAACA,UAAD,CAAtD;AAEF,SAAOD,MAAM,GACXE,eAAe,CAACD,UAAD,CADJ,GACmB5B,UAAU,CAAC4B,UAAD,EAAaA,UAAU,CAACvW,MAAxB,CAD1C;AAED;;AAEDxC,YAAY,CAACqL,SAAb,CAAuB6L,SAAvB,GAAmC,SAASA,SAAT,CAAmBhL,IAAnB,EAAyB;AAC1D,SAAO2M,UAAU,CAAC,IAAD,EAAO3M,IAAP,EAAa,IAAb,CAAjB;AACD,CAFD;;AAIAlM,YAAY,CAACqL,SAAb,CAAuB4N,YAAvB,GAAsC,SAASA,YAAT,CAAsB/M,IAAtB,EAA4B;AAChE,SAAO2M,UAAU,CAAC,IAAD,EAAO3M,IAAP,EAAa,KAAb,CAAjB;AACD,CAFD;;AAIAlM,YAAY,CAACkZ,aAAb,GAA6B,UAASxB,OAAT,EAAkBxL,IAAlB,EAAwB;AACnD,MAAI,OAAOwL,OAAO,CAACwB,aAAf,KAAiC,UAArC,EAAiD;AAC/C,WAAOxB,OAAO,CAACwB,aAAR,CAAsBhN,IAAtB,CAAP;AACD,GAFD,MAEO;AACL,WAAOgN,aAAa,CAACtJ,IAAd,CAAmB8H,OAAnB,EAA4BxL,IAA5B,CAAP;AACD;AACF,CAND;;AAQAlM,YAAY,CAACqL,SAAb,CAAuB6N,aAAvB,GAAuCA,aAAvC;;AACA,SAASA,aAAT,CAAuBhN,IAAvB,EAA6B;AAC3B,MAAI4K,MAAM,GAAG,KAAKjB,OAAlB;;AAEA,MAAIiB,MAAM,KAAKhB,SAAf,EAA0B;AACxB,QAAIiD,UAAU,GAAGjC,MAAM,CAAC5K,IAAD,CAAvB;;AAEA,QAAI,OAAO6M,UAAP,KAAsB,UAA1B,EAAsC;AACpC,aAAO,CAAP;AACD,KAFD,MAEO,IAAIA,UAAU,KAAKjD,SAAnB,EAA8B;AACnC,aAAOiD,UAAU,CAACvW,MAAlB;AACD;AACF;;AAED,SAAO,CAAP;AACD;;AAEDxC,YAAY,CAACqL,SAAb,CAAuB8N,UAAvB,GAAoC,SAASA,UAAT,GAAsB;AACxD,SAAO,KAAKpD,YAAL,GAAoB,CAApB,GAAwBR,cAAc,CAAC,KAAKM,OAAN,CAAtC,GAAuD,EAA9D;AACD,CAFD;;AAIA,SAASsB,UAAT,CAAoBiC,GAApB,EAAyB5C,CAAzB,EAA4B;AAC1B,MAAItI,IAAI,GAAG,IAAIxL,KAAJ,CAAU8T,CAAV,CAAX;;AACA,OAAK,IAAI7L,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6L,CAApB,EAAuB,EAAE7L,CAAzB,EACEuD,IAAI,CAACvD,CAAD,CAAJ,GAAUyO,GAAG,CAACzO,CAAD,CAAb;;AACF,SAAOuD,IAAP;AACD;;AAED,SAASwK,SAAT,CAAmBJ,IAAnB,EAAyBjK,KAAzB,EAAgC;AAC9B,SAAOA,KAAK,GAAG,CAAR,GAAYiK,IAAI,CAAC9V,MAAxB,EAAgC6L,KAAK,EAArC,EACEiK,IAAI,CAACjK,KAAD,CAAJ,GAAciK,IAAI,CAACjK,KAAK,GAAG,CAAT,CAAlB;;AACFiK,EAAAA,IAAI,CAACe,GAAL;AACD;;AAED,SAASL,eAAT,CAAyBI,GAAzB,EAA8B;AAC5B,MAAIE,GAAG,GAAG,IAAI5W,KAAJ,CAAU0W,GAAG,CAAC5W,MAAd,CAAV;;AACA,OAAK,IAAImI,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2O,GAAG,CAAC9W,MAAxB,EAAgC,EAAEmI,CAAlC,EAAqC;AACnC2O,IAAAA,GAAG,CAAC3O,CAAD,CAAH,GAASyO,GAAG,CAACzO,CAAD,CAAH,CAAOwL,QAAP,IAAmBiD,GAAG,CAACzO,CAAD,CAA/B;AACD;;AACD,SAAO2O,GAAP;AACD;;AAED,SAASrZ,IAAT,CAAcyX,OAAd,EAAuB7C,IAAvB,EAA6B;AAC3B,SAAO,IAAIrI,OAAJ,CAAY,UAAUY,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,aAASkM,aAAT,CAAuBxW,GAAvB,EAA4B;AAC1B2U,MAAAA,OAAO,CAAChQ,cAAR,CAAuBmN,IAAvB,EAA6B2E,QAA7B;AACAnM,MAAAA,MAAM,CAACtK,GAAD,CAAN;AACD;;AAED,aAASyW,QAAT,GAAoB;AAClB,UAAI,OAAO9B,OAAO,CAAChQ,cAAf,KAAkC,UAAtC,EAAkD;AAChDgQ,QAAAA,OAAO,CAAChQ,cAAR,CAAuB,OAAvB,EAAgC6R,aAAhC;AACD;;AACDnM,MAAAA,OAAO,CAAC,GAAGqM,KAAH,CAAS7J,IAAT,CAAcgH,SAAd,CAAD,CAAP;AACD;;AAAA;AAED8C,IAAAA,8BAA8B,CAAChC,OAAD,EAAU7C,IAAV,EAAgB2E,QAAhB,EAA0B;AAAEvZ,MAAAA,IAAI,EAAE;AAAR,KAA1B,CAA9B;;AACA,QAAI4U,IAAI,KAAK,OAAb,EAAsB;AACpB8E,MAAAA,6BAA6B,CAACjC,OAAD,EAAU6B,aAAV,EAAyB;AAAEtZ,QAAAA,IAAI,EAAE;AAAR,OAAzB,CAA7B;AACD;AACF,GAjBM,CAAP;AAkBD;;AAED,SAAS0Z,6BAAT,CAAuCjC,OAAvC,EAAgDT,OAAhD,EAAyDnH,KAAzD,EAAgE;AAC9D,MAAI,OAAO4H,OAAO,CAAC3S,EAAf,KAAsB,UAA1B,EAAsC;AACpC2U,IAAAA,8BAA8B,CAAChC,OAAD,EAAU,OAAV,EAAmBT,OAAnB,EAA4BnH,KAA5B,CAA9B;AACD;AACF;;AAED,SAAS4J,8BAAT,CAAwChC,OAAxC,EAAiD7C,IAAjD,EAAuDsB,QAAvD,EAAiErG,KAAjE,EAAwE;AACtE,MAAI,OAAO4H,OAAO,CAAC3S,EAAf,KAAsB,UAA1B,EAAsC;AACpC,QAAI+K,KAAK,CAAC7P,IAAV,EAAgB;AACdyX,MAAAA,OAAO,CAACzX,IAAR,CAAa4U,IAAb,EAAmBsB,QAAnB;AACD,KAFD,MAEO;AACLuB,MAAAA,OAAO,CAAC3S,EAAR,CAAW8P,IAAX,EAAiBsB,QAAjB;AACD;AACF,GAND,MAMO,IAAI,OAAOuB,OAAO,CAACkC,gBAAf,KAAoC,UAAxC,EAAoD;AACzD;AACA;AACAlC,IAAAA,OAAO,CAACkC,gBAAR,CAAyB/E,IAAzB,EAA+B,SAASgF,YAAT,CAAsBxD,GAAtB,EAA2B;AACxD;AACA;AACA,UAAIvG,KAAK,CAAC7P,IAAV,EAAgB;AACdyX,QAAAA,OAAO,CAACoC,mBAAR,CAA4BjF,IAA5B,EAAkCgF,YAAlC;AACD;;AACD1D,MAAAA,QAAQ,CAACE,GAAD,CAAR;AACD,KAPD;AAQD,GAXM,MAWA;AACL,UAAM,IAAID,SAAJ,CAAc,wEAAwE,OAAOsB,OAA7F,CAAN;AACD;AACF;;;;;;;;;;AChfD;AAEAxS,MAAM,CAACC,OAAP,GAAiB,SAAS4U,aAAT,GAA0B;AACzC,MAAI,OAAOC,UAAP,KAAsB,WAA1B,EAAuC,OAAO,IAAP;AACvC,MAAI3X,IAAI,GAAG;AACT4X,IAAAA,iBAAiB,EAAED,UAAU,CAACC,iBAAX,IAAgCD,UAAU,CAACE,oBAA3C,IACjBF,UAAU,CAACG,uBAFJ;AAGTC,IAAAA,qBAAqB,EAAEJ,UAAU,CAACI,qBAAX,IACrBJ,UAAU,CAACK,wBADU,IACkBL,UAAU,CAACM,2BAJ3C;AAKTC,IAAAA,eAAe,EAAEP,UAAU,CAACO,eAAX,IAA8BP,UAAU,CAACQ,kBAAzC,IACfR,UAAU,CAACS;AANJ,GAAX;AAQA,MAAI,CAACpY,IAAI,CAAC4X,iBAAV,EAA6B,OAAO,IAAP;AAC7B,SAAO5X,IAAP;AACD,CAZD;;;;;;;;;;ACFA,IAAI,OAAOmC,MAAM,CAAC2J,MAAd,KAAyB,UAA7B,EAAyC;AACvC;AACAjJ,EAAAA,MAAM,CAACC,OAAP,GAAiB,SAASuV,QAAT,CAAkBC,IAAlB,EAAwBC,SAAxB,EAAmC;AAClD,QAAIA,SAAJ,EAAe;AACbD,MAAAA,IAAI,CAACE,MAAL,GAAcD,SAAd;AACAD,MAAAA,IAAI,CAACtP,SAAL,GAAiB7G,MAAM,CAAC2J,MAAP,CAAcyM,SAAS,CAACvP,SAAxB,EAAmC;AAClDyP,QAAAA,WAAW,EAAE;AACXhP,UAAAA,KAAK,EAAE6O,IADI;AAEXxL,UAAAA,UAAU,EAAE,KAFD;AAGX4L,UAAAA,QAAQ,EAAE,IAHC;AAIX3G,UAAAA,YAAY,EAAE;AAJH;AADqC,OAAnC,CAAjB;AAQD;AACF,GAZD;AAaD,CAfD,MAeO;AACL;AACAlP,EAAAA,MAAM,CAACC,OAAP,GAAiB,SAASuV,QAAT,CAAkBC,IAAlB,EAAwBC,SAAxB,EAAmC;AAClD,QAAIA,SAAJ,EAAe;AACbD,MAAAA,IAAI,CAACE,MAAL,GAAcD,SAAd;;AACA,UAAII,QAAQ,GAAG,YAAY,CAAE,CAA7B;;AACAA,MAAAA,QAAQ,CAAC3P,SAAT,GAAqBuP,SAAS,CAACvP,SAA/B;AACAsP,MAAAA,IAAI,CAACtP,SAAL,GAAiB,IAAI2P,QAAJ,EAAjB;AACAL,MAAAA,IAAI,CAACtP,SAAL,CAAeyP,WAAf,GAA6BH,IAA7B;AACD;AACF,GARD;AASD;;;;;;;;;;AC1BD;AACA;AACA;AAEA,IAAIM,CAAC,GAAG,IAAR;AACA,IAAI3D,CAAC,GAAG2D,CAAC,GAAG,EAAZ;AACA,IAAIC,CAAC,GAAG5D,CAAC,GAAG,EAAZ;AACA,IAAI6D,CAAC,GAAGD,CAAC,GAAG,EAAZ;AACA,IAAIzD,CAAC,GAAG0D,CAAC,GAAG,CAAZ;AACA,IAAIC,CAAC,GAAGD,CAAC,GAAG,MAAZ;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAjW,MAAM,CAACC,OAAP,GAAiB,UAAS6O,GAAT,EAAcqH,OAAd,EAAuB;AACtCA,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACA,MAAInP,IAAI,GAAG,OAAO8H,GAAlB;;AACA,MAAI9H,IAAI,KAAK,QAAT,IAAqB8H,GAAG,CAACxR,MAAJ,GAAa,CAAtC,EAAyC;AACvC,WAAOwG,KAAK,CAACgL,GAAD,CAAZ;AACD,GAFD,MAEO,IAAI9H,IAAI,KAAK,QAAT,IAAqBoP,QAAQ,CAACtH,GAAD,CAAjC,EAAwC;AAC7C,WAAOqH,OAAO,CAACE,IAAR,GAAeC,OAAO,CAACxH,GAAD,CAAtB,GAA8ByH,QAAQ,CAACzH,GAAD,CAA7C;AACD;;AACD,QAAM,IAAIpT,KAAJ,CACJ,0DACEmI,IAAI,CAACK,SAAL,CAAe4K,GAAf,CAFE,CAAN;AAID,CAZD;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,SAAShL,KAAT,CAAewC,GAAf,EAAoB;AAClBA,EAAAA,GAAG,GAAGC,MAAM,CAACD,GAAD,CAAZ;;AACA,MAAIA,GAAG,CAAChJ,MAAJ,GAAa,GAAjB,EAAsB;AACpB;AACD;;AACD,MAAImJ,KAAK,GAAG,mIAAmI+P,IAAnI,CACVlQ,GADU,CAAZ;;AAGA,MAAI,CAACG,KAAL,EAAY;AACV;AACD;;AACD,MAAI6K,CAAC,GAAGmF,UAAU,CAAChQ,KAAK,CAAC,CAAD,CAAN,CAAlB;AACA,MAAIO,IAAI,GAAG,CAACP,KAAK,CAAC,CAAD,CAAL,IAAY,IAAb,EAAmBpK,WAAnB,EAAX;;AACA,UAAQ2K,IAAR;AACE,SAAK,OAAL;AACA,SAAK,MAAL;AACA,SAAK,KAAL;AACA,SAAK,IAAL;AACA,SAAK,GAAL;AACE,aAAOsK,CAAC,GAAG4E,CAAX;;AACF,SAAK,OAAL;AACA,SAAK,MAAL;AACA,SAAK,GAAL;AACE,aAAO5E,CAAC,GAAGiB,CAAX;;AACF,SAAK,MAAL;AACA,SAAK,KAAL;AACA,SAAK,GAAL;AACE,aAAOjB,CAAC,GAAG2E,CAAX;;AACF,SAAK,OAAL;AACA,SAAK,MAAL;AACA,SAAK,KAAL;AACA,SAAK,IAAL;AACA,SAAK,GAAL;AACE,aAAO3E,CAAC,GAAG0E,CAAX;;AACF,SAAK,SAAL;AACA,SAAK,QAAL;AACA,SAAK,MAAL;AACA,SAAK,KAAL;AACA,SAAK,GAAL;AACE,aAAO1E,CAAC,GAAGc,CAAX;;AACF,SAAK,SAAL;AACA,SAAK,QAAL;AACA,SAAK,MAAL;AACA,SAAK,KAAL;AACA,SAAK,GAAL;AACE,aAAOd,CAAC,GAAGyE,CAAX;;AACF,SAAK,cAAL;AACA,SAAK,aAAL;AACA,SAAK,OAAL;AACA,SAAK,MAAL;AACA,SAAK,IAAL;AACE,aAAOzE,CAAP;;AACF;AACE,aAAOV,SAAP;AAxCJ;AA0CD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,SAAS2F,QAAT,CAAkBrR,EAAlB,EAAsB;AACpB,MAAIwR,KAAK,GAAG3U,IAAI,CAACsM,GAAL,CAASnJ,EAAT,CAAZ;;AACA,MAAIwR,KAAK,IAAIT,CAAb,EAAgB;AACd,WAAOlU,IAAI,CAAC4U,KAAL,CAAWzR,EAAE,GAAG+Q,CAAhB,IAAqB,GAA5B;AACD;;AACD,MAAIS,KAAK,IAAIV,CAAb,EAAgB;AACd,WAAOjU,IAAI,CAAC4U,KAAL,CAAWzR,EAAE,GAAG8Q,CAAhB,IAAqB,GAA5B;AACD;;AACD,MAAIU,KAAK,IAAItE,CAAb,EAAgB;AACd,WAAOrQ,IAAI,CAAC4U,KAAL,CAAWzR,EAAE,GAAGkN,CAAhB,IAAqB,GAA5B;AACD;;AACD,MAAIsE,KAAK,IAAIX,CAAb,EAAgB;AACd,WAAOhU,IAAI,CAAC4U,KAAL,CAAWzR,EAAE,GAAG6Q,CAAhB,IAAqB,GAA5B;AACD;;AACD,SAAO7Q,EAAE,GAAG,IAAZ;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,SAASoR,OAAT,CAAiBpR,EAAjB,EAAqB;AACnB,MAAIwR,KAAK,GAAG3U,IAAI,CAACsM,GAAL,CAASnJ,EAAT,CAAZ;;AACA,MAAIwR,KAAK,IAAIT,CAAb,EAAgB;AACd,WAAOW,MAAM,CAAC1R,EAAD,EAAKwR,KAAL,EAAYT,CAAZ,EAAe,KAAf,CAAb;AACD;;AACD,MAAIS,KAAK,IAAIV,CAAb,EAAgB;AACd,WAAOY,MAAM,CAAC1R,EAAD,EAAKwR,KAAL,EAAYV,CAAZ,EAAe,MAAf,CAAb;AACD;;AACD,MAAIU,KAAK,IAAItE,CAAb,EAAgB;AACd,WAAOwE,MAAM,CAAC1R,EAAD,EAAKwR,KAAL,EAAYtE,CAAZ,EAAe,QAAf,CAAb;AACD;;AACD,MAAIsE,KAAK,IAAIX,CAAb,EAAgB;AACd,WAAOa,MAAM,CAAC1R,EAAD,EAAKwR,KAAL,EAAYX,CAAZ,EAAe,QAAf,CAAb;AACD;;AACD,SAAO7Q,EAAE,GAAG,KAAZ;AACD;AAED;AACA;AACA;;;AAEA,SAAS0R,MAAT,CAAgB1R,EAAhB,EAAoBwR,KAApB,EAA2BpF,CAA3B,EAA8B3B,IAA9B,EAAoC;AAClC,MAAIkH,QAAQ,GAAGH,KAAK,IAAIpF,CAAC,GAAG,GAA5B;AACA,SAAOvP,IAAI,CAAC4U,KAAL,CAAWzR,EAAE,GAAGoM,CAAhB,IAAqB,GAArB,GAA2B3B,IAA3B,IAAmCkH,QAAQ,GAAG,GAAH,GAAS,EAApD,CAAP;AACD;;;;;;;;;;ACjKD,IAAIC,MAAM,GAAGjc,mBAAO,CAAC,+CAAD,CAApB;;AACAmF,MAAM,CAACC,OAAP,GAAiB6W,MAAM,CAAC/b,IAAD,CAAvB;AACAiF,qBAAA,GAAwB8W,MAAM,CAACE,UAAD,CAA9B;AAEAjc,IAAI,CAACkN,KAAL,GAAalN,IAAI,CAAC,YAAY;AAC5BuE,EAAAA,MAAM,CAAC4K,cAAP,CAAsBkG,QAAQ,CAACjK,SAA/B,EAA0C,MAA1C,EAAkD;AAChDS,IAAAA,KAAK,EAAE,YAAY;AACjB,aAAO7L,IAAI,CAAC,IAAD,CAAX;AACD,KAH+C;AAIhDmU,IAAAA,YAAY,EAAE;AAJkC,GAAlD;AAOA5P,EAAAA,MAAM,CAAC4K,cAAP,CAAsBkG,QAAQ,CAACjK,SAA/B,EAA0C,YAA1C,EAAwD;AACtDS,IAAAA,KAAK,EAAE,YAAY;AACjB,aAAOoQ,UAAU,CAAC,IAAD,CAAjB;AACD,KAHqD;AAItD9H,IAAAA,YAAY,EAAE;AAJwC,GAAxD;AAMD,CAdgB,CAAjB;;AAgBA,SAASnU,IAAT,CAAekc,EAAf,EAAmB;AACjB,MAAIC,CAAC,GAAG,YAAY;AAClB,QAAIA,CAAC,CAACC,MAAN,EAAc,OAAOD,CAAC,CAACtQ,KAAT;AACdsQ,IAAAA,CAAC,CAACC,MAAF,GAAW,IAAX;AACA,WAAOD,CAAC,CAACtQ,KAAF,GAAUqQ,EAAE,CAACjI,KAAH,CAAS,IAAT,EAAe0C,SAAf,CAAjB;AACD,GAJD;;AAKAwF,EAAAA,CAAC,CAACC,MAAF,GAAW,KAAX;AACA,SAAOD,CAAP;AACD;;AAED,SAASF,UAAT,CAAqBC,EAArB,EAAyB;AACvB,MAAIC,CAAC,GAAG,YAAY;AAClB,QAAIA,CAAC,CAACC,MAAN,EACE,MAAM,IAAIzb,KAAJ,CAAUwb,CAAC,CAACE,SAAZ,CAAN;AACFF,IAAAA,CAAC,CAACC,MAAF,GAAW,IAAX;AACA,WAAOD,CAAC,CAACtQ,KAAF,GAAUqQ,EAAE,CAACjI,KAAH,CAAS,IAAT,EAAe0C,SAAf,CAAjB;AACD,GALD;;AAMA,MAAI/B,IAAI,GAAGsH,EAAE,CAACtH,IAAH,IAAW,8BAAtB;AACAuH,EAAAA,CAAC,CAACE,SAAF,GAAczH,IAAI,GAAG,qCAArB;AACAuH,EAAAA,CAAC,CAACC,MAAF,GAAW,KAAX;AACA,SAAOD,CAAP;AACD;;;;;;;;;;ACzCD;AACA,IAAIG,OAAJ;AAEArX,MAAM,CAACC,OAAP,GAAiB,OAAO/E,cAAP,KAA0B,UAA1B,GACbA,cAAc,CAACgY,IAAf,CAAoB,OAAO/U,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC0M,qBAA7D,CADa,CAEf;AAFe,EAGb9L,EAAE,IAAI,CAACsY,OAAO,KAAKA,OAAO,GAAG/P,OAAO,CAACY,OAAR,EAAf,CAAR,EACLE,IADK,CACArJ,EADA,EAELuY,KAFK,CAECzZ,GAAG,IAAImF,UAAU,CAAC,MAAM;AAAE,QAAMnF,GAAN;AAAW,CAApB,EAAsB,CAAtB,CAFlB,CAHV;;;;;;;;;;;;CCDA;AACA;;AACA,IAAI0Z,SAAS,GAAG,KAAhB,EAEA;AACA;;AACA,IAAIC,UAAU,GAAG,UAAjB;;AAEA,SAASC,UAAT,GAAuB;AACrB,QAAM,IAAI/b,KAAJ,CAAU,gHAAV,CAAN;AACD;;AAED,IAAIQ,MAAM,GAAGrB,sFAAb;;AACA,IAAI6c,MAAM,GAAG7M,qBAAM,CAAC6M,MAAP,IAAiB7M,qBAAM,CAAC8M,QAArC;;AAEA,IAAID,MAAM,IAAIA,MAAM,CAACE,eAArB,EAAsC;AACpC5X,EAAAA,MAAM,CAACC,OAAP,GAAiB4X,WAAjB;AACD,CAFD,MAEO;AACL7X,EAAAA,MAAM,CAACC,OAAP,GAAiBwX,UAAjB;AACD;;AAED,SAASI,WAAT,CAAsBC,IAAtB,EAA4B/Y,EAA5B,EAAgC;AAC9B;AACA,MAAI+Y,IAAI,GAAGN,UAAX,EAAuB,MAAM,IAAIpG,UAAJ,CAAe,iCAAf,CAAN;AAEvB,MAAI2G,KAAK,GAAG7b,MAAM,CAAC6M,WAAP,CAAmB+O,IAAnB,CAAZ;;AAEA,MAAIA,IAAI,GAAG,CAAX,EAAc;AAAG;AACf,QAAIA,IAAI,GAAGP,SAAX,EAAsB;AAAE;AACtB;AACA,WAAK,IAAIS,SAAS,GAAG,CAArB,EAAwBA,SAAS,GAAGF,IAApC,EAA0CE,SAAS,IAAIT,SAAvD,EAAkE;AAChE;AACA;AACAG,QAAAA,MAAM,CAACE,eAAP,CAAuBG,KAAK,CAACxD,KAAN,CAAYyD,SAAZ,EAAuBA,SAAS,GAAGT,SAAnC,CAAvB;AACD;AACF,KAPD,MAOO;AACLG,MAAAA,MAAM,CAACE,eAAP,CAAuBG,KAAvB;AACD;AACF;;AAED,MAAI,OAAOhZ,EAAP,KAAc,UAAlB,EAA8B;AAC5B,WAAOlD,OAAO,CAACoc,QAAR,CAAiB,YAAY;AAClClZ,MAAAA,EAAE,CAAC,IAAD,EAAOgZ,KAAP,CAAF;AACD,KAFM,CAAP;AAGD;;AAED,SAAOA,KAAP;AACD;;;;;;;;;;;ACjDY;;AAEb,SAASG,cAAT,CAAwBC,QAAxB,EAAkCC,UAAlC,EAA8C;AAAED,EAAAA,QAAQ,CAAChS,SAAT,GAAqB7G,MAAM,CAAC2J,MAAP,CAAcmP,UAAU,CAACjS,SAAzB,CAArB;AAA0DgS,EAAAA,QAAQ,CAAChS,SAAT,CAAmByP,WAAnB,GAAiCuC,QAAjC;AAA2CA,EAAAA,QAAQ,CAACE,SAAT,GAAqBD,UAArB;AAAkC;;AAEvL,IAAIE,KAAK,GAAG,EAAZ;;AAEA,SAASC,eAAT,CAAyBC,IAAzB,EAA+BlT,OAA/B,EAAwCmT,IAAxC,EAA8C;AAC5C,MAAI,CAACA,IAAL,EAAW;AACTA,IAAAA,IAAI,GAAG/c,KAAP;AACD;;AAED,WAASgd,UAAT,CAAoBC,IAApB,EAA0BC,IAA1B,EAAgCC,IAAhC,EAAsC;AACpC,QAAI,OAAOvT,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,aAAOA,OAAP;AACD,KAFD,MAEO;AACL,aAAOA,OAAO,CAACqT,IAAD,EAAOC,IAAP,EAAaC,IAAb,CAAd;AACD;AACF;;AAED,MAAIC,SAAS,GACb,aACA,UAAUC,KAAV,EAAiB;AACfb,IAAAA,cAAc,CAACY,SAAD,EAAYC,KAAZ,CAAd;;AAEA,aAASD,SAAT,CAAmBH,IAAnB,EAAyBC,IAAzB,EAA+BC,IAA/B,EAAqC;AACnC,aAAOE,KAAK,CAACrO,IAAN,CAAW,IAAX,EAAiBgO,UAAU,CAACC,IAAD,EAAOC,IAAP,EAAaC,IAAb,CAA3B,KAAkD,IAAzD;AACD;;AAED,WAAOC,SAAP;AACD,GARD,CAQEL,IARF,CAFA;;AAYAK,EAAAA,SAAS,CAAC3S,SAAV,CAAoBwJ,IAApB,GAA2B8I,IAAI,CAAC9I,IAAhC;AACAmJ,EAAAA,SAAS,CAAC3S,SAAV,CAAoBqS,IAApB,GAA2BA,IAA3B;AACAF,EAAAA,KAAK,CAACE,IAAD,CAAL,GAAcM,SAAd;AACD,EAAC;;;AAGF,SAASE,KAAT,CAAeC,QAAf,EAAyBC,KAAzB,EAAgC;AAC9B,MAAI1b,KAAK,CAACiC,OAAN,CAAcwZ,QAAd,CAAJ,EAA6B;AAC3B,QAAItZ,GAAG,GAAGsZ,QAAQ,CAAC3b,MAAnB;AACA2b,IAAAA,QAAQ,GAAGA,QAAQ,CAAC7b,GAAT,CAAa,UAAUqI,CAAV,EAAa;AACnC,aAAOc,MAAM,CAACd,CAAD,CAAb;AACD,KAFU,CAAX;;AAIA,QAAI9F,GAAG,GAAG,CAAV,EAAa;AACX,aAAO,UAAU4Q,MAAV,CAAiB2I,KAAjB,EAAwB,GAAxB,EAA6B3I,MAA7B,CAAoC0I,QAAQ,CAAC1E,KAAT,CAAe,CAAf,EAAkB5U,GAAG,GAAG,CAAxB,EAA2B+P,IAA3B,CAAgC,IAAhC,CAApC,EAA2E,OAA3E,IAAsFuJ,QAAQ,CAACtZ,GAAG,GAAG,CAAP,CAArG;AACD,KAFD,MAEO,IAAIA,GAAG,KAAK,CAAZ,EAAe;AACpB,aAAO,UAAU4Q,MAAV,CAAiB2I,KAAjB,EAAwB,GAAxB,EAA6B3I,MAA7B,CAAoC0I,QAAQ,CAAC,CAAD,CAA5C,EAAiD,MAAjD,EAAyD1I,MAAzD,CAAgE0I,QAAQ,CAAC,CAAD,CAAxE,CAAP;AACD,KAFM,MAEA;AACL,aAAO,MAAM1I,MAAN,CAAa2I,KAAb,EAAoB,GAApB,EAAyB3I,MAAzB,CAAgC0I,QAAQ,CAAC,CAAD,CAAxC,CAAP;AACD;AACF,GAbD,MAaO;AACL,WAAO,MAAM1I,MAAN,CAAa2I,KAAb,EAAoB,GAApB,EAAyB3I,MAAzB,CAAgChK,MAAM,CAAC0S,QAAD,CAAtC,CAAP;AACD;AACF,EAAC;;;AAGF,SAASE,UAAT,CAAoB7S,GAApB,EAAyB8S,MAAzB,EAAiCC,GAAjC,EAAsC;AACpC,SAAO/S,GAAG,CAACkJ,MAAJ,CAAW,CAAC6J,GAAD,IAAQA,GAAG,GAAG,CAAd,GAAkB,CAAlB,GAAsB,CAACA,GAAlC,EAAuCD,MAAM,CAAC9b,MAA9C,MAA0D8b,MAAjE;AACD,EAAC;;;AAGF,SAASE,QAAT,CAAkBhT,GAAlB,EAAuB8S,MAAvB,EAA+BG,QAA/B,EAAyC;AACvC,MAAIA,QAAQ,KAAK3I,SAAb,IAA0B2I,QAAQ,GAAGjT,GAAG,CAAChJ,MAA7C,EAAqD;AACnDic,IAAAA,QAAQ,GAAGjT,GAAG,CAAChJ,MAAf;AACD;;AAED,SAAOgJ,GAAG,CAAC/I,SAAJ,CAAcgc,QAAQ,GAAGH,MAAM,CAAC9b,MAAhC,EAAwCic,QAAxC,MAAsDH,MAA7D;AACD,EAAC;;;AAGF,SAASI,QAAT,CAAkBlT,GAAlB,EAAuB8S,MAAvB,EAA+BK,KAA/B,EAAsC;AACpC,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7BA,IAAAA,KAAK,GAAG,CAAR;AACD;;AAED,MAAIA,KAAK,GAAGL,MAAM,CAAC9b,MAAf,GAAwBgJ,GAAG,CAAChJ,MAAhC,EAAwC;AACtC,WAAO,KAAP;AACD,GAFD,MAEO;AACL,WAAOgJ,GAAG,CAAC8C,OAAJ,CAAYgQ,MAAZ,EAAoBK,KAApB,MAA+B,CAAC,CAAvC;AACD;AACF;;AAEDlB,eAAe,CAAC,uBAAD,EAA0B,UAAU5I,IAAV,EAAgB/I,KAAhB,EAAuB;AAC9D,SAAO,gBAAgBA,KAAhB,GAAwB,2BAAxB,GAAsD+I,IAAtD,GAA6D,GAApE;AACD,CAFc,EAEZuB,SAFY,CAAf;AAGAqH,eAAe,CAAC,sBAAD,EAAyB,UAAU5I,IAAV,EAAgBsJ,QAAhB,EAA0BS,MAA1B,EAAkC;AACxE;AACA,MAAIC,UAAJ;;AAEA,MAAI,OAAOV,QAAP,KAAoB,QAApB,IAAgCE,UAAU,CAACF,QAAD,EAAW,MAAX,CAA9C,EAAkE;AAChEU,IAAAA,UAAU,GAAG,aAAb;AACAV,IAAAA,QAAQ,GAAGA,QAAQ,CAACzS,OAAT,CAAiB,OAAjB,EAA0B,EAA1B,CAAX;AACD,GAHD,MAGO;AACLmT,IAAAA,UAAU,GAAG,SAAb;AACD;;AAED,MAAIC,GAAJ;;AAEA,MAAIN,QAAQ,CAAC3J,IAAD,EAAO,WAAP,CAAZ,EAAiC;AAC/B;AACAiK,IAAAA,GAAG,GAAG,OAAOrJ,MAAP,CAAcZ,IAAd,EAAoB,GAApB,EAAyBY,MAAzB,CAAgCoJ,UAAhC,EAA4C,GAA5C,EAAiDpJ,MAAjD,CAAwDyI,KAAK,CAACC,QAAD,EAAW,MAAX,CAA7D,CAAN;AACD,GAHD,MAGO;AACL,QAAIjS,IAAI,GAAGwS,QAAQ,CAAC7J,IAAD,EAAO,GAAP,CAAR,GAAsB,UAAtB,GAAmC,UAA9C;AACAiK,IAAAA,GAAG,GAAG,SAASrJ,MAAT,CAAgBZ,IAAhB,EAAsB,KAAtB,EAA6BY,MAA7B,CAAoCvJ,IAApC,EAA0C,GAA1C,EAA+CuJ,MAA/C,CAAsDoJ,UAAtD,EAAkE,GAAlE,EAAuEpJ,MAAvE,CAA8EyI,KAAK,CAACC,QAAD,EAAW,MAAX,CAAnF,CAAN;AACD;;AAEDW,EAAAA,GAAG,IAAI,mBAAmBrJ,MAAnB,CAA0B,OAAOmJ,MAAjC,CAAP;AACA,SAAOE,GAAP;AACD,CAvBc,EAuBZ1I,SAvBY,CAAf;AAwBAqH,eAAe,CAAC,2BAAD,EAA8B,yBAA9B,CAAf;AACAA,eAAe,CAAC,4BAAD,EAA+B,UAAU5I,IAAV,EAAgB;AAC5D,SAAO,SAASA,IAAT,GAAgB,4BAAvB;AACD,CAFc,CAAf;AAGA4I,eAAe,CAAC,4BAAD,EAA+B,iBAA/B,CAAf;AACAA,eAAe,CAAC,sBAAD,EAAyB,UAAU5I,IAAV,EAAgB;AACtD,SAAO,iBAAiBA,IAAjB,GAAwB,+BAA/B;AACD,CAFc,CAAf;AAGA4I,eAAe,CAAC,uBAAD,EAA0B,gCAA1B,CAAf;AACAA,eAAe,CAAC,wBAAD,EAA2B,2BAA3B,CAAf;AACAA,eAAe,CAAC,4BAAD,EAA+B,iBAA/B,CAAf;AACAA,eAAe,CAAC,wBAAD,EAA2B,qCAA3B,EAAkErH,SAAlE,CAAf;AACAqH,eAAe,CAAC,sBAAD,EAAyB,UAAUpH,GAAV,EAAe;AACrD,SAAO,uBAAuBA,GAA9B;AACD,CAFc,EAEZD,SAFY,CAAf;AAGAqH,eAAe,CAAC,oCAAD,EAAuC,kCAAvC,CAAf;AACAvY,oBAAA,GAAuBsY,KAAvB;;;;;;;;;;;;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;;AAEA,IAAIuB,UAAU,GAAGva,MAAM,CAACS,IAAP,IAAe,UAAUgH,GAAV,EAAe;AAC7C,MAAIhH,IAAI,GAAG,EAAX;;AAEA,OAAK,IAAIsJ,GAAT,IAAgBtC,GAAhB,EAAqB;AACnBhH,IAAAA,IAAI,CAAC8F,IAAL,CAAUwD,GAAV;AACD;;AAED,SAAOtJ,IAAP;AACD,CARD;AASA;;;AAGAC,MAAM,CAACC,OAAP,GAAiB6Z,MAAjB;;AAEA,IAAIC,QAAQ,GAAGlf,mBAAO,CAAC,kFAAD,CAAtB;;AAEA,IAAImf,QAAQ,GAAGnf,mBAAO,CAAC,kFAAD,CAAtB;;AAEAA,mBAAO,CAAC,6DAAD,CAAP,CAAoBif,MAApB,EAA4BC,QAA5B;;AAEA;AACE;AACA,MAAIha,IAAI,GAAG8Z,UAAU,CAACG,QAAQ,CAAC7T,SAAV,CAArB;;AAEA,OAAK,IAAIqH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzN,IAAI,CAACzC,MAAzB,EAAiCkQ,CAAC,EAAlC,EAAsC;AACpC,QAAIyM,MAAM,GAAGla,IAAI,CAACyN,CAAD,CAAjB;AACA,QAAI,CAACsM,MAAM,CAAC3T,SAAP,CAAiB8T,MAAjB,CAAL,EAA+BH,MAAM,CAAC3T,SAAP,CAAiB8T,MAAjB,IAA2BD,QAAQ,CAAC7T,SAAT,CAAmB8T,MAAnB,CAA3B;AAChC;AACF;;AAED,SAASH,MAAT,CAAgB3D,OAAhB,EAAyB;AACvB,MAAI,EAAE,gBAAgB2D,MAAlB,CAAJ,EAA+B,OAAO,IAAIA,MAAJ,CAAW3D,OAAX,CAAP;AAC/B4D,EAAAA,QAAQ,CAACrP,IAAT,CAAc,IAAd,EAAoByL,OAApB;AACA6D,EAAAA,QAAQ,CAACtP,IAAT,CAAc,IAAd,EAAoByL,OAApB;AACA,OAAK+D,aAAL,GAAqB,IAArB;;AAEA,MAAI/D,OAAJ,EAAa;AACX,QAAIA,OAAO,CAACgE,QAAR,KAAqB,KAAzB,EAAgC,KAAKA,QAAL,GAAgB,KAAhB;AAChC,QAAIhE,OAAO,CAACN,QAAR,KAAqB,KAAzB,EAAgC,KAAKA,QAAL,GAAgB,KAAhB;;AAEhC,QAAIM,OAAO,CAAC+D,aAAR,KAA0B,KAA9B,EAAqC;AACnC,WAAKA,aAAL,GAAqB,KAArB;AACA,WAAKnf,IAAL,CAAU,KAAV,EAAiBqf,KAAjB;AACD;AACF;AACF;;AAED9a,MAAM,CAAC4K,cAAP,CAAsB4P,MAAM,CAAC3T,SAA7B,EAAwC,uBAAxC,EAAiE;AAC/D;AACA;AACA;AACA8D,EAAAA,UAAU,EAAE,KAJmD;AAK/DkF,EAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,WAAO,KAAKkL,cAAL,CAAoBC,aAA3B;AACD;AAP8D,CAAjE;AASAhb,MAAM,CAAC4K,cAAP,CAAsB4P,MAAM,CAAC3T,SAA7B,EAAwC,gBAAxC,EAA0D;AACxD;AACA;AACA;AACA8D,EAAAA,UAAU,EAAE,KAJ4C;AAKxDkF,EAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,WAAO,KAAKkL,cAAL,IAAuB,KAAKA,cAAL,CAAoBE,SAApB,EAA9B;AACD;AAPuD,CAA1D;AASAjb,MAAM,CAAC4K,cAAP,CAAsB4P,MAAM,CAAC3T,SAA7B,EAAwC,gBAAxC,EAA0D;AACxD;AACA;AACA;AACA8D,EAAAA,UAAU,EAAE,KAJ4C;AAKxDkF,EAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,WAAO,KAAKkL,cAAL,CAAoB/c,MAA3B;AACD;AAPuD,CAA1D,GAQI;;AAEJ,SAAS8c,KAAT,GAAiB;AACf;AACA,MAAI,KAAKC,cAAL,CAAoBG,KAAxB,EAA+B,OAFhB,CAEwB;AACvC;;AAEA3e,EAAAA,OAAO,CAACoc,QAAR,CAAiBwC,OAAjB,EAA0B,IAA1B;AACD;;AAED,SAASA,OAAT,CAAiBjV,IAAjB,EAAuB;AACrBA,EAAAA,IAAI,CAACkV,GAAL;AACD;;AAEDpb,MAAM,CAAC4K,cAAP,CAAsB4P,MAAM,CAAC3T,SAA7B,EAAwC,WAAxC,EAAqD;AACnD;AACA;AACA;AACA8D,EAAAA,UAAU,EAAE,KAJuC;AAKnDkF,EAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,QAAI,KAAKwL,cAAL,KAAwB/J,SAAxB,IAAqC,KAAKyJ,cAAL,KAAwBzJ,SAAjE,EAA4E;AAC1E,aAAO,KAAP;AACD;;AAED,WAAO,KAAK+J,cAAL,CAAoBne,SAApB,IAAiC,KAAK6d,cAAL,CAAoB7d,SAA5D;AACD,GAXkD;AAYnDgN,EAAAA,GAAG,EAAE,SAASA,GAAT,CAAa5C,KAAb,EAAoB;AACvB;AACA;AACA,QAAI,KAAK+T,cAAL,KAAwB/J,SAAxB,IAAqC,KAAKyJ,cAAL,KAAwBzJ,SAAjE,EAA4E;AAC1E;AACD,KALsB,CAKrB;AACF;;;AAGA,SAAK+J,cAAL,CAAoBne,SAApB,GAAgCoK,KAAhC;AACA,SAAKyT,cAAL,CAAoB7d,SAApB,GAAgCoK,KAAhC;AACD;AAvBkD,CAArD;;;;;;;;;;;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;;AAEb5G,MAAM,CAACC,OAAP,GAAiB2a,WAAjB;;AAEA,IAAIC,SAAS,GAAGhgB,mBAAO,CAAC,oFAAD,CAAvB;;AAEAA,mBAAO,CAAC,6DAAD,CAAP,CAAoB+f,WAApB,EAAiCC,SAAjC;;AAEA,SAASD,WAAT,CAAqBzE,OAArB,EAA8B;AAC5B,MAAI,EAAE,gBAAgByE,WAAlB,CAAJ,EAAoC,OAAO,IAAIA,WAAJ,CAAgBzE,OAAhB,CAAP;AACpC0E,EAAAA,SAAS,CAACnQ,IAAV,CAAe,IAAf,EAAqByL,OAArB;AACD;;AAEDyE,WAAW,CAACzU,SAAZ,CAAsB2U,UAAtB,GAAmC,UAAUC,KAAV,EAAiBC,QAAjB,EAA2Bjc,EAA3B,EAA+B;AAChEA,EAAAA,EAAE,CAAC,IAAD,EAAOgc,KAAP,CAAF;AACD,CAFD;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;;AAEb/a,MAAM,CAACC,OAAP,GAAiB8Z,QAAjB;AACA;;AAEA,IAAID,MAAJ;AACA;;AAEAC,QAAQ,CAACkB,aAAT,GAAyBA,aAAzB;AACA;;AAEA,IAAIC,EAAE,GAAGrgB,mFAAT;;AAEA,IAAIsgB,eAAe,GAAG,SAASA,eAAT,CAAyB3I,OAAzB,EAAkCxL,IAAlC,EAAwC;AAC5D,SAAOwL,OAAO,CAACR,SAAR,CAAkBhL,IAAlB,EAAwB1J,MAA/B;AACD,CAFD;AAGA;;AAEA;;;AAGA,IAAI8d,MAAM,GAAGvgB,mBAAO,CAAC,wGAAD,CAApB;AACA;;;AAGA,IAAIqB,MAAM,GAAGrB,4EAAb;;AAEA,IAAIwgB,aAAa,GAAGxQ,qBAAM,CAACyQ,UAAP,IAAqB,YAAY,CAAE,CAAvD;;AAEA,SAASC,mBAAT,CAA6BR,KAA7B,EAAoC;AAClC,SAAO7e,MAAM,CAACC,IAAP,CAAY4e,KAAZ,CAAP;AACD;;AAED,SAASS,aAAT,CAAuBzU,GAAvB,EAA4B;AAC1B,SAAO7K,MAAM,CAAC4M,QAAP,CAAgB/B,GAAhB,KAAwBA,GAAG,YAAYsU,aAA9C;AACD;AACD;;;AAGA,IAAII,SAAS,GAAG5gB,mBAAO,CAAC,mBAAD,CAAvB;;AAEA,IAAID,KAAJ;;AAEA,IAAI6gB,SAAS,IAAIA,SAAS,CAACC,QAA3B,EAAqC;AACnC9gB,EAAAA,KAAK,GAAG6gB,SAAS,CAACC,QAAV,CAAmB,QAAnB,CAAR;AACD,CAFD,MAEO;AACL9gB,EAAAA,KAAK,GAAG,SAASA,KAAT,GAAiB,CAAE,CAA3B;AACD;AACD;;;AAGA,IAAI+gB,UAAU,GAAG9gB,mBAAO,CAAC,0GAAD,CAAxB;;AAEA,IAAI+gB,WAAW,GAAG/gB,mBAAO,CAAC,kGAAD,CAAzB;;AAEA,IAAIghB,QAAQ,GAAGhhB,mBAAO,CAAC,8FAAD,CAAtB;AAAA,IACIihB,gBAAgB,GAAGD,QAAQ,CAACC,gBADhC;;AAGA,IAAIC,cAAc,GAAGlhB,gGAArB;AAAA,IACImhB,oBAAoB,GAAGD,cAAc,CAACC,oBAD1C;AAAA,IAEIC,yBAAyB,GAAGF,cAAc,CAACE,yBAF/C;AAAA,IAGIC,0BAA0B,GAAGH,cAAc,CAACG,0BAHhD;AAAA,IAIIC,kCAAkC,GAAGJ,cAAc,CAACI,kCAJxD,EAI4F;;;AAG5F,IAAIC,aAAJ;AACA,IAAIC,iCAAJ;AACA,IAAIlgB,IAAJ;;AAEAtB,mBAAO,CAAC,6DAAD,CAAP,CAAoBkf,QAApB,EAA8BqB,MAA9B;;AAEA,IAAIkB,cAAc,GAAGV,WAAW,CAACU,cAAjC;AACA,IAAIC,YAAY,GAAG,CAAC,OAAD,EAAU,OAAV,EAAmB,SAAnB,EAA8B,OAA9B,EAAuC,QAAvC,CAAnB;;AAEA,SAAS5J,eAAT,CAAyBH,OAAzB,EAAkChU,KAAlC,EAAyCyY,EAAzC,EAA6C;AAC3C;AACA;AACA,MAAI,OAAOzE,OAAO,CAACG,eAAf,KAAmC,UAAvC,EAAmD,OAAOH,OAAO,CAACG,eAAR,CAAwBnU,KAAxB,EAA+ByY,EAA/B,CAAP,CAHR,CAGmD;AAC9F;AACA;AACA;;AAEA,MAAI,CAACzE,OAAO,CAAC7B,OAAT,IAAoB,CAAC6B,OAAO,CAAC7B,OAAR,CAAgBnS,KAAhB,CAAzB,EAAiDgU,OAAO,CAAC3S,EAAR,CAAWrB,KAAX,EAAkByY,EAAlB,EAAjD,KAA4E,IAAIzZ,KAAK,CAACiC,OAAN,CAAc+S,OAAO,CAAC7B,OAAR,CAAgBnS,KAAhB,CAAd,CAAJ,EAA2CgU,OAAO,CAAC7B,OAAR,CAAgBnS,KAAhB,EAAuBmQ,OAAvB,CAA+BsI,EAA/B,EAA3C,KAAmFzE,OAAO,CAAC7B,OAAR,CAAgBnS,KAAhB,IAAyB,CAACyY,EAAD,EAAKzE,OAAO,CAAC7B,OAAR,CAAgBnS,KAAhB,CAAL,CAAzB;AAChK;;AAED,SAASyc,aAAT,CAAuB9E,OAAvB,EAAgCqG,MAAhC,EAAwCC,QAAxC,EAAkD;AAChD3C,EAAAA,MAAM,GAAGA,MAAM,IAAIjf,mBAAO,CAAC,8EAAD,CAA1B;AACAsb,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB,CAFgD,CAEvB;AACzB;AACA;AACA;AACA;;AAEA,MAAI,OAAOsG,QAAP,KAAoB,SAAxB,EAAmCA,QAAQ,GAAGD,MAAM,YAAY1C,MAA7B,CARa,CAQwB;AACxE;;AAEA,OAAK4C,UAAL,GAAkB,CAAC,CAACvG,OAAO,CAACuG,UAA5B;AACA,MAAID,QAAJ,EAAc,KAAKC,UAAL,GAAkB,KAAKA,UAAL,IAAmB,CAAC,CAACvG,OAAO,CAACwG,kBAA/C,CAZkC,CAYiC;AACjF;;AAEA,OAAKrC,aAAL,GAAqBwB,gBAAgB,CAAC,IAAD,EAAO3F,OAAP,EAAgB,uBAAhB,EAAyCsG,QAAzC,CAArC,CAfgD,CAeyC;AACzF;AACA;;AAEA,OAAKG,MAAL,GAAc,IAAIjB,UAAJ,EAAd;AACA,OAAKre,MAAL,GAAc,CAAd;AACA,OAAKuf,KAAL,GAAa,IAAb;AACA,OAAKC,UAAL,GAAkB,CAAlB;AACA,OAAKC,OAAL,GAAe,IAAf;AACA,OAAKvC,KAAL,GAAa,KAAb;AACA,OAAKwC,UAAL,GAAkB,KAAlB;AACA,OAAKC,OAAL,GAAe,KAAf,CA1BgD,CA0B1B;AACtB;AACA;AACA;;AAEA,OAAKC,IAAL,GAAY,IAAZ,CA/BgD,CA+B9B;AAClB;;AAEA,OAAKC,YAAL,GAAoB,KAApB;AACA,OAAKC,eAAL,GAAuB,KAAvB;AACA,OAAKC,iBAAL,GAAyB,KAAzB;AACA,OAAKC,eAAL,GAAuB,KAAvB;AACA,OAAKC,MAAL,GAAc,IAAd,CAtCgD,CAsC5B;;AAEpB,OAAKC,SAAL,GAAiBrH,OAAO,CAACqH,SAAR,KAAsB,KAAvC,CAxCgD,CAwCF;;AAE9C,OAAKC,WAAL,GAAmB,CAAC,CAACtH,OAAO,CAACsH,WAA7B,CA1CgD,CA0CN;;AAE1C,OAAKjhB,SAAL,GAAiB,KAAjB,CA5CgD,CA4CxB;AACxB;AACA;;AAEA,OAAKkhB,eAAL,GAAuBvH,OAAO,CAACuH,eAAR,IAA2B,MAAlD,CAhDgD,CAgDU;;AAE1D,OAAKC,UAAL,GAAkB,CAAlB,CAlDgD,CAkD3B;;AAErB,OAAKC,WAAL,GAAmB,KAAnB;AACA,OAAKC,OAAL,GAAe,IAAf;AACA,OAAK7C,QAAL,GAAgB,IAAhB;;AAEA,MAAI7E,OAAO,CAAC6E,QAAZ,EAAsB;AACpB,QAAI,CAACoB,aAAL,EAAoBA,aAAa,GAAGvhB,iHAAhB;AACpB,SAAKgjB,OAAL,GAAe,IAAIzB,aAAJ,CAAkBjG,OAAO,CAAC6E,QAA1B,CAAf;AACA,SAAKA,QAAL,GAAgB7E,OAAO,CAAC6E,QAAxB;AACD;AACF;;AAED,SAASjB,QAAT,CAAkB5D,OAAlB,EAA2B;AACzB2D,EAAAA,MAAM,GAAGA,MAAM,IAAIjf,mBAAO,CAAC,8EAAD,CAA1B;AACA,MAAI,EAAE,gBAAgBkf,QAAlB,CAAJ,EAAiC,OAAO,IAAIA,QAAJ,CAAa5D,OAAb,CAAP,CAFR,CAEsC;AAC/D;;AAEA,MAAIsG,QAAQ,GAAG,gBAAgB3C,MAA/B;AACA,OAAKa,cAAL,GAAsB,IAAIM,aAAJ,CAAkB9E,OAAlB,EAA2B,IAA3B,EAAiCsG,QAAjC,CAAtB,CANyB,CAMyC;;AAElE,OAAKtC,QAAL,GAAgB,IAAhB;;AAEA,MAAIhE,OAAJ,EAAa;AACX,QAAI,OAAOA,OAAO,CAAC2H,IAAf,KAAwB,UAA5B,EAAwC,KAAKC,KAAL,GAAa5H,OAAO,CAAC2H,IAArB;AACxC,QAAI,OAAO3H,OAAO,CAAClX,OAAf,KAA2B,UAA/B,EAA2C,KAAK+e,QAAL,GAAgB7H,OAAO,CAAClX,OAAxB;AAC5C;;AAEDmc,EAAAA,MAAM,CAAC1Q,IAAP,CAAY,IAAZ;AACD;;AAEDpL,MAAM,CAAC4K,cAAP,CAAsB6P,QAAQ,CAAC5T,SAA/B,EAA0C,WAA1C,EAAuD;AACrD;AACA;AACA;AACA8D,EAAAA,UAAU,EAAE,KAJyC;AAKrDkF,EAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,QAAI,KAAKwL,cAAL,KAAwB/J,SAA5B,EAAuC;AACrC,aAAO,KAAP;AACD;;AAED,WAAO,KAAK+J,cAAL,CAAoBne,SAA3B;AACD,GAXoD;AAYrDgN,EAAAA,GAAG,EAAE,SAASA,GAAT,CAAa5C,KAAb,EAAoB;AACvB;AACA;AACA,QAAI,CAAC,KAAK+T,cAAV,EAA0B;AACxB;AACD,KALsB,CAKrB;AACF;;;AAGA,SAAKA,cAAL,CAAoBne,SAApB,GAAgCoK,KAAhC;AACD;AAtBoD,CAAvD;AAwBAmT,QAAQ,CAAC5T,SAAT,CAAmBlH,OAAnB,GAA6B2c,WAAW,CAAC3c,OAAzC;AACA8a,QAAQ,CAAC5T,SAAT,CAAmB8X,UAAnB,GAAgCrC,WAAW,CAACsC,SAA5C;;AAEAnE,QAAQ,CAAC5T,SAAT,CAAmB6X,QAAnB,GAA8B,UAAUngB,GAAV,EAAekB,EAAf,EAAmB;AAC/CA,EAAAA,EAAE,CAAClB,GAAD,CAAF;AACD,CAFD,EAEG;AACH;AACA;AACA;;;AAGAkc,QAAQ,CAAC5T,SAAT,CAAmBN,IAAnB,GAA0B,UAAUkV,KAAV,EAAiBC,QAAjB,EAA2B;AACnD,MAAIhI,KAAK,GAAG,KAAK2H,cAAjB;AACA,MAAIwD,cAAJ;;AAEA,MAAI,CAACnL,KAAK,CAAC0J,UAAX,EAAuB;AACrB,QAAI,OAAO3B,KAAP,KAAiB,QAArB,EAA+B;AAC7BC,MAAAA,QAAQ,GAAGA,QAAQ,IAAIhI,KAAK,CAAC0K,eAA7B;;AAEA,UAAI1C,QAAQ,KAAKhI,KAAK,CAACgI,QAAvB,EAAiC;AAC/BD,QAAAA,KAAK,GAAG7e,MAAM,CAACC,IAAP,CAAY4e,KAAZ,EAAmBC,QAAnB,CAAR;AACAA,QAAAA,QAAQ,GAAG,EAAX;AACD;;AAEDmD,MAAAA,cAAc,GAAG,IAAjB;AACD;AACF,GAXD,MAWO;AACLA,IAAAA,cAAc,GAAG,IAAjB;AACD;;AAED,SAAOC,gBAAgB,CAAC,IAAD,EAAOrD,KAAP,EAAcC,QAAd,EAAwB,KAAxB,EAA+BmD,cAA/B,CAAvB;AACD,CApBD,EAoBG;;;AAGHpE,QAAQ,CAAC5T,SAAT,CAAmBwI,OAAnB,GAA6B,UAAUoM,KAAV,EAAiB;AAC5C,SAAOqD,gBAAgB,CAAC,IAAD,EAAOrD,KAAP,EAAc,IAAd,EAAoB,IAApB,EAA0B,KAA1B,CAAvB;AACD,CAFD;;AAIA,SAASqD,gBAAT,CAA0B5B,MAA1B,EAAkCzB,KAAlC,EAAyCC,QAAzC,EAAmDqD,UAAnD,EAA+DF,cAA/D,EAA+E;AAC7EvjB,EAAAA,KAAK,CAAC,kBAAD,EAAqBmgB,KAArB,CAAL;AACA,MAAI/H,KAAK,GAAGwJ,MAAM,CAAC7B,cAAnB;;AAEA,MAAII,KAAK,KAAK,IAAd,EAAoB;AAClB/H,IAAAA,KAAK,CAACiK,OAAN,GAAgB,KAAhB;AACAqB,IAAAA,UAAU,CAAC9B,MAAD,EAASxJ,KAAT,CAAV;AACD,GAHD,MAGO;AACL,QAAInB,EAAJ;AACA,QAAI,CAACsM,cAAL,EAAqBtM,EAAE,GAAG0M,YAAY,CAACvL,KAAD,EAAQ+H,KAAR,CAAjB;;AAErB,QAAIlJ,EAAJ,EAAQ;AACNyK,MAAAA,cAAc,CAACE,MAAD,EAAS3K,EAAT,CAAd;AACD,KAFD,MAEO,IAAImB,KAAK,CAAC0J,UAAN,IAAoB3B,KAAK,IAAIA,KAAK,CAACzd,MAAN,GAAe,CAAhD,EAAmD;AACxD,UAAI,OAAOyd,KAAP,KAAiB,QAAjB,IAA6B,CAAC/H,KAAK,CAAC0J,UAApC,IAAkDpd,MAAM,CAAC4J,cAAP,CAAsB6R,KAAtB,MAAiC7e,MAAM,CAACiK,SAA9F,EAAyG;AACvG4U,QAAAA,KAAK,GAAGQ,mBAAmB,CAACR,KAAD,CAA3B;AACD;;AAED,UAAIsD,UAAJ,EAAgB;AACd,YAAIrL,KAAK,CAACgK,UAAV,EAAsBV,cAAc,CAACE,MAAD,EAAS,IAAIL,kCAAJ,EAAT,CAAd,CAAtB,KAA4FqC,QAAQ,CAAChC,MAAD,EAASxJ,KAAT,EAAgB+H,KAAhB,EAAuB,IAAvB,CAAR;AAC7F,OAFD,MAEO,IAAI/H,KAAK,CAACwH,KAAV,EAAiB;AACtB8B,QAAAA,cAAc,CAACE,MAAD,EAAS,IAAIP,yBAAJ,EAAT,CAAd;AACD,OAFM,MAEA,IAAIjJ,KAAK,CAACxW,SAAV,EAAqB;AAC1B,eAAO,KAAP;AACD,OAFM,MAEA;AACLwW,QAAAA,KAAK,CAACiK,OAAN,GAAgB,KAAhB;;AAEA,YAAIjK,KAAK,CAAC6K,OAAN,IAAiB,CAAC7C,QAAtB,EAAgC;AAC9BD,UAAAA,KAAK,GAAG/H,KAAK,CAAC6K,OAAN,CAAcY,KAAd,CAAoB1D,KAApB,CAAR;AACA,cAAI/H,KAAK,CAAC0J,UAAN,IAAoB3B,KAAK,CAACzd,MAAN,KAAiB,CAAzC,EAA4CkhB,QAAQ,CAAChC,MAAD,EAASxJ,KAAT,EAAgB+H,KAAhB,EAAuB,KAAvB,CAAR,CAA5C,KAAuF2D,aAAa,CAAClC,MAAD,EAASxJ,KAAT,CAAb;AACxF,SAHD,MAGO;AACLwL,UAAAA,QAAQ,CAAChC,MAAD,EAASxJ,KAAT,EAAgB+H,KAAhB,EAAuB,KAAvB,CAAR;AACD;AACF;AACF,KArBM,MAqBA,IAAI,CAACsD,UAAL,EAAiB;AACtBrL,MAAAA,KAAK,CAACiK,OAAN,GAAgB,KAAhB;AACAyB,MAAAA,aAAa,CAAClC,MAAD,EAASxJ,KAAT,CAAb;AACD;AACF,GAtC4E,CAsC3E;AACF;AACA;;;AAGA,SAAO,CAACA,KAAK,CAACwH,KAAP,KAAiBxH,KAAK,CAAC1V,MAAN,GAAe0V,KAAK,CAACsH,aAArB,IAAsCtH,KAAK,CAAC1V,MAAN,KAAiB,CAAxE,CAAP;AACD;;AAED,SAASkhB,QAAT,CAAkBhC,MAAlB,EAA0BxJ,KAA1B,EAAiC+H,KAAjC,EAAwCsD,UAAxC,EAAoD;AAClD,MAAIrL,KAAK,CAAC+J,OAAN,IAAiB/J,KAAK,CAAC1V,MAAN,KAAiB,CAAlC,IAAuC,CAAC0V,KAAK,CAACkK,IAAlD,EAAwD;AACtDlK,IAAAA,KAAK,CAAC2K,UAAN,GAAmB,CAAnB;AACAnB,IAAAA,MAAM,CAAC1e,IAAP,CAAY,MAAZ,EAAoBid,KAApB;AACD,GAHD,MAGO;AACL;AACA/H,IAAAA,KAAK,CAAC1V,MAAN,IAAgB0V,KAAK,CAAC0J,UAAN,GAAmB,CAAnB,GAAuB3B,KAAK,CAACzd,MAA7C;AACA,QAAI+gB,UAAJ,EAAgBrL,KAAK,CAAC4J,MAAN,CAAajO,OAAb,CAAqBoM,KAArB,EAAhB,KAAiD/H,KAAK,CAAC4J,MAAN,CAAa/W,IAAb,CAAkBkV,KAAlB;AACjD,QAAI/H,KAAK,CAACmK,YAAV,EAAwBwB,YAAY,CAACnC,MAAD,CAAZ;AACzB;;AAEDkC,EAAAA,aAAa,CAAClC,MAAD,EAASxJ,KAAT,CAAb;AACD;;AAED,SAASuL,YAAT,CAAsBvL,KAAtB,EAA6B+H,KAA7B,EAAoC;AAClC,MAAIlJ,EAAJ;;AAEA,MAAI,CAAC2J,aAAa,CAACT,KAAD,CAAd,IAAyB,OAAOA,KAAP,KAAiB,QAA1C,IAAsDA,KAAK,KAAKnK,SAAhE,IAA6E,CAACoC,KAAK,CAAC0J,UAAxF,EAAoG;AAClG7K,IAAAA,EAAE,GAAG,IAAImK,oBAAJ,CAAyB,OAAzB,EAAkC,CAAC,QAAD,EAAW,QAAX,EAAqB,YAArB,CAAlC,EAAsEjB,KAAtE,CAAL;AACD;;AAED,SAAOlJ,EAAP;AACD;;AAEDkI,QAAQ,CAAC5T,SAAT,CAAmByY,QAAnB,GAA8B,YAAY;AACxC,SAAO,KAAKjE,cAAL,CAAoBoC,OAApB,KAAgC,KAAvC;AACD,CAFD,EAEG;;;AAGHhD,QAAQ,CAAC5T,SAAT,CAAmB0Y,WAAnB,GAAiC,UAAUC,GAAV,EAAe;AAC9C,MAAI,CAAC1C,aAAL,EAAoBA,aAAa,GAAGvhB,iHAAhB;AACpB,MAAIgjB,OAAO,GAAG,IAAIzB,aAAJ,CAAkB0C,GAAlB,CAAd;AACA,OAAKnE,cAAL,CAAoBkD,OAApB,GAA8BA,OAA9B,CAH8C,CAGP;;AAEvC,OAAKlD,cAAL,CAAoBK,QAApB,GAA+B,KAAKL,cAAL,CAAoBkD,OAApB,CAA4B7C,QAA3D,CAL8C,CAKuB;;AAErE,MAAI+D,CAAC,GAAG,KAAKpE,cAAL,CAAoBiC,MAApB,CAA2BoC,IAAnC;AACA,MAAIC,OAAO,GAAG,EAAd;;AAEA,SAAOF,CAAC,KAAK,IAAb,EAAmB;AACjBE,IAAAA,OAAO,IAAIpB,OAAO,CAACY,KAAR,CAAcM,CAAC,CAACjf,IAAhB,CAAX;AACAif,IAAAA,CAAC,GAAGA,CAAC,CAACG,IAAN;AACD;;AAED,OAAKvE,cAAL,CAAoBiC,MAApB,CAA2BuC,KAA3B;;AAEA,MAAIF,OAAO,KAAK,EAAhB,EAAoB,KAAKtE,cAAL,CAAoBiC,MAApB,CAA2B/W,IAA3B,CAAgCoZ,OAAhC;AACpB,OAAKtE,cAAL,CAAoBrd,MAApB,GAA6B2hB,OAAO,CAAC3hB,MAArC;AACA,SAAO,IAAP;AACD,CApBD,EAoBG;;;AAGH,IAAI8hB,OAAO,GAAG,UAAd;;AAEA,SAASC,uBAAT,CAAiC/N,CAAjC,EAAoC;AAClC,MAAIA,CAAC,IAAI8N,OAAT,EAAkB;AAChB;AACA9N,IAAAA,CAAC,GAAG8N,OAAJ;AACD,GAHD,MAGO;AACL;AACA;AACA9N,IAAAA,CAAC;AACDA,IAAAA,CAAC,IAAIA,CAAC,KAAK,CAAX;AACAA,IAAAA,CAAC,IAAIA,CAAC,KAAK,CAAX;AACAA,IAAAA,CAAC,IAAIA,CAAC,KAAK,CAAX;AACAA,IAAAA,CAAC,IAAIA,CAAC,KAAK,CAAX;AACAA,IAAAA,CAAC,IAAIA,CAAC,KAAK,EAAX;AACAA,IAAAA,CAAC;AACF;;AAED,SAAOA,CAAP;AACD,EAAC;AACF;;;AAGA,SAASgO,aAAT,CAAuBhO,CAAvB,EAA0B0B,KAA1B,EAAiC;AAC/B,MAAI1B,CAAC,IAAI,CAAL,IAAU0B,KAAK,CAAC1V,MAAN,KAAiB,CAAjB,IAAsB0V,KAAK,CAACwH,KAA1C,EAAiD,OAAO,CAAP;AACjD,MAAIxH,KAAK,CAAC0J,UAAV,EAAsB,OAAO,CAAP;;AAEtB,MAAIpL,CAAC,KAAKA,CAAV,EAAa;AACX;AACA,QAAI0B,KAAK,CAAC+J,OAAN,IAAiB/J,KAAK,CAAC1V,MAA3B,EAAmC,OAAO0V,KAAK,CAAC4J,MAAN,CAAaoC,IAAb,CAAkBlf,IAAlB,CAAuBxC,MAA9B,CAAnC,KAA6E,OAAO0V,KAAK,CAAC1V,MAAb;AAC9E,GAP8B,CAO7B;;;AAGF,MAAIgU,CAAC,GAAG0B,KAAK,CAACsH,aAAd,EAA6BtH,KAAK,CAACsH,aAAN,GAAsB+E,uBAAuB,CAAC/N,CAAD,CAA7C;AAC7B,MAAIA,CAAC,IAAI0B,KAAK,CAAC1V,MAAf,EAAuB,OAAOgU,CAAP,CAXQ,CAWE;;AAEjC,MAAI,CAAC0B,KAAK,CAACwH,KAAX,EAAkB;AAChBxH,IAAAA,KAAK,CAACmK,YAAN,GAAqB,IAArB;AACA,WAAO,CAAP;AACD;;AAED,SAAOnK,KAAK,CAAC1V,MAAb;AACD,EAAC;;;AAGFyc,QAAQ,CAAC5T,SAAT,CAAmB2X,IAAnB,GAA0B,UAAUxM,CAAV,EAAa;AACrC1W,EAAAA,KAAK,CAAC,MAAD,EAAS0W,CAAT,CAAL;AACAA,EAAAA,CAAC,GAAGnF,QAAQ,CAACmF,CAAD,EAAI,EAAJ,CAAZ;AACA,MAAI0B,KAAK,GAAG,KAAK2H,cAAjB;AACA,MAAI4E,KAAK,GAAGjO,CAAZ;AACA,MAAIA,CAAC,KAAK,CAAV,EAAa0B,KAAK,CAACoK,eAAN,GAAwB,KAAxB,CALwB,CAKO;AAC5C;AACA;;AAEA,MAAI9L,CAAC,KAAK,CAAN,IAAW0B,KAAK,CAACmK,YAAjB,KAAkC,CAACnK,KAAK,CAACsH,aAAN,KAAwB,CAAxB,GAA4BtH,KAAK,CAAC1V,MAAN,IAAgB0V,KAAK,CAACsH,aAAlD,GAAkEtH,KAAK,CAAC1V,MAAN,GAAe,CAAlF,KAAwF0V,KAAK,CAACwH,KAAhI,CAAJ,EAA4I;AAC1I5f,IAAAA,KAAK,CAAC,oBAAD,EAAuBoY,KAAK,CAAC1V,MAA7B,EAAqC0V,KAAK,CAACwH,KAA3C,CAAL;AACA,QAAIxH,KAAK,CAAC1V,MAAN,KAAiB,CAAjB,IAAsB0V,KAAK,CAACwH,KAAhC,EAAuCgF,WAAW,CAAC,IAAD,CAAX,CAAvC,KAA8Db,YAAY,CAAC,IAAD,CAAZ;AAC9D,WAAO,IAAP;AACD;;AAEDrN,EAAAA,CAAC,GAAGgO,aAAa,CAAChO,CAAD,EAAI0B,KAAJ,CAAjB,CAfqC,CAeR;;AAE7B,MAAI1B,CAAC,KAAK,CAAN,IAAW0B,KAAK,CAACwH,KAArB,EAA4B;AAC1B,QAAIxH,KAAK,CAAC1V,MAAN,KAAiB,CAArB,EAAwBkiB,WAAW,CAAC,IAAD,CAAX;AACxB,WAAO,IAAP;AACD,GApBoC,CAoBnC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAIC,MAAM,GAAGzM,KAAK,CAACmK,YAAnB;AACAviB,EAAAA,KAAK,CAAC,eAAD,EAAkB6kB,MAAlB,CAAL,CA7CqC,CA6CL;;AAEhC,MAAIzM,KAAK,CAAC1V,MAAN,KAAiB,CAAjB,IAAsB0V,KAAK,CAAC1V,MAAN,GAAegU,CAAf,GAAmB0B,KAAK,CAACsH,aAAnD,EAAkE;AAChEmF,IAAAA,MAAM,GAAG,IAAT;AACA7kB,IAAAA,KAAK,CAAC,4BAAD,EAA+B6kB,MAA/B,CAAL;AACD,GAlDoC,CAkDnC;AACF;;;AAGA,MAAIzM,KAAK,CAACwH,KAAN,IAAexH,KAAK,CAACiK,OAAzB,EAAkC;AAChCwC,IAAAA,MAAM,GAAG,KAAT;AACA7kB,IAAAA,KAAK,CAAC,kBAAD,EAAqB6kB,MAArB,CAAL;AACD,GAHD,MAGO,IAAIA,MAAJ,EAAY;AACjB7kB,IAAAA,KAAK,CAAC,SAAD,CAAL;AACAoY,IAAAA,KAAK,CAACiK,OAAN,GAAgB,IAAhB;AACAjK,IAAAA,KAAK,CAACkK,IAAN,GAAa,IAAb,CAHiB,CAGE;;AAEnB,QAAIlK,KAAK,CAAC1V,MAAN,KAAiB,CAArB,EAAwB0V,KAAK,CAACmK,YAAN,GAAqB,IAArB,CALP,CAKkC;;AAEnD,SAAKY,KAAL,CAAW/K,KAAK,CAACsH,aAAjB;;AAEAtH,IAAAA,KAAK,CAACkK,IAAN,GAAa,KAAb,CATiB,CASG;AACpB;;AAEA,QAAI,CAAClK,KAAK,CAACiK,OAAX,EAAoB3L,CAAC,GAAGgO,aAAa,CAACC,KAAD,EAAQvM,KAAR,CAAjB;AACrB;;AAED,MAAIoB,GAAJ;AACA,MAAI9C,CAAC,GAAG,CAAR,EAAW8C,GAAG,GAAGsL,QAAQ,CAACpO,CAAD,EAAI0B,KAAJ,CAAd,CAAX,KAAyCoB,GAAG,GAAG,IAAN;;AAEzC,MAAIA,GAAG,KAAK,IAAZ,EAAkB;AAChBpB,IAAAA,KAAK,CAACmK,YAAN,GAAqBnK,KAAK,CAAC1V,MAAN,IAAgB0V,KAAK,CAACsH,aAA3C;AACAhJ,IAAAA,CAAC,GAAG,CAAJ;AACD,GAHD,MAGO;AACL0B,IAAAA,KAAK,CAAC1V,MAAN,IAAgBgU,CAAhB;AACA0B,IAAAA,KAAK,CAAC2K,UAAN,GAAmB,CAAnB;AACD;;AAED,MAAI3K,KAAK,CAAC1V,MAAN,KAAiB,CAArB,EAAwB;AACtB;AACA;AACA,QAAI,CAAC0V,KAAK,CAACwH,KAAX,EAAkBxH,KAAK,CAACmK,YAAN,GAAqB,IAArB,CAHI,CAGuB;;AAE7C,QAAIoC,KAAK,KAAKjO,CAAV,IAAe0B,KAAK,CAACwH,KAAzB,EAAgCgF,WAAW,CAAC,IAAD,CAAX;AACjC;;AAED,MAAIpL,GAAG,KAAK,IAAZ,EAAkB,KAAKtW,IAAL,CAAU,MAAV,EAAkBsW,GAAlB;AAClB,SAAOA,GAAP;AACD,CA7FD;;AA+FA,SAASkK,UAAT,CAAoB9B,MAApB,EAA4BxJ,KAA5B,EAAmC;AACjCpY,EAAAA,KAAK,CAAC,YAAD,CAAL;AACA,MAAIoY,KAAK,CAACwH,KAAV,EAAiB;;AAEjB,MAAIxH,KAAK,CAAC6K,OAAV,EAAmB;AACjB,QAAI9C,KAAK,GAAG/H,KAAK,CAAC6K,OAAN,CAAcnD,GAAd,EAAZ;;AAEA,QAAIK,KAAK,IAAIA,KAAK,CAACzd,MAAnB,EAA2B;AACzB0V,MAAAA,KAAK,CAAC4J,MAAN,CAAa/W,IAAb,CAAkBkV,KAAlB;AACA/H,MAAAA,KAAK,CAAC1V,MAAN,IAAgB0V,KAAK,CAAC0J,UAAN,GAAmB,CAAnB,GAAuB3B,KAAK,CAACzd,MAA7C;AACD;AACF;;AAED0V,EAAAA,KAAK,CAACwH,KAAN,GAAc,IAAd;;AAEA,MAAIxH,KAAK,CAACkK,IAAV,EAAgB;AACd;AACA;AACA;AACAyB,IAAAA,YAAY,CAACnC,MAAD,CAAZ;AACD,GALD,MAKO;AACL;AACAxJ,IAAAA,KAAK,CAACmK,YAAN,GAAqB,KAArB;;AAEA,QAAI,CAACnK,KAAK,CAACoK,eAAX,EAA4B;AAC1BpK,MAAAA,KAAK,CAACoK,eAAN,GAAwB,IAAxB;AACAuC,MAAAA,aAAa,CAACnD,MAAD,CAAb;AACD;AACF;AACF,EAAC;AACF;AACA;;;AAGA,SAASmC,YAAT,CAAsBnC,MAAtB,EAA8B;AAC5B,MAAIxJ,KAAK,GAAGwJ,MAAM,CAAC7B,cAAnB;AACA/f,EAAAA,KAAK,CAAC,cAAD,EAAiBoY,KAAK,CAACmK,YAAvB,EAAqCnK,KAAK,CAACoK,eAA3C,CAAL;AACApK,EAAAA,KAAK,CAACmK,YAAN,GAAqB,KAArB;;AAEA,MAAI,CAACnK,KAAK,CAACoK,eAAX,EAA4B;AAC1BxiB,IAAAA,KAAK,CAAC,cAAD,EAAiBoY,KAAK,CAAC+J,OAAvB,CAAL;AACA/J,IAAAA,KAAK,CAACoK,eAAN,GAAwB,IAAxB;AACAvhB,IAAAA,OAAO,CAACoc,QAAR,CAAiB0H,aAAjB,EAAgCnD,MAAhC;AACD;AACF;;AAED,SAASmD,aAAT,CAAuBnD,MAAvB,EAA+B;AAC7B,MAAIxJ,KAAK,GAAGwJ,MAAM,CAAC7B,cAAnB;AACA/f,EAAAA,KAAK,CAAC,eAAD,EAAkBoY,KAAK,CAACxW,SAAxB,EAAmCwW,KAAK,CAAC1V,MAAzC,EAAiD0V,KAAK,CAACwH,KAAvD,CAAL;;AAEA,MAAI,CAACxH,KAAK,CAACxW,SAAP,KAAqBwW,KAAK,CAAC1V,MAAN,IAAgB0V,KAAK,CAACwH,KAA3C,CAAJ,EAAuD;AACrDgC,IAAAA,MAAM,CAAC1e,IAAP,CAAY,UAAZ;AACAkV,IAAAA,KAAK,CAACoK,eAAN,GAAwB,KAAxB;AACD,GAP4B,CAO3B;AACF;AACA;AACA;AACA;AACA;;;AAGApK,EAAAA,KAAK,CAACmK,YAAN,GAAqB,CAACnK,KAAK,CAAC+J,OAAP,IAAkB,CAAC/J,KAAK,CAACwH,KAAzB,IAAkCxH,KAAK,CAAC1V,MAAN,IAAgB0V,KAAK,CAACsH,aAA7E;AACAsF,EAAAA,IAAI,CAACpD,MAAD,CAAJ;AACD,EAAC;AACF;AACA;AACA;AACA;AACA;;;AAGA,SAASkC,aAAT,CAAuBlC,MAAvB,EAA+BxJ,KAA/B,EAAsC;AACpC,MAAI,CAACA,KAAK,CAAC4K,WAAX,EAAwB;AACtB5K,IAAAA,KAAK,CAAC4K,WAAN,GAAoB,IAApB;AACA/hB,IAAAA,OAAO,CAACoc,QAAR,CAAiB4H,cAAjB,EAAiCrD,MAAjC,EAAyCxJ,KAAzC;AACD;AACF;;AAED,SAAS6M,cAAT,CAAwBrD,MAAxB,EAAgCxJ,KAAhC,EAAuC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAO,CAACA,KAAK,CAACiK,OAAP,IAAkB,CAACjK,KAAK,CAACwH,KAAzB,KAAmCxH,KAAK,CAAC1V,MAAN,GAAe0V,KAAK,CAACsH,aAArB,IAAsCtH,KAAK,CAAC+J,OAAN,IAAiB/J,KAAK,CAAC1V,MAAN,KAAiB,CAA3G,CAAP,EAAsH;AACpH,QAAIqC,GAAG,GAAGqT,KAAK,CAAC1V,MAAhB;AACA1C,IAAAA,KAAK,CAAC,sBAAD,CAAL;AACA4hB,IAAAA,MAAM,CAACsB,IAAP,CAAY,CAAZ;AACA,QAAIne,GAAG,KAAKqT,KAAK,CAAC1V,MAAlB,EAA0B;AACxB;AACH;;AAED0V,EAAAA,KAAK,CAAC4K,WAAN,GAAoB,KAApB;AACD,EAAC;AACF;AACA;AACA;;;AAGA7D,QAAQ,CAAC5T,SAAT,CAAmB4X,KAAnB,GAA2B,UAAUzM,CAAV,EAAa;AACtCgL,EAAAA,cAAc,CAAC,IAAD,EAAO,IAAIJ,0BAAJ,CAA+B,SAA/B,CAAP,CAAd;AACD,CAFD;;AAIAnC,QAAQ,CAAC5T,SAAT,CAAmB2Z,IAAnB,GAA0B,UAAUC,IAAV,EAAgBC,QAAhB,EAA0B;AAClD,MAAIC,GAAG,GAAG,IAAV;AACA,MAAIjN,KAAK,GAAG,KAAK2H,cAAjB;;AAEA,UAAQ3H,KAAK,CAAC8J,UAAd;AACE,SAAK,CAAL;AACE9J,MAAAA,KAAK,CAAC6J,KAAN,GAAckD,IAAd;AACA;;AAEF,SAAK,CAAL;AACE/M,MAAAA,KAAK,CAAC6J,KAAN,GAAc,CAAC7J,KAAK,CAAC6J,KAAP,EAAckD,IAAd,CAAd;AACA;;AAEF;AACE/M,MAAAA,KAAK,CAAC6J,KAAN,CAAYhX,IAAZ,CAAiBka,IAAjB;AACA;AAXJ;;AAcA/M,EAAAA,KAAK,CAAC8J,UAAN,IAAoB,CAApB;AACAliB,EAAAA,KAAK,CAAC,uBAAD,EAA0BoY,KAAK,CAAC8J,UAAhC,EAA4CkD,QAA5C,CAAL;AACA,MAAIE,KAAK,GAAG,CAAC,CAACF,QAAD,IAAaA,QAAQ,CAACtF,GAAT,KAAiB,KAA/B,KAAyCqF,IAAI,KAAKlkB,OAAO,CAACskB,MAA1D,IAAoEJ,IAAI,KAAKlkB,OAAO,CAACukB,MAAjG;AACA,MAAIC,KAAK,GAAGH,KAAK,GAAG9F,KAAH,GAAWkG,MAA5B;AACA,MAAItN,KAAK,CAACgK,UAAV,EAAsBnhB,OAAO,CAACoc,QAAR,CAAiBoI,KAAjB,EAAtB,KAAmDJ,GAAG,CAACllB,IAAJ,CAAS,KAAT,EAAgBslB,KAAhB;AACnDN,EAAAA,IAAI,CAAClgB,EAAL,CAAQ,QAAR,EAAkB0gB,QAAlB;;AAEA,WAASA,QAAT,CAAkBpG,QAAlB,EAA4BqG,UAA5B,EAAwC;AACtC5lB,IAAAA,KAAK,CAAC,UAAD,CAAL;;AAEA,QAAIuf,QAAQ,KAAK8F,GAAjB,EAAsB;AACpB,UAAIO,UAAU,IAAIA,UAAU,CAACC,UAAX,KAA0B,KAA5C,EAAmD;AACjDD,QAAAA,UAAU,CAACC,UAAX,GAAwB,IAAxB;AACAC,QAAAA,OAAO;AACR;AACF;AACF;;AAED,WAAStG,KAAT,GAAiB;AACfxf,IAAAA,KAAK,CAAC,OAAD,CAAL;AACAmlB,IAAAA,IAAI,CAACrF,GAAL;AACD,GAvCiD,CAuChD;AACF;AACA;AACA;;;AAGA,MAAIiG,OAAO,GAAGC,WAAW,CAACX,GAAD,CAAzB;AACAF,EAAAA,IAAI,CAAClgB,EAAL,CAAQ,OAAR,EAAiB8gB,OAAjB;AACA,MAAIE,SAAS,GAAG,KAAhB;;AAEA,WAASH,OAAT,GAAmB;AACjB9lB,IAAAA,KAAK,CAAC,SAAD,CAAL,CADiB,CACC;;AAElBmlB,IAAAA,IAAI,CAACvd,cAAL,CAAoB,OAApB,EAA6Bse,OAA7B;AACAf,IAAAA,IAAI,CAACvd,cAAL,CAAoB,QAApB,EAA8Bue,QAA9B;AACAhB,IAAAA,IAAI,CAACvd,cAAL,CAAoB,OAApB,EAA6Bme,OAA7B;AACAZ,IAAAA,IAAI,CAACvd,cAAL,CAAoB,OAApB,EAA6Bwe,OAA7B;AACAjB,IAAAA,IAAI,CAACvd,cAAL,CAAoB,QAApB,EAA8B+d,QAA9B;AACAN,IAAAA,GAAG,CAACzd,cAAJ,CAAmB,KAAnB,EAA0B4X,KAA1B;AACA6F,IAAAA,GAAG,CAACzd,cAAJ,CAAmB,KAAnB,EAA0B8d,MAA1B;AACAL,IAAAA,GAAG,CAACzd,cAAJ,CAAmB,MAAnB,EAA2Bye,MAA3B;AACAJ,IAAAA,SAAS,GAAG,IAAZ,CAXiB,CAWC;AAClB;AACA;AACA;AACA;;AAEA,QAAI7N,KAAK,CAAC2K,UAAN,KAAqB,CAACoC,IAAI,CAAC1F,cAAN,IAAwB0F,IAAI,CAAC1F,cAAL,CAAoB6G,SAAjE,CAAJ,EAAiFP,OAAO;AACzF;;AAEDV,EAAAA,GAAG,CAACpgB,EAAJ,CAAO,MAAP,EAAeohB,MAAf;;AAEA,WAASA,MAAT,CAAgBlG,KAAhB,EAAuB;AACrBngB,IAAAA,KAAK,CAAC,QAAD,CAAL;AACA,QAAIwZ,GAAG,GAAG2L,IAAI,CAACtB,KAAL,CAAW1D,KAAX,CAAV;AACAngB,IAAAA,KAAK,CAAC,YAAD,EAAewZ,GAAf,CAAL;;AAEA,QAAIA,GAAG,KAAK,KAAZ,EAAmB;AACjB;AACA;AACA;AACA;AACA,UAAI,CAACpB,KAAK,CAAC8J,UAAN,KAAqB,CAArB,IAA0B9J,KAAK,CAAC6J,KAAN,KAAgBkD,IAA1C,IAAkD/M,KAAK,CAAC8J,UAAN,GAAmB,CAAnB,IAAwB1T,OAAO,CAAC4J,KAAK,CAAC6J,KAAP,EAAckD,IAAd,CAAP,KAA+B,CAAC,CAA3G,KAAiH,CAACc,SAAtH,EAAiI;AAC/HjmB,QAAAA,KAAK,CAAC,6BAAD,EAAgCoY,KAAK,CAAC2K,UAAtC,CAAL;AACA3K,QAAAA,KAAK,CAAC2K,UAAN;AACD;;AAEDsC,MAAAA,GAAG,CAACkB,KAAJ;AACD;AACF,GAxFiD,CAwFhD;AACF;;;AAGA,WAASH,OAAT,CAAiBnP,EAAjB,EAAqB;AACnBjX,IAAAA,KAAK,CAAC,SAAD,EAAYiX,EAAZ,CAAL;AACAyO,IAAAA,MAAM;AACNP,IAAAA,IAAI,CAACvd,cAAL,CAAoB,OAApB,EAA6Bwe,OAA7B;AACA,QAAI7F,eAAe,CAAC4E,IAAD,EAAO,OAAP,CAAf,KAAmC,CAAvC,EAA0CzD,cAAc,CAACyD,IAAD,EAAOlO,EAAP,CAAd;AAC3C,GAjGiD,CAiGhD;;;AAGFc,EAAAA,eAAe,CAACoN,IAAD,EAAO,OAAP,EAAgBiB,OAAhB,CAAf,CApGkD,CAoGT;;AAEzC,WAASF,OAAT,GAAmB;AACjBf,IAAAA,IAAI,CAACvd,cAAL,CAAoB,QAApB,EAA8Bue,QAA9B;AACAT,IAAAA,MAAM;AACP;;AAEDP,EAAAA,IAAI,CAAChlB,IAAL,CAAU,OAAV,EAAmB+lB,OAAnB;;AAEA,WAASC,QAAT,GAAoB;AAClBnmB,IAAAA,KAAK,CAAC,UAAD,CAAL;AACAmlB,IAAAA,IAAI,CAACvd,cAAL,CAAoB,OAApB,EAA6Bse,OAA7B;AACAR,IAAAA,MAAM;AACP;;AAEDP,EAAAA,IAAI,CAAChlB,IAAL,CAAU,QAAV,EAAoBgmB,QAApB;;AAEA,WAAST,MAAT,GAAkB;AAChB1lB,IAAAA,KAAK,CAAC,QAAD,CAAL;AACAqlB,IAAAA,GAAG,CAACK,MAAJ,CAAWP,IAAX;AACD,GAxHiD,CAwHhD;;;AAGFA,EAAAA,IAAI,CAACjiB,IAAL,CAAU,MAAV,EAAkBmiB,GAAlB,EA3HkD,CA2H1B;;AAExB,MAAI,CAACjN,KAAK,CAAC+J,OAAX,EAAoB;AAClBniB,IAAAA,KAAK,CAAC,aAAD,CAAL;AACAqlB,IAAAA,GAAG,CAACmB,MAAJ;AACD;;AAED,SAAOrB,IAAP;AACD,CAnID;;AAqIA,SAASa,WAAT,CAAqBX,GAArB,EAA0B;AACxB,SAAO,SAASoB,yBAAT,GAAqC;AAC1C,QAAIrO,KAAK,GAAGiN,GAAG,CAACtF,cAAhB;AACA/f,IAAAA,KAAK,CAAC,aAAD,EAAgBoY,KAAK,CAAC2K,UAAtB,CAAL;AACA,QAAI3K,KAAK,CAAC2K,UAAV,EAAsB3K,KAAK,CAAC2K,UAAN;;AAEtB,QAAI3K,KAAK,CAAC2K,UAAN,KAAqB,CAArB,IAA0BxC,eAAe,CAAC8E,GAAD,EAAM,MAAN,CAA7C,EAA4D;AAC1DjN,MAAAA,KAAK,CAAC+J,OAAN,GAAgB,IAAhB;AACA6C,MAAAA,IAAI,CAACK,GAAD,CAAJ;AACD;AACF,GATD;AAUD;;AAEDlG,QAAQ,CAAC5T,SAAT,CAAmBma,MAAnB,GAA4B,UAAUP,IAAV,EAAgB;AAC1C,MAAI/M,KAAK,GAAG,KAAK2H,cAAjB;AACA,MAAI6F,UAAU,GAAG;AACfC,IAAAA,UAAU,EAAE;AADG,GAAjB,CAF0C,CAIvC;;AAEH,MAAIzN,KAAK,CAAC8J,UAAN,KAAqB,CAAzB,EAA4B,OAAO,IAAP,CANc,CAMD;;AAEzC,MAAI9J,KAAK,CAAC8J,UAAN,KAAqB,CAAzB,EAA4B;AAC1B;AACA,QAAIiD,IAAI,IAAIA,IAAI,KAAK/M,KAAK,CAAC6J,KAA3B,EAAkC,OAAO,IAAP;AAClC,QAAI,CAACkD,IAAL,EAAWA,IAAI,GAAG/M,KAAK,CAAC6J,KAAb,CAHe,CAGK;;AAE/B7J,IAAAA,KAAK,CAAC6J,KAAN,GAAc,IAAd;AACA7J,IAAAA,KAAK,CAAC8J,UAAN,GAAmB,CAAnB;AACA9J,IAAAA,KAAK,CAAC+J,OAAN,GAAgB,KAAhB;AACA,QAAIgD,IAAJ,EAAUA,IAAI,CAACjiB,IAAL,CAAU,QAAV,EAAoB,IAApB,EAA0B0iB,UAA1B;AACV,WAAO,IAAP;AACD,GAlByC,CAkBxC;;;AAGF,MAAI,CAACT,IAAL,EAAW;AACT;AACA,QAAIuB,KAAK,GAAGtO,KAAK,CAAC6J,KAAlB;AACA,QAAIld,GAAG,GAAGqT,KAAK,CAAC8J,UAAhB;AACA9J,IAAAA,KAAK,CAAC6J,KAAN,GAAc,IAAd;AACA7J,IAAAA,KAAK,CAAC8J,UAAN,GAAmB,CAAnB;AACA9J,IAAAA,KAAK,CAAC+J,OAAN,GAAgB,KAAhB;;AAEA,SAAK,IAAItX,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG9F,GAApB,EAAyB8F,CAAC,EAA1B,EAA8B;AAC5B6b,MAAAA,KAAK,CAAC7b,CAAD,CAAL,CAAS3H,IAAT,CAAc,QAAd,EAAwB,IAAxB,EAA8B;AAC5B2iB,QAAAA,UAAU,EAAE;AADgB,OAA9B;AAGD;;AAED,WAAO,IAAP;AACD,GApCyC,CAoCxC;;;AAGF,MAAItX,KAAK,GAAGC,OAAO,CAAC4J,KAAK,CAAC6J,KAAP,EAAckD,IAAd,CAAnB;AACA,MAAI5W,KAAK,KAAK,CAAC,CAAf,EAAkB,OAAO,IAAP;AAClB6J,EAAAA,KAAK,CAAC6J,KAAN,CAAYnQ,MAAZ,CAAmBvD,KAAnB,EAA0B,CAA1B;AACA6J,EAAAA,KAAK,CAAC8J,UAAN,IAAoB,CAApB;AACA,MAAI9J,KAAK,CAAC8J,UAAN,KAAqB,CAAzB,EAA4B9J,KAAK,CAAC6J,KAAN,GAAc7J,KAAK,CAAC6J,KAAN,CAAY,CAAZ,CAAd;AAC5BkD,EAAAA,IAAI,CAACjiB,IAAL,CAAU,QAAV,EAAoB,IAApB,EAA0B0iB,UAA1B;AACA,SAAO,IAAP;AACD,CA9CD,EA8CG;AACH;;;AAGAzG,QAAQ,CAAC5T,SAAT,CAAmBtG,EAAnB,GAAwB,UAAU0hB,EAAV,EAActK,EAAd,EAAkB;AACxC,MAAIuK,GAAG,GAAGpG,MAAM,CAACjV,SAAP,CAAiBtG,EAAjB,CAAoB6K,IAApB,CAAyB,IAAzB,EAA+B6W,EAA/B,EAAmCtK,EAAnC,CAAV;AACA,MAAIjE,KAAK,GAAG,KAAK2H,cAAjB;;AAEA,MAAI4G,EAAE,KAAK,MAAX,EAAmB;AACjB;AACA;AACAvO,IAAAA,KAAK,CAACqK,iBAAN,GAA0B,KAAKrJ,aAAL,CAAmB,UAAnB,IAAiC,CAA3D,CAHiB,CAG6C;;AAE9D,QAAIhB,KAAK,CAAC+J,OAAN,KAAkB,KAAtB,EAA6B,KAAKqE,MAAL;AAC9B,GAND,MAMO,IAAIG,EAAE,KAAK,UAAX,EAAuB;AAC5B,QAAI,CAACvO,KAAK,CAACgK,UAAP,IAAqB,CAAChK,KAAK,CAACqK,iBAAhC,EAAmD;AACjDrK,MAAAA,KAAK,CAACqK,iBAAN,GAA0BrK,KAAK,CAACmK,YAAN,GAAqB,IAA/C;AACAnK,MAAAA,KAAK,CAAC+J,OAAN,GAAgB,KAAhB;AACA/J,MAAAA,KAAK,CAACoK,eAAN,GAAwB,KAAxB;AACAxiB,MAAAA,KAAK,CAAC,aAAD,EAAgBoY,KAAK,CAAC1V,MAAtB,EAA8B0V,KAAK,CAACiK,OAApC,CAAL;;AAEA,UAAIjK,KAAK,CAAC1V,MAAV,EAAkB;AAChBqhB,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACD,OAFD,MAEO,IAAI,CAAC3L,KAAK,CAACiK,OAAX,EAAoB;AACzBphB,QAAAA,OAAO,CAACoc,QAAR,CAAiBwJ,gBAAjB,EAAmC,IAAnC;AACD;AACF;AACF;;AAED,SAAOD,GAAP;AACD,CA1BD;;AA4BAzH,QAAQ,CAAC5T,SAAT,CAAmBuM,WAAnB,GAAiCqH,QAAQ,CAAC5T,SAAT,CAAmBtG,EAApD;;AAEAka,QAAQ,CAAC5T,SAAT,CAAmB3D,cAAnB,GAAoC,UAAU+e,EAAV,EAActK,EAAd,EAAkB;AACpD,MAAIuK,GAAG,GAAGpG,MAAM,CAACjV,SAAP,CAAiB3D,cAAjB,CAAgCkI,IAAhC,CAAqC,IAArC,EAA2C6W,EAA3C,EAA+CtK,EAA/C,CAAV;;AAEA,MAAIsK,EAAE,KAAK,UAAX,EAAuB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA1lB,IAAAA,OAAO,CAACoc,QAAR,CAAiByJ,uBAAjB,EAA0C,IAA1C;AACD;;AAED,SAAOF,GAAP;AACD,CAdD;;AAgBAzH,QAAQ,CAAC5T,SAAT,CAAmBuN,kBAAnB,GAAwC,UAAU6N,EAAV,EAAc;AACpD,MAAIC,GAAG,GAAGpG,MAAM,CAACjV,SAAP,CAAiBuN,kBAAjB,CAAoC1E,KAApC,CAA0C,IAA1C,EAAgD0C,SAAhD,CAAV;;AAEA,MAAI6P,EAAE,KAAK,UAAP,IAAqBA,EAAE,KAAK3Q,SAAhC,EAA2C;AACzC;AACA;AACA;AACA;AACA;AACA;AACA/U,IAAAA,OAAO,CAACoc,QAAR,CAAiByJ,uBAAjB,EAA0C,IAA1C;AACD;;AAED,SAAOF,GAAP;AACD,CAdD;;AAgBA,SAASE,uBAAT,CAAiClc,IAAjC,EAAuC;AACrC,MAAIwN,KAAK,GAAGxN,IAAI,CAACmV,cAAjB;AACA3H,EAAAA,KAAK,CAACqK,iBAAN,GAA0B7X,IAAI,CAACwO,aAAL,CAAmB,UAAnB,IAAiC,CAA3D;;AAEA,MAAIhB,KAAK,CAACsK,eAAN,IAAyB,CAACtK,KAAK,CAACuK,MAApC,EAA4C;AAC1C;AACA;AACAvK,IAAAA,KAAK,CAAC+J,OAAN,GAAgB,IAAhB,CAH0C,CAGpB;AACvB,GAJD,MAIO,IAAIvX,IAAI,CAACwO,aAAL,CAAmB,MAAnB,IAA6B,CAAjC,EAAoC;AACzCxO,IAAAA,IAAI,CAAC4b,MAAL;AACD;AACF;;AAED,SAASK,gBAAT,CAA0Bjc,IAA1B,EAAgC;AAC9B5K,EAAAA,KAAK,CAAC,0BAAD,CAAL;AACA4K,EAAAA,IAAI,CAACsY,IAAL,CAAU,CAAV;AACD,EAAC;AACF;;;AAGA/D,QAAQ,CAAC5T,SAAT,CAAmBib,MAAnB,GAA4B,YAAY;AACtC,MAAIpO,KAAK,GAAG,KAAK2H,cAAjB;;AAEA,MAAI,CAAC3H,KAAK,CAAC+J,OAAX,EAAoB;AAClBniB,IAAAA,KAAK,CAAC,QAAD,CAAL,CADkB,CACD;AACjB;AACA;;AAEAoY,IAAAA,KAAK,CAAC+J,OAAN,GAAgB,CAAC/J,KAAK,CAACqK,iBAAvB;AACA+D,IAAAA,MAAM,CAAC,IAAD,EAAOpO,KAAP,CAAN;AACD;;AAEDA,EAAAA,KAAK,CAACuK,MAAN,GAAe,KAAf;AACA,SAAO,IAAP;AACD,CAdD;;AAgBA,SAAS6D,MAAT,CAAgB5E,MAAhB,EAAwBxJ,KAAxB,EAA+B;AAC7B,MAAI,CAACA,KAAK,CAACsK,eAAX,EAA4B;AAC1BtK,IAAAA,KAAK,CAACsK,eAAN,GAAwB,IAAxB;AACAzhB,IAAAA,OAAO,CAACoc,QAAR,CAAiB0J,OAAjB,EAA0BnF,MAA1B,EAAkCxJ,KAAlC;AACD;AACF;;AAED,SAAS2O,OAAT,CAAiBnF,MAAjB,EAAyBxJ,KAAzB,EAAgC;AAC9BpY,EAAAA,KAAK,CAAC,QAAD,EAAWoY,KAAK,CAACiK,OAAjB,CAAL;;AAEA,MAAI,CAACjK,KAAK,CAACiK,OAAX,EAAoB;AAClBT,IAAAA,MAAM,CAACsB,IAAP,CAAY,CAAZ;AACD;;AAED9K,EAAAA,KAAK,CAACsK,eAAN,GAAwB,KAAxB;AACAd,EAAAA,MAAM,CAAC1e,IAAP,CAAY,QAAZ;AACA8hB,EAAAA,IAAI,CAACpD,MAAD,CAAJ;AACA,MAAIxJ,KAAK,CAAC+J,OAAN,IAAiB,CAAC/J,KAAK,CAACiK,OAA5B,EAAqCT,MAAM,CAACsB,IAAP,CAAY,CAAZ;AACtC;;AAED/D,QAAQ,CAAC5T,SAAT,CAAmBgb,KAAnB,GAA2B,YAAY;AACrCvmB,EAAAA,KAAK,CAAC,uBAAD,EAA0B,KAAK+f,cAAL,CAAoBoC,OAA9C,CAAL;;AAEA,MAAI,KAAKpC,cAAL,CAAoBoC,OAApB,KAAgC,KAApC,EAA2C;AACzCniB,IAAAA,KAAK,CAAC,OAAD,CAAL;AACA,SAAK+f,cAAL,CAAoBoC,OAApB,GAA8B,KAA9B;AACA,SAAKjf,IAAL,CAAU,OAAV;AACD;;AAED,OAAK6c,cAAL,CAAoB4C,MAApB,GAA6B,IAA7B;AACA,SAAO,IAAP;AACD,CAXD;;AAaA,SAASqC,IAAT,CAAcpD,MAAd,EAAsB;AACpB,MAAIxJ,KAAK,GAAGwJ,MAAM,CAAC7B,cAAnB;AACA/f,EAAAA,KAAK,CAAC,MAAD,EAASoY,KAAK,CAAC+J,OAAf,CAAL;;AAEA,SAAO/J,KAAK,CAAC+J,OAAN,IAAiBP,MAAM,CAACsB,IAAP,OAAkB,IAA1C,EAAgD;AAC9C;AACD;AACF,EAAC;AACF;AACA;;;AAGA/D,QAAQ,CAAC5T,SAAT,CAAmByb,IAAnB,GAA0B,UAAUpF,MAAV,EAAkB;AAC1C,MAAIqF,KAAK,GAAG,IAAZ;;AAEA,MAAI7O,KAAK,GAAG,KAAK2H,cAAjB;AACA,MAAI4C,MAAM,GAAG,KAAb;AACAf,EAAAA,MAAM,CAAC3c,EAAP,CAAU,KAAV,EAAiB,YAAY;AAC3BjF,IAAAA,KAAK,CAAC,aAAD,CAAL;;AAEA,QAAIoY,KAAK,CAAC6K,OAAN,IAAiB,CAAC7K,KAAK,CAACwH,KAA5B,EAAmC;AACjC,UAAIO,KAAK,GAAG/H,KAAK,CAAC6K,OAAN,CAAcnD,GAAd,EAAZ;AACA,UAAIK,KAAK,IAAIA,KAAK,CAACzd,MAAnB,EAA2BukB,KAAK,CAAChc,IAAN,CAAWkV,KAAX;AAC5B;;AAED8G,IAAAA,KAAK,CAAChc,IAAN,CAAW,IAAX;AACD,GATD;AAUA2W,EAAAA,MAAM,CAAC3c,EAAP,CAAU,MAAV,EAAkB,UAAUkb,KAAV,EAAiB;AACjCngB,IAAAA,KAAK,CAAC,cAAD,CAAL;AACA,QAAIoY,KAAK,CAAC6K,OAAV,EAAmB9C,KAAK,GAAG/H,KAAK,CAAC6K,OAAN,CAAcY,KAAd,CAAoB1D,KAApB,CAAR,CAFc,CAEsB;;AAEvD,QAAI/H,KAAK,CAAC0J,UAAN,KAAqB3B,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKnK,SAAjD,CAAJ,EAAiE,OAAjE,KAA6E,IAAI,CAACoC,KAAK,CAAC0J,UAAP,KAAsB,CAAC3B,KAAD,IAAU,CAACA,KAAK,CAACzd,MAAvC,CAAJ,EAAoD;;AAEjI,QAAI8W,GAAG,GAAGyN,KAAK,CAAChc,IAAN,CAAWkV,KAAX,CAAV;;AAEA,QAAI,CAAC3G,GAAL,EAAU;AACRmJ,MAAAA,MAAM,GAAG,IAAT;AACAf,MAAAA,MAAM,CAAC2E,KAAP;AACD;AACF,GAZD,EAf0C,CA2BtC;AACJ;;AAEA,OAAK,IAAI1b,CAAT,IAAc+W,MAAd,EAAsB;AACpB,QAAI,KAAK/W,CAAL,MAAYmL,SAAZ,IAAyB,OAAO4L,MAAM,CAAC/W,CAAD,CAAb,KAAqB,UAAlD,EAA8D;AAC5D,WAAKA,CAAL,IAAU,SAASqc,UAAT,CAAoB7H,MAApB,EAA4B;AACpC,eAAO,SAAS8H,wBAAT,GAAoC;AACzC,iBAAOvF,MAAM,CAACvC,MAAD,CAAN,CAAejL,KAAf,CAAqBwN,MAArB,EAA6B9K,SAA7B,CAAP;AACD,SAFD;AAGD,OAJS,CAIRjM,CAJQ,CAAV;AAKD;AACF,GAtCyC,CAsCxC;;;AAGF,OAAK,IAAI6L,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiL,YAAY,CAACjf,MAAjC,EAAyCgU,CAAC,EAA1C,EAA8C;AAC5CkL,IAAAA,MAAM,CAAC3c,EAAP,CAAU0c,YAAY,CAACjL,CAAD,CAAtB,EAA2B,KAAKxT,IAAL,CAAUoV,IAAV,CAAe,IAAf,EAAqBqJ,YAAY,CAACjL,CAAD,CAAjC,CAA3B;AACD,GA3CyC,CA2CxC;AACF;;;AAGA,OAAKyM,KAAL,GAAa,UAAUzM,CAAV,EAAa;AACxB1W,IAAAA,KAAK,CAAC,eAAD,EAAkB0W,CAAlB,CAAL;;AAEA,QAAIiM,MAAJ,EAAY;AACVA,MAAAA,MAAM,GAAG,KAAT;AACAf,MAAAA,MAAM,CAAC4E,MAAP;AACD;AACF,GAPD;;AASA,SAAO,IAAP;AACD,CAzDD;;AA2DA,IAAI,OAAOY,MAAP,KAAkB,UAAtB,EAAkC;AAChCjI,EAAAA,QAAQ,CAAC5T,SAAT,CAAmB6b,MAAM,CAACC,aAA1B,IAA2C,YAAY;AACrD,QAAI5F,iCAAiC,KAAKzL,SAA1C,EAAqD;AACnDyL,MAAAA,iCAAiC,GAAGxhB,mBAAO,CAAC,gHAAD,CAA3C;AACD;;AAED,WAAOwhB,iCAAiC,CAAC,IAAD,CAAxC;AACD,GAND;AAOD;;AAED/c,MAAM,CAAC4K,cAAP,CAAsB6P,QAAQ,CAAC5T,SAA/B,EAA0C,uBAA1C,EAAmE;AACjE;AACA;AACA;AACA8D,EAAAA,UAAU,EAAE,KAJqD;AAKjEkF,EAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,WAAO,KAAKwL,cAAL,CAAoBL,aAA3B;AACD;AAPgE,CAAnE;AASAhb,MAAM,CAAC4K,cAAP,CAAsB6P,QAAQ,CAAC5T,SAA/B,EAA0C,gBAA1C,EAA4D;AAC1D;AACA;AACA;AACA8D,EAAAA,UAAU,EAAE,KAJ8C;AAK1DkF,EAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,WAAO,KAAKwL,cAAL,IAAuB,KAAKA,cAAL,CAAoBiC,MAAlD;AACD;AAPyD,CAA5D;AASAtd,MAAM,CAAC4K,cAAP,CAAsB6P,QAAQ,CAAC5T,SAA/B,EAA0C,iBAA1C,EAA6D;AAC3D;AACA;AACA;AACA8D,EAAAA,UAAU,EAAE,KAJ+C;AAK3DkF,EAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,WAAO,KAAKwL,cAAL,CAAoBoC,OAA3B;AACD,GAP0D;AAQ3DvT,EAAAA,GAAG,EAAE,SAASA,GAAT,CAAawJ,KAAb,EAAoB;AACvB,QAAI,KAAK2H,cAAT,EAAyB;AACvB,WAAKA,cAAL,CAAoBoC,OAApB,GAA8B/J,KAA9B;AACD;AACF;AAZ0D,CAA7D,GAaI;;AAEJ+G,QAAQ,CAACmI,SAAT,GAAqBxC,QAArB;AACApgB,MAAM,CAAC4K,cAAP,CAAsB6P,QAAQ,CAAC5T,SAA/B,EAA0C,gBAA1C,EAA4D;AAC1D;AACA;AACA;AACA8D,EAAAA,UAAU,EAAE,KAJ8C;AAK1DkF,EAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,WAAO,KAAKwL,cAAL,CAAoBrd,MAA3B;AACD;AAPyD,CAA5D,GAQI;AACJ;AACA;AACA;;AAEA,SAASoiB,QAAT,CAAkBpO,CAAlB,EAAqB0B,KAArB,EAA4B;AAC1B;AACA,MAAIA,KAAK,CAAC1V,MAAN,KAAiB,CAArB,EAAwB,OAAO,IAAP;AACxB,MAAI8W,GAAJ;AACA,MAAIpB,KAAK,CAAC0J,UAAV,EAAsBtI,GAAG,GAAGpB,KAAK,CAAC4J,MAAN,CAAarJ,KAAb,EAAN,CAAtB,KAAsD,IAAI,CAACjC,CAAD,IAAMA,CAAC,IAAI0B,KAAK,CAAC1V,MAArB,EAA6B;AACjF;AACA,QAAI0V,KAAK,CAAC6K,OAAV,EAAmBzJ,GAAG,GAAGpB,KAAK,CAAC4J,MAAN,CAAalN,IAAb,CAAkB,EAAlB,CAAN,CAAnB,KAAoD,IAAIsD,KAAK,CAAC4J,MAAN,CAAatf,MAAb,KAAwB,CAA5B,EAA+B8W,GAAG,GAAGpB,KAAK,CAAC4J,MAAN,CAAauF,KAAb,EAAN,CAA/B,KAA+D/N,GAAG,GAAGpB,KAAK,CAAC4J,MAAN,CAAarM,MAAb,CAAoByC,KAAK,CAAC1V,MAA1B,CAAN;AACnH0V,IAAAA,KAAK,CAAC4J,MAAN,CAAauC,KAAb;AACD,GAJqD,MAI/C;AACL;AACA/K,IAAAA,GAAG,GAAGpB,KAAK,CAAC4J,MAAN,CAAawF,OAAb,CAAqB9Q,CAArB,EAAwB0B,KAAK,CAAC6K,OAA9B,CAAN;AACD;AACD,SAAOzJ,GAAP;AACD;;AAED,SAASoL,WAAT,CAAqBhD,MAArB,EAA6B;AAC3B,MAAIxJ,KAAK,GAAGwJ,MAAM,CAAC7B,cAAnB;AACA/f,EAAAA,KAAK,CAAC,aAAD,EAAgBoY,KAAK,CAACgK,UAAtB,CAAL;;AAEA,MAAI,CAAChK,KAAK,CAACgK,UAAX,EAAuB;AACrBhK,IAAAA,KAAK,CAACwH,KAAN,GAAc,IAAd;AACA3e,IAAAA,OAAO,CAACoc,QAAR,CAAiBoK,aAAjB,EAAgCrP,KAAhC,EAAuCwJ,MAAvC;AACD;AACF;;AAED,SAAS6F,aAAT,CAAuBrP,KAAvB,EAA8BwJ,MAA9B,EAAsC;AACpC5hB,EAAAA,KAAK,CAAC,eAAD,EAAkBoY,KAAK,CAACgK,UAAxB,EAAoChK,KAAK,CAAC1V,MAA1C,CAAL,CADoC,CACoB;;AAExD,MAAI,CAAC0V,KAAK,CAACgK,UAAP,IAAqBhK,KAAK,CAAC1V,MAAN,KAAiB,CAA1C,EAA6C;AAC3C0V,IAAAA,KAAK,CAACgK,UAAN,GAAmB,IAAnB;AACAR,IAAAA,MAAM,CAACrC,QAAP,GAAkB,KAAlB;AACAqC,IAAAA,MAAM,CAAC1e,IAAP,CAAY,KAAZ;;AAEA,QAAIkV,KAAK,CAACyK,WAAV,EAAuB;AACrB;AACA;AACA,UAAI6E,MAAM,GAAG9F,MAAM,CAACnC,cAApB;;AAEA,UAAI,CAACiI,MAAD,IAAWA,MAAM,CAAC7E,WAAP,IAAsB6E,MAAM,CAACC,QAA5C,EAAsD;AACpD/F,QAAAA,MAAM,CAACvd,OAAP;AACD;AACF;AACF;AACF;;AAED,IAAI,OAAO+iB,MAAP,KAAkB,UAAtB,EAAkC;AAChCjI,EAAAA,QAAQ,CAAC5d,IAAT,GAAgB,UAAUqmB,QAAV,EAAoBhnB,IAApB,EAA0B;AACxC,QAAIW,IAAI,KAAKyU,SAAb,EAAwB;AACtBzU,MAAAA,IAAI,GAAGtB,mBAAO,CAAC,oGAAD,CAAd;AACD;;AAED,WAAOsB,IAAI,CAAC4d,QAAD,EAAWyI,QAAX,EAAqBhnB,IAArB,CAAX;AACD,GAND;AAOD;;AAED,SAAS4N,OAAT,CAAiBqZ,EAAjB,EAAqBC,CAArB,EAAwB;AACtB,OAAK,IAAIjd,CAAC,GAAG,CAAR,EAAWkd,CAAC,GAAGF,EAAE,CAACnlB,MAAvB,EAA+BmI,CAAC,GAAGkd,CAAnC,EAAsCld,CAAC,EAAvC,EAA2C;AACzC,QAAIgd,EAAE,CAAChd,CAAD,CAAF,KAAUid,CAAd,EAAiB,OAAOjd,CAAP;AAClB;;AAED,SAAO,CAAC,CAAR;AACD;;;;;;;;;;;ACnmCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;;AAEbzF,MAAM,CAACC,OAAP,GAAiB4a,SAAjB;;AAEA,IAAIkB,cAAc,GAAGlhB,gGAArB;AAAA,IACIqhB,0BAA0B,GAAGH,cAAc,CAACG,0BADhD;AAAA,IAEI0G,qBAAqB,GAAG7G,cAAc,CAAC6G,qBAF3C;AAAA,IAGIC,kCAAkC,GAAG9G,cAAc,CAAC8G,kCAHxD;AAAA,IAIIC,2BAA2B,GAAG/G,cAAc,CAAC+G,2BAJjD;;AAMA,IAAIhJ,MAAM,GAAGjf,mBAAO,CAAC,8EAAD,CAApB;;AAEAA,mBAAO,CAAC,6DAAD,CAAP,CAAoBggB,SAApB,EAA+Bf,MAA/B;;AAEA,SAASiJ,cAAT,CAAwBlR,EAAxB,EAA4B/R,IAA5B,EAAkC;AAChC,MAAIkjB,EAAE,GAAG,KAAKC,eAAd;AACAD,EAAAA,EAAE,CAACE,YAAH,GAAkB,KAAlB;AACA,MAAInkB,EAAE,GAAGikB,EAAE,CAACG,OAAZ;;AAEA,MAAIpkB,EAAE,KAAK,IAAX,EAAiB;AACf,WAAO,KAAKjB,IAAL,CAAU,OAAV,EAAmB,IAAI8kB,qBAAJ,EAAnB,CAAP;AACD;;AAEDI,EAAAA,EAAE,CAACI,UAAH,GAAgB,IAAhB;AACAJ,EAAAA,EAAE,CAACG,OAAH,GAAa,IAAb;AACA,MAAIrjB,IAAI,IAAI,IAAZ,EAAkB;AAChB,SAAK+F,IAAL,CAAU/F,IAAV;AACFf,EAAAA,EAAE,CAAC8S,EAAD,CAAF;AACA,MAAIwR,EAAE,GAAG,KAAK1I,cAAd;AACA0I,EAAAA,EAAE,CAACpG,OAAH,GAAa,KAAb;;AAEA,MAAIoG,EAAE,CAAClG,YAAH,IAAmBkG,EAAE,CAAC/lB,MAAH,GAAY+lB,EAAE,CAAC/I,aAAtC,EAAqD;AACnD,SAAKyD,KAAL,CAAWsF,EAAE,CAAC/I,aAAd;AACD;AACF;;AAED,SAASO,SAAT,CAAmB1E,OAAnB,EAA4B;AAC1B,MAAI,EAAE,gBAAgB0E,SAAlB,CAAJ,EAAkC,OAAO,IAAIA,SAAJ,CAAc1E,OAAd,CAAP;AAClC2D,EAAAA,MAAM,CAACpP,IAAP,CAAY,IAAZ,EAAkByL,OAAlB;AACA,OAAK8M,eAAL,GAAuB;AACrBF,IAAAA,cAAc,EAAEA,cAAc,CAAC7P,IAAf,CAAoB,IAApB,CADK;AAErBoQ,IAAAA,aAAa,EAAE,KAFM;AAGrBJ,IAAAA,YAAY,EAAE,KAHO;AAIrBC,IAAAA,OAAO,EAAE,IAJY;AAKrBC,IAAAA,UAAU,EAAE,IALS;AAMrBG,IAAAA,aAAa,EAAE;AANM,GAAvB,CAH0B,CAUvB;;AAEH,OAAK5I,cAAL,CAAoBwC,YAApB,GAAmC,IAAnC,CAZ0B,CAYe;AACzC;AACA;;AAEA,OAAKxC,cAAL,CAAoBuC,IAApB,GAA2B,KAA3B;;AAEA,MAAI/G,OAAJ,EAAa;AACX,QAAI,OAAOA,OAAO,CAACqN,SAAf,KAA6B,UAAjC,EAA6C,KAAK1I,UAAL,GAAkB3E,OAAO,CAACqN,SAA1B;AAC7C,QAAI,OAAOrN,OAAO,CAACsN,KAAf,KAAyB,UAA7B,EAAyC,KAAKC,MAAL,GAAcvN,OAAO,CAACsN,KAAtB;AAC1C,GArByB,CAqBxB;;;AAGF,OAAK5jB,EAAL,CAAQ,WAAR,EAAqB8jB,SAArB;AACD;;AAED,SAASA,SAAT,GAAqB;AACnB,MAAI9B,KAAK,GAAG,IAAZ;;AAEA,MAAI,OAAO,KAAK6B,MAAZ,KAAuB,UAAvB,IAAqC,CAAC,KAAK/I,cAAL,CAAoBne,SAA9D,EAAyE;AACvE,SAAKknB,MAAL,CAAY,UAAU7R,EAAV,EAAc/R,IAAd,EAAoB;AAC9B8jB,MAAAA,IAAI,CAAC/B,KAAD,EAAQhQ,EAAR,EAAY/R,IAAZ,CAAJ;AACD,KAFD;AAGD,GAJD,MAIO;AACL8jB,IAAAA,IAAI,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,CAAJ;AACD;AACF;;AAED/I,SAAS,CAAC1U,SAAV,CAAoBN,IAApB,GAA2B,UAAUkV,KAAV,EAAiBC,QAAjB,EAA2B;AACpD,OAAKiI,eAAL,CAAqBK,aAArB,GAAqC,KAArC;AACA,SAAOxJ,MAAM,CAAC3T,SAAP,CAAiBN,IAAjB,CAAsB6E,IAAtB,CAA2B,IAA3B,EAAiCqQ,KAAjC,EAAwCC,QAAxC,CAAP;AACD,CAHD,EAGG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGAH,SAAS,CAAC1U,SAAV,CAAoB2U,UAApB,GAAiC,UAAUC,KAAV,EAAiBC,QAAjB,EAA2Bjc,EAA3B,EAA+B;AAC9DA,EAAAA,EAAE,CAAC,IAAImd,0BAAJ,CAA+B,cAA/B,CAAD,CAAF;AACD,CAFD;;AAIArB,SAAS,CAAC1U,SAAV,CAAoB0d,MAApB,GAA6B,UAAU9I,KAAV,EAAiBC,QAAjB,EAA2Bjc,EAA3B,EAA+B;AAC1D,MAAIikB,EAAE,GAAG,KAAKC,eAAd;AACAD,EAAAA,EAAE,CAACG,OAAH,GAAapkB,EAAb;AACAikB,EAAAA,EAAE,CAACI,UAAH,GAAgBrI,KAAhB;AACAiI,EAAAA,EAAE,CAACO,aAAH,GAAmBvI,QAAnB;;AAEA,MAAI,CAACgI,EAAE,CAACE,YAAR,EAAsB;AACpB,QAAIG,EAAE,GAAG,KAAK1I,cAAd;AACA,QAAIqI,EAAE,CAACM,aAAH,IAAoBD,EAAE,CAAClG,YAAvB,IAAuCkG,EAAE,CAAC/lB,MAAH,GAAY+lB,EAAE,CAAC/I,aAA1D,EAAyE,KAAKyD,KAAL,CAAWsF,EAAE,CAAC/I,aAAd;AAC1E;AACF,CAVD,EAUG;AACH;AACA;;;AAGAO,SAAS,CAAC1U,SAAV,CAAoB4X,KAApB,GAA4B,UAAUzM,CAAV,EAAa;AACvC,MAAI0R,EAAE,GAAG,KAAKC,eAAd;;AAEA,MAAID,EAAE,CAACI,UAAH,KAAkB,IAAlB,IAA0B,CAACJ,EAAE,CAACE,YAAlC,EAAgD;AAC9CF,IAAAA,EAAE,CAACE,YAAH,GAAkB,IAAlB;;AAEA,SAAKpI,UAAL,CAAgBkI,EAAE,CAACI,UAAnB,EAA+BJ,EAAE,CAACO,aAAlC,EAAiDP,EAAE,CAACD,cAApD;AACD,GAJD,MAIO;AACL;AACA;AACAC,IAAAA,EAAE,CAACM,aAAH,GAAmB,IAAnB;AACD;AACF,CAZD;;AAcAzI,SAAS,CAAC1U,SAAV,CAAoB6X,QAApB,GAA+B,UAAUngB,GAAV,EAAekB,EAAf,EAAmB;AAChD+a,EAAAA,MAAM,CAAC3T,SAAP,CAAiB6X,QAAjB,CAA0BtT,IAA1B,CAA+B,IAA/B,EAAqC7M,GAArC,EAA0C,UAAUimB,IAAV,EAAgB;AACxD/kB,IAAAA,EAAE,CAAC+kB,IAAD,CAAF;AACD,GAFD;AAGD,CAJD;;AAMA,SAASF,IAAT,CAAcpH,MAAd,EAAsB3K,EAAtB,EAA0B/R,IAA1B,EAAgC;AAC9B,MAAI+R,EAAJ,EAAQ,OAAO2K,MAAM,CAAC1e,IAAP,CAAY,OAAZ,EAAqB+T,EAArB,CAAP;AACR,MAAI/R,IAAI,IAAI,IAAZ,EAAkB;AAChB0c,IAAAA,MAAM,CAAC3W,IAAP,CAAY/F,IAAZ,EAH4B,CAGT;AACrB;AACA;;AAEA,MAAI0c,MAAM,CAACnC,cAAP,CAAsB/c,MAA1B,EAAkC,MAAM,IAAIwlB,2BAAJ,EAAN;AAClC,MAAItG,MAAM,CAACyG,eAAP,CAAuBC,YAA3B,EAAyC,MAAM,IAAIL,kCAAJ,EAAN;AACzC,SAAOrG,MAAM,CAAC3W,IAAP,CAAY,IAAZ,CAAP;AACD;;;;;;;;;;;;ACxMD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;;AAEb7F,MAAM,CAACC,OAAP,GAAiB+Z,QAAjB;AACA;;AAEA,SAAS+J,QAAT,CAAkBhJ,KAAlB,EAAyBC,QAAzB,EAAmCjc,EAAnC,EAAuC;AACrC,OAAKgc,KAAL,GAAaA,KAAb;AACA,OAAKC,QAAL,GAAgBA,QAAhB;AACA,OAAKgJ,QAAL,GAAgBjlB,EAAhB;AACA,OAAKmgB,IAAL,GAAY,IAAZ;AACD,EAAC;AACF;;;AAGA,SAAS+E,aAAT,CAAuBjR,KAAvB,EAA8B;AAC5B,MAAI6O,KAAK,GAAG,IAAZ;;AAEA,OAAK3C,IAAL,GAAY,IAAZ;AACA,OAAKgF,KAAL,GAAa,IAAb;;AAEA,OAAKC,MAAL,GAAc,YAAY;AACxBC,IAAAA,cAAc,CAACvC,KAAD,EAAQ7O,KAAR,CAAd;AACD,GAFD;AAGD;AACD;;AAEA;;;AAGA,IAAI8G,MAAJ;AACA;;AAEAE,QAAQ,CAACqK,aAAT,GAAyBA,aAAzB;AACA;;AAEA,IAAIC,YAAY,GAAG;AACjBC,EAAAA,SAAS,EAAE1pB,mBAAO,CAAC,gEAAD;AADD,CAAnB;AAGA;;AAEA;;AAEA,IAAIugB,MAAM,GAAGvgB,mBAAO,CAAC,wGAAD,CAApB;AACA;;;AAGA,IAAIqB,MAAM,GAAGrB,4EAAb;;AAEA,IAAIwgB,aAAa,GAAGxQ,qBAAM,CAACyQ,UAAP,IAAqB,YAAY,CAAE,CAAvD;;AAEA,SAASC,mBAAT,CAA6BR,KAA7B,EAAoC;AAClC,SAAO7e,MAAM,CAACC,IAAP,CAAY4e,KAAZ,CAAP;AACD;;AAED,SAASS,aAAT,CAAuBzU,GAAvB,EAA4B;AAC1B,SAAO7K,MAAM,CAAC4M,QAAP,CAAgB/B,GAAhB,KAAwBA,GAAG,YAAYsU,aAA9C;AACD;;AAED,IAAIO,WAAW,GAAG/gB,mBAAO,CAAC,kGAAD,CAAzB;;AAEA,IAAIghB,QAAQ,GAAGhhB,mBAAO,CAAC,8FAAD,CAAtB;AAAA,IACIihB,gBAAgB,GAAGD,QAAQ,CAACC,gBADhC;;AAGA,IAAIC,cAAc,GAAGlhB,gGAArB;AAAA,IACImhB,oBAAoB,GAAGD,cAAc,CAACC,oBAD1C;AAAA,IAEIE,0BAA0B,GAAGH,cAAc,CAACG,0BAFhD;AAAA,IAGI0G,qBAAqB,GAAG7G,cAAc,CAAC6G,qBAH3C;AAAA,IAII4B,sBAAsB,GAAGzI,cAAc,CAACyI,sBAJ5C;AAAA,IAKIC,oBAAoB,GAAG1I,cAAc,CAAC0I,oBAL1C;AAAA,IAMIC,sBAAsB,GAAG3I,cAAc,CAAC2I,sBAN5C;AAAA,IAOIC,0BAA0B,GAAG5I,cAAc,CAAC4I,0BAPhD;AAAA,IAQIC,oBAAoB,GAAG7I,cAAc,CAAC6I,oBAR1C;;AAUA,IAAItI,cAAc,GAAGV,WAAW,CAACU,cAAjC;;AAEAzhB,mBAAO,CAAC,6DAAD,CAAP,CAAoBmf,QAApB,EAA8BoB,MAA9B;;AAEA,SAASyJ,GAAT,GAAe,CAAE;;AAEjB,SAASR,aAAT,CAAuBlO,OAAvB,EAAgCqG,MAAhC,EAAwCC,QAAxC,EAAkD;AAChD3C,EAAAA,MAAM,GAAGA,MAAM,IAAIjf,mBAAO,CAAC,8EAAD,CAA1B;AACAsb,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB,CAFgD,CAEvB;AACzB;AACA;AACA;AACA;;AAEA,MAAI,OAAOsG,QAAP,KAAoB,SAAxB,EAAmCA,QAAQ,GAAGD,MAAM,YAAY1C,MAA7B,CARa,CAQwB;AACxE;;AAEA,OAAK4C,UAAL,GAAkB,CAAC,CAACvG,OAAO,CAACuG,UAA5B;AACA,MAAID,QAAJ,EAAc,KAAKC,UAAL,GAAkB,KAAKA,UAAL,IAAmB,CAAC,CAACvG,OAAO,CAAC2O,kBAA/C,CAZkC,CAYiC;AACjF;AACA;;AAEA,OAAKxK,aAAL,GAAqBwB,gBAAgB,CAAC,IAAD,EAAO3F,OAAP,EAAgB,uBAAhB,EAAyCsG,QAAzC,CAArC,CAhBgD,CAgByC;;AAEzF,OAAKsI,WAAL,GAAmB,KAAnB,CAlBgD,CAkBtB;;AAE1B,OAAK7D,SAAL,GAAiB,KAAjB,CApBgD,CAoBxB;;AAExB,OAAK8D,MAAL,GAAc,KAAd,CAtBgD,CAsB3B;;AAErB,OAAKxK,KAAL,GAAa,KAAb,CAxBgD,CAwB5B;;AAEpB,OAAK+H,QAAL,GAAgB,KAAhB,CA1BgD,CA0BzB;;AAEvB,OAAK/lB,SAAL,GAAiB,KAAjB,CA5BgD,CA4BxB;AACxB;AACA;;AAEA,MAAIyoB,QAAQ,GAAG9O,OAAO,CAAC+O,aAAR,KAA0B,KAAzC;AACA,OAAKA,aAAL,GAAqB,CAACD,QAAtB,CAjCgD,CAiChB;AAChC;AACA;;AAEA,OAAKvH,eAAL,GAAuBvH,OAAO,CAACuH,eAAR,IAA2B,MAAlD,CArCgD,CAqCU;AAC1D;AACA;;AAEA,OAAKpgB,MAAL,GAAc,CAAd,CAzCgD,CAyC/B;;AAEjB,OAAK6nB,OAAL,GAAe,KAAf,CA3CgD,CA2C1B;;AAEtB,OAAKC,MAAL,GAAc,CAAd,CA7CgD,CA6C/B;AACjB;AACA;AACA;;AAEA,OAAKlI,IAAL,GAAY,IAAZ,CAlDgD,CAkD9B;AAClB;AACA;;AAEA,OAAKmI,gBAAL,GAAwB,KAAxB,CAtDgD,CAsDjB;;AAE/B,OAAKC,OAAL,GAAe,UAAUzT,EAAV,EAAc;AAC3ByT,IAAAA,OAAO,CAAC9I,MAAD,EAAS3K,EAAT,CAAP;AACD,GAFD,CAxDgD,CA0D7C;;;AAGH,OAAKsR,OAAL,GAAe,IAAf,CA7DgD,CA6D3B;;AAErB,OAAKoC,QAAL,GAAgB,CAAhB;AACA,OAAKC,eAAL,GAAuB,IAAvB;AACA,OAAKC,mBAAL,GAA2B,IAA3B,CAjEgD,CAiEf;AACjC;;AAEA,OAAKC,SAAL,GAAiB,CAAjB,CApEgD,CAoE5B;AACpB;;AAEA,OAAKC,WAAL,GAAmB,KAAnB,CAvEgD,CAuEtB;;AAE1B,OAAKC,YAAL,GAAoB,KAApB,CAzEgD,CAyErB;;AAE3B,OAAKpI,SAAL,GAAiBrH,OAAO,CAACqH,SAAR,KAAsB,KAAvC,CA3EgD,CA2EF;;AAE9C,OAAKC,WAAL,GAAmB,CAAC,CAACtH,OAAO,CAACsH,WAA7B,CA7EgD,CA6EN;;AAE1C,OAAKoI,oBAAL,GAA4B,CAA5B,CA/EgD,CA+EjB;AAC/B;;AAEA,OAAKC,kBAAL,GAA0B,IAAI7B,aAAJ,CAAkB,IAAlB,CAA1B;AACD;;AAEDI,aAAa,CAACle,SAAd,CAAwBoU,SAAxB,GAAoC,SAASA,SAAT,GAAqB;AACvD,MAAIwL,OAAO,GAAG,KAAKP,eAAnB;AACA,MAAIQ,GAAG,GAAG,EAAV;;AAEA,SAAOD,OAAP,EAAgB;AACdC,IAAAA,GAAG,CAACngB,IAAJ,CAASkgB,OAAT;AACAA,IAAAA,OAAO,GAAGA,OAAO,CAAC7G,IAAlB;AACD;;AAED,SAAO8G,GAAP;AACD,CAVD;;AAYA,CAAC,YAAY;AACX,MAAI;AACF1mB,IAAAA,MAAM,CAAC4K,cAAP,CAAsBma,aAAa,CAACle,SAApC,EAA+C,QAA/C,EAAyD;AACvDgJ,MAAAA,GAAG,EAAEmV,YAAY,CAACC,SAAb,CAAuB,SAAS0B,yBAAT,GAAqC;AAC/D,eAAO,KAAK1L,SAAL,EAAP;AACD,OAFI,EAEF,uEAAuE,UAFrE,EAEiF,SAFjF;AADkD,KAAzD;AAKD,GAND,CAME,OAAOpT,CAAP,EAAU,CAAE;AACf,CARD,KAQM;AACN;;;AAGA,IAAI+e,eAAJ;;AAEA,IAAI,OAAOlE,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACmE,WAAvC,IAAsD,OAAO/V,QAAQ,CAACjK,SAAT,CAAmB6b,MAAM,CAACmE,WAA1B,CAAP,KAAkD,UAA5G,EAAwH;AACtHD,EAAAA,eAAe,GAAG9V,QAAQ,CAACjK,SAAT,CAAmB6b,MAAM,CAACmE,WAA1B,CAAlB;AACA7mB,EAAAA,MAAM,CAAC4K,cAAP,CAAsB8P,QAAtB,EAAgCgI,MAAM,CAACmE,WAAvC,EAAoD;AAClDvf,IAAAA,KAAK,EAAE,SAASA,KAAT,CAAewf,MAAf,EAAuB;AAC5B,UAAIF,eAAe,CAACxb,IAAhB,CAAqB,IAArB,EAA2B0b,MAA3B,CAAJ,EAAwC,OAAO,IAAP;AACxC,UAAI,SAASpM,QAAb,EAAuB,OAAO,KAAP;AACvB,aAAOoM,MAAM,IAAIA,MAAM,CAAC/L,cAAP,YAAiCgK,aAAlD;AACD;AALiD,GAApD;AAOD,CATD,MASO;AACL6B,EAAAA,eAAe,GAAG,SAASA,eAAT,CAAyBE,MAAzB,EAAiC;AACjD,WAAOA,MAAM,YAAY,IAAzB;AACD,GAFD;AAGD;;AAED,SAASpM,QAAT,CAAkB7D,OAAlB,EAA2B;AACzB2D,EAAAA,MAAM,GAAGA,MAAM,IAAIjf,mBAAO,CAAC,8EAAD,CAA1B,CADyB,CACuB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAI4hB,QAAQ,GAAG,gBAAgB3C,MAA/B;AACA,MAAI,CAAC2C,QAAD,IAAa,CAACyJ,eAAe,CAACxb,IAAhB,CAAqBsP,QAArB,EAA+B,IAA/B,CAAlB,EAAwD,OAAO,IAAIA,QAAJ,CAAa7D,OAAb,CAAP;AACxD,OAAKkE,cAAL,GAAsB,IAAIgK,aAAJ,CAAkBlO,OAAlB,EAA2B,IAA3B,EAAiCsG,QAAjC,CAAtB,CAZyB,CAYyC;;AAElE,OAAK5G,QAAL,GAAgB,IAAhB;;AAEA,MAAIM,OAAJ,EAAa;AACX,QAAI,OAAOA,OAAO,CAACsI,KAAf,KAAyB,UAA7B,EAAyC,KAAKoF,MAAL,GAAc1N,OAAO,CAACsI,KAAtB;AACzC,QAAI,OAAOtI,OAAO,CAACkQ,MAAf,KAA0B,UAA9B,EAA0C,KAAKC,OAAL,GAAenQ,OAAO,CAACkQ,MAAvB;AAC1C,QAAI,OAAOlQ,OAAO,CAAClX,OAAf,KAA2B,UAA/B,EAA2C,KAAK+e,QAAL,GAAgB7H,OAAO,CAAClX,OAAxB;AAC3C,QAAI,OAAOkX,OAAO,CAACoQ,KAAf,KAAyB,UAA7B,EAAyC,KAAKC,MAAL,GAAcrQ,OAAO,CAACoQ,KAAtB;AAC1C;;AAEDnL,EAAAA,MAAM,CAAC1Q,IAAP,CAAY,IAAZ;AACD,EAAC;;;AAGFsP,QAAQ,CAAC7T,SAAT,CAAmB2Z,IAAnB,GAA0B,YAAY;AACpCxD,EAAAA,cAAc,CAAC,IAAD,EAAO,IAAIkI,sBAAJ,EAAP,CAAd;AACD,CAFD;;AAIA,SAASiC,aAAT,CAAuBjK,MAAvB,EAA+Bzd,EAA/B,EAAmC;AACjC,MAAI8S,EAAE,GAAG,IAAI8S,0BAAJ,EAAT,CADiC,CACU;;AAE3CrI,EAAAA,cAAc,CAACE,MAAD,EAAS3K,EAAT,CAAd;AACAhW,EAAAA,OAAO,CAACoc,QAAR,CAAiBlZ,EAAjB,EAAqB8S,EAArB;AACD,EAAC;AACF;AACA;;;AAGA,SAAS6U,UAAT,CAAoBlK,MAApB,EAA4BxJ,KAA5B,EAAmC+H,KAAnC,EAA0Chc,EAA1C,EAA8C;AAC5C,MAAI8S,EAAJ;;AAEA,MAAIkJ,KAAK,KAAK,IAAd,EAAoB;AAClBlJ,IAAAA,EAAE,GAAG,IAAI6S,sBAAJ,EAAL;AACD,GAFD,MAEO,IAAI,OAAO3J,KAAP,KAAiB,QAAjB,IAA6B,CAAC/H,KAAK,CAAC0J,UAAxC,EAAoD;AACzD7K,IAAAA,EAAE,GAAG,IAAImK,oBAAJ,CAAyB,OAAzB,EAAkC,CAAC,QAAD,EAAW,QAAX,CAAlC,EAAwDjB,KAAxD,CAAL;AACD;;AAED,MAAIlJ,EAAJ,EAAQ;AACNyK,IAAAA,cAAc,CAACE,MAAD,EAAS3K,EAAT,CAAd;AACAhW,IAAAA,OAAO,CAACoc,QAAR,CAAiBlZ,EAAjB,EAAqB8S,EAArB;AACA,WAAO,KAAP;AACD;;AAED,SAAO,IAAP;AACD;;AAEDmI,QAAQ,CAAC7T,SAAT,CAAmBsY,KAAnB,GAA2B,UAAU1D,KAAV,EAAiBC,QAAjB,EAA2Bjc,EAA3B,EAA+B;AACxD,MAAIiU,KAAK,GAAG,KAAKqH,cAAjB;AACA,MAAIjG,GAAG,GAAG,KAAV;;AAEA,MAAIuS,KAAK,GAAG,CAAC3T,KAAK,CAAC0J,UAAP,IAAqBlB,aAAa,CAACT,KAAD,CAA9C;;AAEA,MAAI4L,KAAK,IAAI,CAACzqB,MAAM,CAAC4M,QAAP,CAAgBiS,KAAhB,CAAd,EAAsC;AACpCA,IAAAA,KAAK,GAAGQ,mBAAmB,CAACR,KAAD,CAA3B;AACD;;AAED,MAAI,OAAOC,QAAP,KAAoB,UAAxB,EAAoC;AAClCjc,IAAAA,EAAE,GAAGic,QAAL;AACAA,IAAAA,QAAQ,GAAG,IAAX;AACD;;AAED,MAAI2L,KAAJ,EAAW3L,QAAQ,GAAG,QAAX,CAAX,KAAoC,IAAI,CAACA,QAAL,EAAeA,QAAQ,GAAGhI,KAAK,CAAC0K,eAAjB;AACnD,MAAI,OAAO3e,EAAP,KAAc,UAAlB,EAA8BA,EAAE,GAAG8lB,GAAL;AAC9B,MAAI7R,KAAK,CAACgS,MAAV,EAAkByB,aAAa,CAAC,IAAD,EAAO1nB,EAAP,CAAb,CAAlB,KAA+C,IAAI4nB,KAAK,IAAID,UAAU,CAAC,IAAD,EAAO1T,KAAP,EAAc+H,KAAd,EAAqBhc,EAArB,CAAvB,EAAiD;AAC9FiU,IAAAA,KAAK,CAAC0S,SAAN;AACAtR,IAAAA,GAAG,GAAGwS,aAAa,CAAC,IAAD,EAAO5T,KAAP,EAAc2T,KAAd,EAAqB5L,KAArB,EAA4BC,QAA5B,EAAsCjc,EAAtC,CAAnB;AACD;AACD,SAAOqV,GAAP;AACD,CAtBD;;AAwBA4F,QAAQ,CAAC7T,SAAT,CAAmB0gB,IAAnB,GAA0B,YAAY;AACpC,OAAKxM,cAAL,CAAoB+K,MAApB;AACD,CAFD;;AAIApL,QAAQ,CAAC7T,SAAT,CAAmB2gB,MAAnB,GAA4B,YAAY;AACtC,MAAI9T,KAAK,GAAG,KAAKqH,cAAjB;;AAEA,MAAIrH,KAAK,CAACoS,MAAV,EAAkB;AAChBpS,IAAAA,KAAK,CAACoS,MAAN;AACA,QAAI,CAACpS,KAAK,CAACmS,OAAP,IAAkB,CAACnS,KAAK,CAACoS,MAAzB,IAAmC,CAACpS,KAAK,CAACqS,gBAA1C,IAA8DrS,KAAK,CAACwS,eAAxE,EAAyFuB,WAAW,CAAC,IAAD,EAAO/T,KAAP,CAAX;AAC1F;AACF,CAPD;;AASAgH,QAAQ,CAAC7T,SAAT,CAAmB6gB,kBAAnB,GAAwC,SAASA,kBAAT,CAA4BhM,QAA5B,EAAsC;AAC5E;AACA,MAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkCA,QAAQ,GAAGA,QAAQ,CAAC3e,WAAT,EAAX;AAClC,MAAI,EAAE,CAAC,KAAD,EAAQ,MAAR,EAAgB,OAAhB,EAAyB,OAAzB,EAAkC,QAAlC,EAA4C,QAA5C,EAAsD,MAAtD,EAA8D,OAA9D,EAAuE,SAAvE,EAAkF,UAAlF,EAA8F,KAA9F,EAAqG+M,OAArG,CAA6G,CAAC4R,QAAQ,GAAG,EAAZ,EAAgB3e,WAAhB,EAA7G,IAA8I,CAAC,CAAjJ,CAAJ,EAAyJ,MAAM,IAAIuoB,oBAAJ,CAAyB5J,QAAzB,CAAN;AACzJ,OAAKX,cAAL,CAAoBqD,eAApB,GAAsC1C,QAAtC;AACA,SAAO,IAAP;AACD,CAND;;AAQA1b,MAAM,CAAC4K,cAAP,CAAsB8P,QAAQ,CAAC7T,SAA/B,EAA0C,gBAA1C,EAA4D;AAC1D;AACA;AACA;AACA8D,EAAAA,UAAU,EAAE,KAJ8C;AAK1DkF,EAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,WAAO,KAAKkL,cAAL,IAAuB,KAAKA,cAAL,CAAoBE,SAApB,EAA9B;AACD;AAPyD,CAA5D;;AAUA,SAAS0M,WAAT,CAAqBjU,KAArB,EAA4B+H,KAA5B,EAAmCC,QAAnC,EAA6C;AAC3C,MAAI,CAAChI,KAAK,CAAC0J,UAAP,IAAqB1J,KAAK,CAACkS,aAAN,KAAwB,KAA7C,IAAsD,OAAOnK,KAAP,KAAiB,QAA3E,EAAqF;AACnFA,IAAAA,KAAK,GAAG7e,MAAM,CAACC,IAAP,CAAY4e,KAAZ,EAAmBC,QAAnB,CAAR;AACD;;AAED,SAAOD,KAAP;AACD;;AAEDzb,MAAM,CAAC4K,cAAP,CAAsB8P,QAAQ,CAAC7T,SAA/B,EAA0C,uBAA1C,EAAmE;AACjE;AACA;AACA;AACA8D,EAAAA,UAAU,EAAE,KAJqD;AAKjEkF,EAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,WAAO,KAAKkL,cAAL,CAAoBC,aAA3B;AACD;AAPgE,CAAnE,GAQI;AACJ;AACA;;AAEA,SAASsM,aAAT,CAAuBpK,MAAvB,EAA+BxJ,KAA/B,EAAsC2T,KAAtC,EAA6C5L,KAA7C,EAAoDC,QAApD,EAA8Djc,EAA9D,EAAkE;AAChE,MAAI,CAAC4nB,KAAL,EAAY;AACV,QAAIO,QAAQ,GAAGD,WAAW,CAACjU,KAAD,EAAQ+H,KAAR,EAAeC,QAAf,CAA1B;;AAEA,QAAID,KAAK,KAAKmM,QAAd,EAAwB;AACtBP,MAAAA,KAAK,GAAG,IAAR;AACA3L,MAAAA,QAAQ,GAAG,QAAX;AACAD,MAAAA,KAAK,GAAGmM,QAAR;AACD;AACF;;AAED,MAAIvnB,GAAG,GAAGqT,KAAK,CAAC0J,UAAN,GAAmB,CAAnB,GAAuB3B,KAAK,CAACzd,MAAvC;AACA0V,EAAAA,KAAK,CAAC1V,MAAN,IAAgBqC,GAAhB;AACA,MAAIyU,GAAG,GAAGpB,KAAK,CAAC1V,MAAN,GAAe0V,KAAK,CAACsH,aAA/B,CAbgE,CAalB;;AAE9C,MAAI,CAAClG,GAAL,EAAUpB,KAAK,CAACkO,SAAN,GAAkB,IAAlB;;AAEV,MAAIlO,KAAK,CAACmS,OAAN,IAAiBnS,KAAK,CAACoS,MAA3B,EAAmC;AACjC,QAAI+B,IAAI,GAAGnU,KAAK,CAACyS,mBAAjB;AACAzS,IAAAA,KAAK,CAACyS,mBAAN,GAA4B;AAC1B1K,MAAAA,KAAK,EAAEA,KADmB;AAE1BC,MAAAA,QAAQ,EAAEA,QAFgB;AAG1B2L,MAAAA,KAAK,EAAEA,KAHmB;AAI1B3C,MAAAA,QAAQ,EAAEjlB,EAJgB;AAK1BmgB,MAAAA,IAAI,EAAE;AALoB,KAA5B;;AAQA,QAAIiI,IAAJ,EAAU;AACRA,MAAAA,IAAI,CAACjI,IAAL,GAAYlM,KAAK,CAACyS,mBAAlB;AACD,KAFD,MAEO;AACLzS,MAAAA,KAAK,CAACwS,eAAN,GAAwBxS,KAAK,CAACyS,mBAA9B;AACD;;AAEDzS,IAAAA,KAAK,CAAC6S,oBAAN,IAA8B,CAA9B;AACD,GAjBD,MAiBO;AACLuB,IAAAA,OAAO,CAAC5K,MAAD,EAASxJ,KAAT,EAAgB,KAAhB,EAAuBrT,GAAvB,EAA4Bob,KAA5B,EAAmCC,QAAnC,EAA6Cjc,EAA7C,CAAP;AACD;;AAED,SAAOqV,GAAP;AACD;;AAED,SAASgT,OAAT,CAAiB5K,MAAjB,EAAyBxJ,KAAzB,EAAgCqT,MAAhC,EAAwC1mB,GAAxC,EAA6Cob,KAA7C,EAAoDC,QAApD,EAA8Djc,EAA9D,EAAkE;AAChEiU,EAAAA,KAAK,CAACuS,QAAN,GAAiB5lB,GAAjB;AACAqT,EAAAA,KAAK,CAACmQ,OAAN,GAAgBpkB,EAAhB;AACAiU,EAAAA,KAAK,CAACmS,OAAN,GAAgB,IAAhB;AACAnS,EAAAA,KAAK,CAACkK,IAAN,GAAa,IAAb;AACA,MAAIlK,KAAK,CAACxW,SAAV,EAAqBwW,KAAK,CAACsS,OAAN,CAAc,IAAIb,oBAAJ,CAAyB,OAAzB,CAAd,EAArB,KAA2E,IAAI4B,MAAJ,EAAY7J,MAAM,CAAC8J,OAAP,CAAevL,KAAf,EAAsB/H,KAAK,CAACsS,OAA5B,EAAZ,KAAsD9I,MAAM,CAACqH,MAAP,CAAc9I,KAAd,EAAqBC,QAArB,EAA+BhI,KAAK,CAACsS,OAArC;AACjItS,EAAAA,KAAK,CAACkK,IAAN,GAAa,KAAb;AACD;;AAED,SAASmK,YAAT,CAAsB7K,MAAtB,EAA8BxJ,KAA9B,EAAqCkK,IAArC,EAA2CrL,EAA3C,EAA+C9S,EAA/C,EAAmD;AACjD,IAAEiU,KAAK,CAAC0S,SAAR;;AAEA,MAAIxI,IAAJ,EAAU;AACR;AACA;AACArhB,IAAAA,OAAO,CAACoc,QAAR,CAAiBlZ,EAAjB,EAAqB8S,EAArB,EAHQ,CAGkB;AAC1B;;AAEAhW,IAAAA,OAAO,CAACoc,QAAR,CAAiBqP,WAAjB,EAA8B9K,MAA9B,EAAsCxJ,KAAtC;AACAwJ,IAAAA,MAAM,CAACnC,cAAP,CAAsBuL,YAAtB,GAAqC,IAArC;AACAtJ,IAAAA,cAAc,CAACE,MAAD,EAAS3K,EAAT,CAAd;AACD,GATD,MASO;AACL;AACA;AACA9S,IAAAA,EAAE,CAAC8S,EAAD,CAAF;AACA2K,IAAAA,MAAM,CAACnC,cAAP,CAAsBuL,YAAtB,GAAqC,IAArC;AACAtJ,IAAAA,cAAc,CAACE,MAAD,EAAS3K,EAAT,CAAd,CALK,CAKuB;AAC5B;;AAEAyV,IAAAA,WAAW,CAAC9K,MAAD,EAASxJ,KAAT,CAAX;AACD;AACF;;AAED,SAASuU,kBAAT,CAA4BvU,KAA5B,EAAmC;AACjCA,EAAAA,KAAK,CAACmS,OAAN,GAAgB,KAAhB;AACAnS,EAAAA,KAAK,CAACmQ,OAAN,GAAgB,IAAhB;AACAnQ,EAAAA,KAAK,CAAC1V,MAAN,IAAgB0V,KAAK,CAACuS,QAAtB;AACAvS,EAAAA,KAAK,CAACuS,QAAN,GAAiB,CAAjB;AACD;;AAED,SAASD,OAAT,CAAiB9I,MAAjB,EAAyB3K,EAAzB,EAA6B;AAC3B,MAAImB,KAAK,GAAGwJ,MAAM,CAACnC,cAAnB;AACA,MAAI6C,IAAI,GAAGlK,KAAK,CAACkK,IAAjB;AACA,MAAIne,EAAE,GAAGiU,KAAK,CAACmQ,OAAf;AACA,MAAI,OAAOpkB,EAAP,KAAc,UAAlB,EAA8B,MAAM,IAAI6jB,qBAAJ,EAAN;AAC9B2E,EAAAA,kBAAkB,CAACvU,KAAD,CAAlB;AACA,MAAInB,EAAJ,EAAQwV,YAAY,CAAC7K,MAAD,EAASxJ,KAAT,EAAgBkK,IAAhB,EAAsBrL,EAAtB,EAA0B9S,EAA1B,CAAZ,CAAR,KAAuD;AACrD;AACA,QAAIwjB,QAAQ,GAAGiF,UAAU,CAACxU,KAAD,CAAV,IAAqBwJ,MAAM,CAAChgB,SAA3C;;AAEA,QAAI,CAAC+lB,QAAD,IAAa,CAACvP,KAAK,CAACoS,MAApB,IAA8B,CAACpS,KAAK,CAACqS,gBAArC,IAAyDrS,KAAK,CAACwS,eAAnE,EAAoF;AAClFuB,MAAAA,WAAW,CAACvK,MAAD,EAASxJ,KAAT,CAAX;AACD;;AAED,QAAIkK,IAAJ,EAAU;AACRrhB,MAAAA,OAAO,CAACoc,QAAR,CAAiBwP,UAAjB,EAA6BjL,MAA7B,EAAqCxJ,KAArC,EAA4CuP,QAA5C,EAAsDxjB,EAAtD;AACD,KAFD,MAEO;AACL0oB,MAAAA,UAAU,CAACjL,MAAD,EAASxJ,KAAT,EAAgBuP,QAAhB,EAA0BxjB,EAA1B,CAAV;AACD;AACF;AACF;;AAED,SAAS0oB,UAAT,CAAoBjL,MAApB,EAA4BxJ,KAA5B,EAAmCuP,QAAnC,EAA6CxjB,EAA7C,EAAiD;AAC/C,MAAI,CAACwjB,QAAL,EAAemF,YAAY,CAAClL,MAAD,EAASxJ,KAAT,CAAZ;AACfA,EAAAA,KAAK,CAAC0S,SAAN;AACA3mB,EAAAA,EAAE;AACFuoB,EAAAA,WAAW,CAAC9K,MAAD,EAASxJ,KAAT,CAAX;AACD,EAAC;AACF;AACA;;;AAGA,SAAS0U,YAAT,CAAsBlL,MAAtB,EAA8BxJ,KAA9B,EAAqC;AACnC,MAAIA,KAAK,CAAC1V,MAAN,KAAiB,CAAjB,IAAsB0V,KAAK,CAACkO,SAAhC,EAA2C;AACzClO,IAAAA,KAAK,CAACkO,SAAN,GAAkB,KAAlB;AACA1E,IAAAA,MAAM,CAAC1e,IAAP,CAAY,OAAZ;AACD;AACF,EAAC;;;AAGF,SAASipB,WAAT,CAAqBvK,MAArB,EAA6BxJ,KAA7B,EAAoC;AAClCA,EAAAA,KAAK,CAACqS,gBAAN,GAAyB,IAAzB;AACA,MAAInB,KAAK,GAAGlR,KAAK,CAACwS,eAAlB;;AAEA,MAAIhJ,MAAM,CAAC8J,OAAP,IAAkBpC,KAAlB,IAA2BA,KAAK,CAAChF,IAArC,EAA2C;AACzC;AACA,QAAIyD,CAAC,GAAG3P,KAAK,CAAC6S,oBAAd;AACA,QAAIjJ,MAAM,GAAG,IAAIpf,KAAJ,CAAUmlB,CAAV,CAAb;AACA,QAAIgF,MAAM,GAAG3U,KAAK,CAAC8S,kBAAnB;AACA6B,IAAAA,MAAM,CAACzD,KAAP,GAAeA,KAAf;AACA,QAAIzR,KAAK,GAAG,CAAZ;AACA,QAAImV,UAAU,GAAG,IAAjB;;AAEA,WAAO1D,KAAP,EAAc;AACZtH,MAAAA,MAAM,CAACnK,KAAD,CAAN,GAAgByR,KAAhB;AACA,UAAI,CAACA,KAAK,CAACyC,KAAX,EAAkBiB,UAAU,GAAG,KAAb;AAClB1D,MAAAA,KAAK,GAAGA,KAAK,CAAChF,IAAd;AACAzM,MAAAA,KAAK,IAAI,CAAT;AACD;;AAEDmK,IAAAA,MAAM,CAACgL,UAAP,GAAoBA,UAApB;AACAR,IAAAA,OAAO,CAAC5K,MAAD,EAASxJ,KAAT,EAAgB,IAAhB,EAAsBA,KAAK,CAAC1V,MAA5B,EAAoCsf,MAApC,EAA4C,EAA5C,EAAgD+K,MAAM,CAACxD,MAAvD,CAAP,CAjByC,CAiB8B;AACvE;;AAEAnR,IAAAA,KAAK,CAAC0S,SAAN;AACA1S,IAAAA,KAAK,CAACyS,mBAAN,GAA4B,IAA5B;;AAEA,QAAIkC,MAAM,CAACzI,IAAX,EAAiB;AACflM,MAAAA,KAAK,CAAC8S,kBAAN,GAA2B6B,MAAM,CAACzI,IAAlC;AACAyI,MAAAA,MAAM,CAACzI,IAAP,GAAc,IAAd;AACD,KAHD,MAGO;AACLlM,MAAAA,KAAK,CAAC8S,kBAAN,GAA2B,IAAI7B,aAAJ,CAAkBjR,KAAlB,CAA3B;AACD;;AAEDA,IAAAA,KAAK,CAAC6S,oBAAN,GAA6B,CAA7B;AACD,GA/BD,MA+BO;AACL;AACA,WAAO3B,KAAP,EAAc;AACZ,UAAInJ,KAAK,GAAGmJ,KAAK,CAACnJ,KAAlB;AACA,UAAIC,QAAQ,GAAGkJ,KAAK,CAAClJ,QAArB;AACA,UAAIjc,EAAE,GAAGmlB,KAAK,CAACF,QAAf;AACA,UAAIrkB,GAAG,GAAGqT,KAAK,CAAC0J,UAAN,GAAmB,CAAnB,GAAuB3B,KAAK,CAACzd,MAAvC;AACA8pB,MAAAA,OAAO,CAAC5K,MAAD,EAASxJ,KAAT,EAAgB,KAAhB,EAAuBrT,GAAvB,EAA4Bob,KAA5B,EAAmCC,QAAnC,EAA6Cjc,EAA7C,CAAP;AACAmlB,MAAAA,KAAK,GAAGA,KAAK,CAAChF,IAAd;AACAlM,MAAAA,KAAK,CAAC6S,oBAAN,GAPY,CAOkB;AAC9B;AACA;AACA;;AAEA,UAAI7S,KAAK,CAACmS,OAAV,EAAmB;AACjB;AACD;AACF;;AAED,QAAIjB,KAAK,KAAK,IAAd,EAAoBlR,KAAK,CAACyS,mBAAN,GAA4B,IAA5B;AACrB;;AAEDzS,EAAAA,KAAK,CAACwS,eAAN,GAAwBtB,KAAxB;AACAlR,EAAAA,KAAK,CAACqS,gBAAN,GAAyB,KAAzB;AACD;;AAEDrL,QAAQ,CAAC7T,SAAT,CAAmB0d,MAAnB,GAA4B,UAAU9I,KAAV,EAAiBC,QAAjB,EAA2Bjc,EAA3B,EAA+B;AACzDA,EAAAA,EAAE,CAAC,IAAImd,0BAAJ,CAA+B,UAA/B,CAAD,CAAF;AACD,CAFD;;AAIAlC,QAAQ,CAAC7T,SAAT,CAAmBmgB,OAAnB,GAA6B,IAA7B;;AAEAtM,QAAQ,CAAC7T,SAAT,CAAmBuU,GAAnB,GAAyB,UAAUK,KAAV,EAAiBC,QAAjB,EAA2Bjc,EAA3B,EAA+B;AACtD,MAAIiU,KAAK,GAAG,KAAKqH,cAAjB;;AAEA,MAAI,OAAOU,KAAP,KAAiB,UAArB,EAAiC;AAC/Bhc,IAAAA,EAAE,GAAGgc,KAAL;AACAA,IAAAA,KAAK,GAAG,IAAR;AACAC,IAAAA,QAAQ,GAAG,IAAX;AACD,GAJD,MAIO,IAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AACzCjc,IAAAA,EAAE,GAAGic,QAAL;AACAA,IAAAA,QAAQ,GAAG,IAAX;AACD;;AAED,MAAID,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKnK,SAAhC,EAA2C,KAAK6N,KAAL,CAAW1D,KAAX,EAAkBC,QAAlB,EAZW,CAYkB;;AAExE,MAAIhI,KAAK,CAACoS,MAAV,EAAkB;AAChBpS,IAAAA,KAAK,CAACoS,MAAN,GAAe,CAAf;AACA,SAAK0B,MAAL;AACD,GAjBqD,CAiBpD;;;AAGF,MAAI,CAAC9T,KAAK,CAACgS,MAAX,EAAmB6C,WAAW,CAAC,IAAD,EAAO7U,KAAP,EAAcjU,EAAd,CAAX;AACnB,SAAO,IAAP;AACD,CAtBD;;AAwBAO,MAAM,CAAC4K,cAAP,CAAsB8P,QAAQ,CAAC7T,SAA/B,EAA0C,gBAA1C,EAA4D;AAC1D;AACA;AACA;AACA8D,EAAAA,UAAU,EAAE,KAJ8C;AAK1DkF,EAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,WAAO,KAAKkL,cAAL,CAAoB/c,MAA3B;AACD;AAPyD,CAA5D;;AAUA,SAASkqB,UAAT,CAAoBxU,KAApB,EAA2B;AACzB,SAAOA,KAAK,CAACgS,MAAN,IAAgBhS,KAAK,CAAC1V,MAAN,KAAiB,CAAjC,IAAsC0V,KAAK,CAACwS,eAAN,KAA0B,IAAhE,IAAwE,CAACxS,KAAK,CAACuP,QAA/E,IAA2F,CAACvP,KAAK,CAACmS,OAAzG;AACD;;AAED,SAAS2C,SAAT,CAAmBtL,MAAnB,EAA2BxJ,KAA3B,EAAkC;AAChCwJ,EAAAA,MAAM,CAACgK,MAAP,CAAc,UAAU3oB,GAAV,EAAe;AAC3BmV,IAAAA,KAAK,CAAC0S,SAAN;;AAEA,QAAI7nB,GAAJ,EAAS;AACPye,MAAAA,cAAc,CAACE,MAAD,EAAS3e,GAAT,CAAd;AACD;;AAEDmV,IAAAA,KAAK,CAAC2S,WAAN,GAAoB,IAApB;AACAnJ,IAAAA,MAAM,CAAC1e,IAAP,CAAY,WAAZ;AACAwpB,IAAAA,WAAW,CAAC9K,MAAD,EAASxJ,KAAT,CAAX;AACD,GAVD;AAWD;;AAED,SAAS2Q,SAAT,CAAmBnH,MAAnB,EAA2BxJ,KAA3B,EAAkC;AAChC,MAAI,CAACA,KAAK,CAAC2S,WAAP,IAAsB,CAAC3S,KAAK,CAAC+R,WAAjC,EAA8C;AAC5C,QAAI,OAAOvI,MAAM,CAACgK,MAAd,KAAyB,UAAzB,IAAuC,CAACxT,KAAK,CAACxW,SAAlD,EAA6D;AAC3DwW,MAAAA,KAAK,CAAC0S,SAAN;AACA1S,MAAAA,KAAK,CAAC+R,WAAN,GAAoB,IAApB;AACAlpB,MAAAA,OAAO,CAACoc,QAAR,CAAiB6P,SAAjB,EAA4BtL,MAA5B,EAAoCxJ,KAApC;AACD,KAJD,MAIO;AACLA,MAAAA,KAAK,CAAC2S,WAAN,GAAoB,IAApB;AACAnJ,MAAAA,MAAM,CAAC1e,IAAP,CAAY,WAAZ;AACD;AACF;AACF;;AAED,SAASwpB,WAAT,CAAqB9K,MAArB,EAA6BxJ,KAA7B,EAAoC;AAClC,MAAI+U,IAAI,GAAGP,UAAU,CAACxU,KAAD,CAArB;;AAEA,MAAI+U,IAAJ,EAAU;AACRpE,IAAAA,SAAS,CAACnH,MAAD,EAASxJ,KAAT,CAAT;;AAEA,QAAIA,KAAK,CAAC0S,SAAN,KAAoB,CAAxB,EAA2B;AACzB1S,MAAAA,KAAK,CAACuP,QAAN,GAAiB,IAAjB;AACA/F,MAAAA,MAAM,CAAC1e,IAAP,CAAY,QAAZ;;AAEA,UAAIkV,KAAK,CAACyK,WAAV,EAAuB;AACrB;AACA;AACA,YAAIuK,MAAM,GAAGxL,MAAM,CAAC7B,cAApB;;AAEA,YAAI,CAACqN,MAAD,IAAWA,MAAM,CAACvK,WAAP,IAAsBuK,MAAM,CAAChL,UAA5C,EAAwD;AACtDR,UAAAA,MAAM,CAACvd,OAAP;AACD;AACF;AACF;AACF;;AAED,SAAO8oB,IAAP;AACD;;AAED,SAASF,WAAT,CAAqBrL,MAArB,EAA6BxJ,KAA7B,EAAoCjU,EAApC,EAAwC;AACtCiU,EAAAA,KAAK,CAACgS,MAAN,GAAe,IAAf;AACAsC,EAAAA,WAAW,CAAC9K,MAAD,EAASxJ,KAAT,CAAX;;AAEA,MAAIjU,EAAJ,EAAQ;AACN,QAAIiU,KAAK,CAACuP,QAAV,EAAoB1mB,OAAO,CAACoc,QAAR,CAAiBlZ,EAAjB,EAApB,KAA8Cyd,MAAM,CAACzhB,IAAP,CAAY,QAAZ,EAAsBgE,EAAtB;AAC/C;;AAEDiU,EAAAA,KAAK,CAACwH,KAAN,GAAc,IAAd;AACAgC,EAAAA,MAAM,CAAC3G,QAAP,GAAkB,KAAlB;AACD;;AAED,SAASuO,cAAT,CAAwB6D,OAAxB,EAAiCjV,KAAjC,EAAwCnV,GAAxC,EAA6C;AAC3C,MAAIqmB,KAAK,GAAG+D,OAAO,CAAC/D,KAApB;AACA+D,EAAAA,OAAO,CAAC/D,KAAR,GAAgB,IAAhB;;AAEA,SAAOA,KAAP,EAAc;AACZ,QAAInlB,EAAE,GAAGmlB,KAAK,CAACF,QAAf;AACAhR,IAAAA,KAAK,CAAC0S,SAAN;AACA3mB,IAAAA,EAAE,CAAClB,GAAD,CAAF;AACAqmB,IAAAA,KAAK,GAAGA,KAAK,CAAChF,IAAd;AACD,GAT0C,CASzC;;;AAGFlM,EAAAA,KAAK,CAAC8S,kBAAN,CAAyB5G,IAAzB,GAAgC+I,OAAhC;AACD;;AAED3oB,MAAM,CAAC4K,cAAP,CAAsB8P,QAAQ,CAAC7T,SAA/B,EAA0C,WAA1C,EAAuD;AACrD;AACA;AACA;AACA8D,EAAAA,UAAU,EAAE,KAJyC;AAKrDkF,EAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,QAAI,KAAKkL,cAAL,KAAwBzJ,SAA5B,EAAuC;AACrC,aAAO,KAAP;AACD;;AAED,WAAO,KAAKyJ,cAAL,CAAoB7d,SAA3B;AACD,GAXoD;AAYrDgN,EAAAA,GAAG,EAAE,SAASA,GAAT,CAAa5C,KAAb,EAAoB;AACvB;AACA;AACA,QAAI,CAAC,KAAKyT,cAAV,EAA0B;AACxB;AACD,KALsB,CAKrB;AACF;;;AAGA,SAAKA,cAAL,CAAoB7d,SAApB,GAAgCoK,KAAhC;AACD;AAtBoD,CAAvD;AAwBAoT,QAAQ,CAAC7T,SAAT,CAAmBlH,OAAnB,GAA6B2c,WAAW,CAAC3c,OAAzC;AACA+a,QAAQ,CAAC7T,SAAT,CAAmB8X,UAAnB,GAAgCrC,WAAW,CAACsC,SAA5C;;AAEAlE,QAAQ,CAAC7T,SAAT,CAAmB6X,QAAnB,GAA8B,UAAUngB,GAAV,EAAekB,EAAf,EAAmB;AAC/CA,EAAAA,EAAE,CAAClB,GAAD,CAAF;AACD,CAFD;;;;;;;;;;;;ACtrBa;;AAEb,IAAIqqB,qBAAJ;;AAEA,SAASC,eAAT,CAAyBphB,GAAzB,EAA8BsC,GAA9B,EAAmCzC,KAAnC,EAA0C;AAAE,MAAIyC,GAAG,IAAItC,GAAX,EAAgB;AAAEzH,IAAAA,MAAM,CAAC4K,cAAP,CAAsBnD,GAAtB,EAA2BsC,GAA3B,EAAgC;AAAEzC,MAAAA,KAAK,EAAEA,KAAT;AAAgBqD,MAAAA,UAAU,EAAE,IAA5B;AAAkCiF,MAAAA,YAAY,EAAE,IAAhD;AAAsD2G,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAE9O,IAAAA,GAAG,CAACsC,GAAD,CAAH,GAAWzC,KAAX;AAAmB;;AAAC,SAAOG,GAAP;AAAa;;AAEjN,IAAIwb,QAAQ,GAAG1nB,mBAAO,CAAC,6FAAD,CAAtB;;AAEA,IAAIutB,YAAY,GAAGpG,MAAM,CAAC,aAAD,CAAzB;AACA,IAAIqG,WAAW,GAAGrG,MAAM,CAAC,YAAD,CAAxB;AACA,IAAIsG,MAAM,GAAGtG,MAAM,CAAC,OAAD,CAAnB;AACA,IAAIuG,MAAM,GAAGvG,MAAM,CAAC,OAAD,CAAnB;AACA,IAAIwG,YAAY,GAAGxG,MAAM,CAAC,aAAD,CAAzB;AACA,IAAIyG,cAAc,GAAGzG,MAAM,CAAC,eAAD,CAA3B;AACA,IAAI0G,OAAO,GAAG1G,MAAM,CAAC,QAAD,CAApB;;AAEA,SAAS2G,gBAAT,CAA0B/hB,KAA1B,EAAiCgd,IAAjC,EAAuC;AACrC,SAAO;AACLhd,IAAAA,KAAK,EAAEA,KADF;AAELgd,IAAAA,IAAI,EAAEA;AAFD,GAAP;AAID;;AAED,SAASgF,cAAT,CAAwBC,IAAxB,EAA8B;AAC5B,MAAI3gB,OAAO,GAAG2gB,IAAI,CAACT,YAAD,CAAlB;;AAEA,MAAIlgB,OAAO,KAAK,IAAhB,EAAsB;AACpB,QAAIpI,IAAI,GAAG+oB,IAAI,CAACH,OAAD,CAAJ,CAAc5K,IAAd,EAAX,CADoB,CACa;AACjC;AACA;;AAEA,QAAIhe,IAAI,KAAK,IAAb,EAAmB;AACjB+oB,MAAAA,IAAI,CAACL,YAAD,CAAJ,GAAqB,IAArB;AACAK,MAAAA,IAAI,CAACT,YAAD,CAAJ,GAAqB,IAArB;AACAS,MAAAA,IAAI,CAACR,WAAD,CAAJ,GAAoB,IAApB;AACAngB,MAAAA,OAAO,CAACygB,gBAAgB,CAAC7oB,IAAD,EAAO,KAAP,CAAjB,CAAP;AACD;AACF;AACF;;AAED,SAASgpB,UAAT,CAAoBD,IAApB,EAA0B;AACxB;AACA;AACAhtB,EAAAA,OAAO,CAACoc,QAAR,CAAiB2Q,cAAjB,EAAiCC,IAAjC;AACD;;AAED,SAASE,WAAT,CAAqBC,WAArB,EAAkCH,IAAlC,EAAwC;AACtC,SAAO,UAAU3gB,OAAV,EAAmBC,MAAnB,EAA2B;AAChC6gB,IAAAA,WAAW,CAAC5gB,IAAZ,CAAiB,YAAY;AAC3B,UAAIygB,IAAI,CAACN,MAAD,CAAR,EAAkB;AAChBrgB,QAAAA,OAAO,CAACygB,gBAAgB,CAAC/X,SAAD,EAAY,IAAZ,CAAjB,CAAP;AACA;AACD;;AAEDiY,MAAAA,IAAI,CAACJ,cAAD,CAAJ,CAAqBvgB,OAArB,EAA8BC,MAA9B;AACD,KAPD,EAOGA,MAPH;AAQD,GATD;AAUD;;AAED,IAAI8gB,sBAAsB,GAAG3pB,MAAM,CAAC4J,cAAP,CAAsB,YAAY,CAAE,CAApC,CAA7B;AACA,IAAIggB,oCAAoC,GAAG5pB,MAAM,CAAC6pB,cAAP,EAAuBjB,qBAAqB,GAAG;AACxF,MAAI1L,MAAJ,GAAa;AACX,WAAO,KAAKkM,OAAL,CAAP;AACD,GAHuF;;AAKxFxJ,EAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,QAAI2C,KAAK,GAAG,IAAZ,CADoB,CAGpB;AACA;;;AACA,QAAI7U,KAAK,GAAG,KAAKsb,MAAL,CAAZ;;AAEA,QAAItb,KAAK,KAAK,IAAd,EAAoB;AAClB,aAAO1F,OAAO,CAACa,MAAR,CAAe6E,KAAf,CAAP;AACD;;AAED,QAAI,KAAKub,MAAL,CAAJ,EAAkB;AAChB,aAAOjhB,OAAO,CAACY,OAAR,CAAgBygB,gBAAgB,CAAC/X,SAAD,EAAY,IAAZ,CAAhC,CAAP;AACD;;AAED,QAAI,KAAK8X,OAAL,EAAclsB,SAAlB,EAA6B;AAC3B;AACA;AACA;AACA;AACA,aAAO,IAAI8K,OAAJ,CAAY,UAAUY,OAAV,EAAmBC,MAAnB,EAA2B;AAC5CtM,QAAAA,OAAO,CAACoc,QAAR,CAAiB,YAAY;AAC3B,cAAI4J,KAAK,CAACyG,MAAD,CAAT,EAAmB;AACjBngB,YAAAA,MAAM,CAAC0Z,KAAK,CAACyG,MAAD,CAAN,CAAN;AACD,WAFD,MAEO;AACLpgB,YAAAA,OAAO,CAACygB,gBAAgB,CAAC/X,SAAD,EAAY,IAAZ,CAAjB,CAAP;AACD;AACF,SAND;AAOD,OARM,CAAP;AASD,KA7BmB,CA6BlB;AACF;AACA;AACA;;;AAGA,QAAIoY,WAAW,GAAG,KAAKR,YAAL,CAAlB;AACA,QAAInR,OAAJ;;AAEA,QAAI2R,WAAJ,EAAiB;AACf3R,MAAAA,OAAO,GAAG,IAAI/P,OAAJ,CAAYyhB,WAAW,CAACC,WAAD,EAAc,IAAd,CAAvB,CAAV;AACD,KAFD,MAEO;AACL;AACA;AACA,UAAIlpB,IAAI,GAAG,KAAK4oB,OAAL,EAAc5K,IAAd,EAAX;;AAEA,UAAIhe,IAAI,KAAK,IAAb,EAAmB;AACjB,eAAOwH,OAAO,CAACY,OAAR,CAAgBygB,gBAAgB,CAAC7oB,IAAD,EAAO,KAAP,CAAhC,CAAP;AACD;;AAEDuX,MAAAA,OAAO,GAAG,IAAI/P,OAAJ,CAAY,KAAKmhB,cAAL,CAAZ,CAAV;AACD;;AAED,SAAKD,YAAL,IAAqBnR,OAArB;AACA,WAAOA,OAAP;AACD;AA3DuF,CAAxB,EA4D/D8Q,eAAe,CAACD,qBAAD,EAAwBlG,MAAM,CAACC,aAA/B,EAA8C,YAAY;AAC1E,SAAO,IAAP;AACD,CAFiB,CA5DgD,EA8D9DkG,eAAe,CAACD,qBAAD,EAAwB,QAAxB,EAAkC,SAASkB,OAAT,GAAmB;AACtE,MAAIC,MAAM,GAAG,IAAb,CADsE,CAGtE;AACA;AACA;;;AACA,SAAO,IAAI/hB,OAAJ,CAAY,UAAUY,OAAV,EAAmBC,MAAnB,EAA2B;AAC5CkhB,IAAAA,MAAM,CAACX,OAAD,CAAN,CAAgBzpB,OAAhB,CAAwB,IAAxB,EAA8B,UAAUpB,GAAV,EAAe;AAC3C,UAAIA,GAAJ,EAAS;AACPsK,QAAAA,MAAM,CAACtK,GAAD,CAAN;AACA;AACD;;AAEDqK,MAAAA,OAAO,CAACygB,gBAAgB,CAAC/X,SAAD,EAAY,IAAZ,CAAjB,CAAP;AACD,KAPD;AAQD,GATM,CAAP;AAUD,CAhBkB,CA9D+C,EA8E9DsX,qBA9EuC,GA8Efe,sBA9Ee,CAA3C;;AAgFA,IAAI5M,iCAAiC,GAAG,SAASA,iCAAT,CAA2CG,MAA3C,EAAmD;AACzF,MAAI8M,cAAJ;;AAEA,MAAIC,QAAQ,GAAGjqB,MAAM,CAAC2J,MAAP,CAAcigB,oCAAd,GAAqDI,cAAc,GAAG,EAAjB,EAAqBnB,eAAe,CAACmB,cAAD,EAAiBZ,OAAjB,EAA0B;AAChI9hB,IAAAA,KAAK,EAAE4V,MADyH;AAEhI3G,IAAAA,QAAQ,EAAE;AAFsH,GAA1B,CAApC,EAGhEsS,eAAe,CAACmB,cAAD,EAAiBlB,YAAjB,EAA+B;AAChDxhB,IAAAA,KAAK,EAAE,IADyC;AAEhDiP,IAAAA,QAAQ,EAAE;AAFsC,GAA/B,CAHiD,EAMhEsS,eAAe,CAACmB,cAAD,EAAiBjB,WAAjB,EAA8B;AAC/CzhB,IAAAA,KAAK,EAAE,IADwC;AAE/CiP,IAAAA,QAAQ,EAAE;AAFqC,GAA9B,CANiD,EAShEsS,eAAe,CAACmB,cAAD,EAAiBhB,MAAjB,EAAyB;AAC1C1hB,IAAAA,KAAK,EAAE,IADmC;AAE1CiP,IAAAA,QAAQ,EAAE;AAFgC,GAAzB,CATiD,EAYhEsS,eAAe,CAACmB,cAAD,EAAiBf,MAAjB,EAAyB;AAC1C3hB,IAAAA,KAAK,EAAE4V,MAAM,CAAC7B,cAAP,CAAsBqC,UADa;AAE1CnH,IAAAA,QAAQ,EAAE;AAFgC,GAAzB,CAZiD,EAehEsS,eAAe,CAACmB,cAAD,EAAiBb,cAAjB,EAAiC;AAClD7hB,IAAAA,KAAK,EAAE,SAASA,KAAT,CAAesB,OAAf,EAAwBC,MAAxB,EAAgC;AACrC,UAAIrI,IAAI,GAAGypB,QAAQ,CAACb,OAAD,CAAR,CAAkB5K,IAAlB,EAAX;;AAEA,UAAIhe,IAAJ,EAAU;AACRypB,QAAAA,QAAQ,CAACf,YAAD,CAAR,GAAyB,IAAzB;AACAe,QAAAA,QAAQ,CAACnB,YAAD,CAAR,GAAyB,IAAzB;AACAmB,QAAAA,QAAQ,CAAClB,WAAD,CAAR,GAAwB,IAAxB;AACAngB,QAAAA,OAAO,CAACygB,gBAAgB,CAAC7oB,IAAD,EAAO,KAAP,CAAjB,CAAP;AACD,OALD,MAKO;AACLypB,QAAAA,QAAQ,CAACnB,YAAD,CAAR,GAAyBlgB,OAAzB;AACAqhB,QAAAA,QAAQ,CAAClB,WAAD,CAAR,GAAwBlgB,MAAxB;AACD;AACF,KAbiD;AAclD0N,IAAAA,QAAQ,EAAE;AAdwC,GAAjC,CAfiD,EA8BhEyT,cA9BW,EAAf;AA+BAC,EAAAA,QAAQ,CAACf,YAAD,CAAR,GAAyB,IAAzB;AACAjG,EAAAA,QAAQ,CAAC/F,MAAD,EAAS,UAAU3e,GAAV,EAAe;AAC9B,QAAIA,GAAG,IAAIA,GAAG,CAAC2a,IAAJ,KAAa,4BAAxB,EAAsD;AACpD,UAAIrQ,MAAM,GAAGohB,QAAQ,CAAClB,WAAD,CAArB,CADoD,CAChB;AACpC;;AAEA,UAAIlgB,MAAM,KAAK,IAAf,EAAqB;AACnBohB,QAAAA,QAAQ,CAACf,YAAD,CAAR,GAAyB,IAAzB;AACAe,QAAAA,QAAQ,CAACnB,YAAD,CAAR,GAAyB,IAAzB;AACAmB,QAAAA,QAAQ,CAAClB,WAAD,CAAR,GAAwB,IAAxB;AACAlgB,QAAAA,MAAM,CAACtK,GAAD,CAAN;AACD;;AAED0rB,MAAAA,QAAQ,CAACjB,MAAD,CAAR,GAAmBzqB,GAAnB;AACA;AACD;;AAED,QAAIqK,OAAO,GAAGqhB,QAAQ,CAACnB,YAAD,CAAtB;;AAEA,QAAIlgB,OAAO,KAAK,IAAhB,EAAsB;AACpBqhB,MAAAA,QAAQ,CAACf,YAAD,CAAR,GAAyB,IAAzB;AACAe,MAAAA,QAAQ,CAACnB,YAAD,CAAR,GAAyB,IAAzB;AACAmB,MAAAA,QAAQ,CAAClB,WAAD,CAAR,GAAwB,IAAxB;AACAngB,MAAAA,OAAO,CAACygB,gBAAgB,CAAC/X,SAAD,EAAY,IAAZ,CAAjB,CAAP;AACD;;AAED2Y,IAAAA,QAAQ,CAAChB,MAAD,CAAR,GAAmB,IAAnB;AACD,GA1BO,CAAR;AA2BA/L,EAAAA,MAAM,CAAC3c,EAAP,CAAU,UAAV,EAAsBipB,UAAU,CAAC5V,IAAX,CAAgB,IAAhB,EAAsBqW,QAAtB,CAAtB;AACA,SAAOA,QAAP;AACD,CAhED;;AAkEAvpB,MAAM,CAACC,OAAP,GAAiBoc,iCAAjB;;;;;;;;;;;AC9Ma;;AAEb,SAAS/L,OAAT,CAAiB8V,MAAjB,EAAyBoD,cAAzB,EAAyC;AAAE,MAAIzpB,IAAI,GAAGT,MAAM,CAACS,IAAP,CAAYqmB,MAAZ,CAAX;;AAAgC,MAAI9mB,MAAM,CAACuK,qBAAX,EAAkC;AAAE,QAAIC,OAAO,GAAGxK,MAAM,CAACuK,qBAAP,CAA6Buc,MAA7B,CAAd;AAAoD,QAAIoD,cAAJ,EAAoB1f,OAAO,GAAGA,OAAO,CAACzL,MAAR,CAAe,UAAUorB,GAAV,EAAe;AAAE,aAAOnqB,MAAM,CAACsK,wBAAP,CAAgCwc,MAAhC,EAAwCqD,GAAxC,EAA6Cxf,UAApD;AAAiE,KAAjG,CAAV;AAA8GlK,IAAAA,IAAI,CAAC8F,IAAL,CAAUmJ,KAAV,CAAgBjP,IAAhB,EAAsB+J,OAAtB;AAAiC;;AAAC,SAAO/J,IAAP;AAAc;;AAErV,SAAS2pB,aAAT,CAAuBxZ,MAAvB,EAA+B;AAAE,OAAK,IAAIzK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiM,SAAS,CAACpU,MAA9B,EAAsCmI,CAAC,EAAvC,EAA2C;AAAE,QAAI+C,MAAM,GAAGkJ,SAAS,CAACjM,CAAD,CAAT,IAAgB,IAAhB,GAAuBiM,SAAS,CAACjM,CAAD,CAAhC,GAAsC,EAAnD;;AAAuD,QAAIA,CAAC,GAAG,CAAR,EAAW;AAAE6K,MAAAA,OAAO,CAAChR,MAAM,CAACkJ,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8B9J,OAA9B,CAAsC,UAAU2K,GAAV,EAAe;AAAE8e,QAAAA,eAAe,CAACjY,MAAD,EAAS7G,GAAT,EAAcb,MAAM,CAACa,GAAD,CAApB,CAAf;AAA4C,OAAnG;AAAuG,KAApH,MAA0H,IAAI/J,MAAM,CAACqqB,yBAAX,EAAsC;AAAErqB,MAAAA,MAAM,CAACoH,gBAAP,CAAwBwJ,MAAxB,EAAgC5Q,MAAM,CAACqqB,yBAAP,CAAiCnhB,MAAjC,CAAhC;AAA4E,KAApH,MAA0H;AAAE8H,MAAAA,OAAO,CAAChR,MAAM,CAACkJ,MAAD,CAAP,CAAP,CAAwB9J,OAAxB,CAAgC,UAAU2K,GAAV,EAAe;AAAE/J,QAAAA,MAAM,CAAC4K,cAAP,CAAsBgG,MAAtB,EAA8B7G,GAA9B,EAAmC/J,MAAM,CAACsK,wBAAP,CAAgCpB,MAAhC,EAAwCa,GAAxC,CAAnC;AAAmF,OAApI;AAAwI;AAAE;;AAAC,SAAO6G,MAAP;AAAgB;;AAEthB,SAASiY,eAAT,CAAyBphB,GAAzB,EAA8BsC,GAA9B,EAAmCzC,KAAnC,EAA0C;AAAE,MAAIyC,GAAG,IAAItC,GAAX,EAAgB;AAAEzH,IAAAA,MAAM,CAAC4K,cAAP,CAAsBnD,GAAtB,EAA2BsC,GAA3B,EAAgC;AAAEzC,MAAAA,KAAK,EAAEA,KAAT;AAAgBqD,MAAAA,UAAU,EAAE,IAA5B;AAAkCiF,MAAAA,YAAY,EAAE,IAAhD;AAAsD2G,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAE9O,IAAAA,GAAG,CAACsC,GAAD,CAAH,GAAWzC,KAAX;AAAmB;;AAAC,SAAOG,GAAP;AAAa;;AAEjN,SAAS6iB,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAI5Y,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAAS6Y,iBAAT,CAA2B7Z,MAA3B,EAAmC8Z,KAAnC,EAA0C;AAAE,OAAK,IAAIvkB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGukB,KAAK,CAAC1sB,MAA1B,EAAkCmI,CAAC,EAAnC,EAAuC;AAAE,QAAIuE,UAAU,GAAGggB,KAAK,CAACvkB,CAAD,CAAtB;AAA2BuE,IAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,IAAAA,UAAU,CAACkF,YAAX,GAA0B,IAA1B;AAAgC,QAAI,WAAWlF,UAAf,EAA2BA,UAAU,CAAC6L,QAAX,GAAsB,IAAtB;AAA4BvW,IAAAA,MAAM,CAAC4K,cAAP,CAAsBgG,MAAtB,EAA8BlG,UAAU,CAACX,GAAzC,EAA8CW,UAA9C;AAA4D;AAAE;;AAE7T,SAASigB,YAAT,CAAsBH,WAAtB,EAAmCI,UAAnC,EAA+CC,WAA/C,EAA4D;AAAE,MAAID,UAAJ,EAAgBH,iBAAiB,CAACD,WAAW,CAAC3jB,SAAb,EAAwB+jB,UAAxB,CAAjB;AAAsD,MAAIC,WAAJ,EAAiBJ,iBAAiB,CAACD,WAAD,EAAcK,WAAd,CAAjB;AAA6C,SAAOL,WAAP;AAAqB;;AAEvN,IAAIjO,QAAQ,GAAGhhB,mBAAO,CAAC,8CAAD,CAAtB;AAAA,IACIqB,MAAM,GAAG2f,QAAQ,CAAC3f,MADtB;;AAGA,IAAIkuB,SAAS,GAAGvvB,mBAAO,CAAC,mBAAD,CAAvB;AAAA,IACIwvB,OAAO,GAAGD,SAAS,CAACC,OADxB;;AAGA,IAAIC,MAAM,GAAGD,OAAO,IAAIA,OAAO,CAACC,MAAnB,IAA6B,SAA1C;;AAEA,SAASC,UAAT,CAAoBtK,GAApB,EAAyB/P,MAAzB,EAAiCsa,MAAjC,EAAyC;AACvCtuB,EAAAA,MAAM,CAACiK,SAAP,CAAiB6C,IAAjB,CAAsB0B,IAAtB,CAA2BuV,GAA3B,EAAgC/P,MAAhC,EAAwCsa,MAAxC;AACD;;AAEDxqB,MAAM,CAACC,OAAP,GACA,aACA,YAAY;AACV,WAAS0b,UAAT,GAAsB;AACpBiO,IAAAA,eAAe,CAAC,IAAD,EAAOjO,UAAP,CAAf;;AAEA,SAAKqD,IAAL,GAAY,IAAZ;AACA,SAAKyL,IAAL,GAAY,IAAZ;AACA,SAAKntB,MAAL,GAAc,CAAd;AACD;;AAED2sB,EAAAA,YAAY,CAACtO,UAAD,EAAa,CAAC;AACxBtS,IAAAA,GAAG,EAAE,MADmB;AAExBzC,IAAAA,KAAK,EAAE,SAASf,IAAT,CAAc2H,CAAd,EAAiB;AACtB,UAAI0W,KAAK,GAAG;AACVpkB,QAAAA,IAAI,EAAE0N,CADI;AAEV0R,QAAAA,IAAI,EAAE;AAFI,OAAZ;AAIA,UAAI,KAAK5hB,MAAL,GAAc,CAAlB,EAAqB,KAAKmtB,IAAL,CAAUvL,IAAV,GAAiBgF,KAAjB,CAArB,KAAiD,KAAKlF,IAAL,GAAYkF,KAAZ;AACjD,WAAKuG,IAAL,GAAYvG,KAAZ;AACA,QAAE,KAAK5mB,MAAP;AACD;AAVuB,GAAD,EAWtB;AACD+L,IAAAA,GAAG,EAAE,SADJ;AAEDzC,IAAAA,KAAK,EAAE,SAAS+H,OAAT,CAAiBnB,CAAjB,EAAoB;AACzB,UAAI0W,KAAK,GAAG;AACVpkB,QAAAA,IAAI,EAAE0N,CADI;AAEV0R,QAAAA,IAAI,EAAE,KAAKF;AAFD,OAAZ;AAIA,UAAI,KAAK1hB,MAAL,KAAgB,CAApB,EAAuB,KAAKmtB,IAAL,GAAYvG,KAAZ;AACvB,WAAKlF,IAAL,GAAYkF,KAAZ;AACA,QAAE,KAAK5mB,MAAP;AACD;AAVA,GAXsB,EAsBtB;AACD+L,IAAAA,GAAG,EAAE,OADJ;AAEDzC,IAAAA,KAAK,EAAE,SAAS2M,KAAT,GAAiB;AACtB,UAAI,KAAKjW,MAAL,KAAgB,CAApB,EAAuB;AACvB,UAAI8W,GAAG,GAAG,KAAK4K,IAAL,CAAUlf,IAApB;AACA,UAAI,KAAKxC,MAAL,KAAgB,CAApB,EAAuB,KAAK0hB,IAAL,GAAY,KAAKyL,IAAL,GAAY,IAAxB,CAAvB,KAAyD,KAAKzL,IAAL,GAAY,KAAKA,IAAL,CAAUE,IAAtB;AACzD,QAAE,KAAK5hB,MAAP;AACA,aAAO8W,GAAP;AACD;AARA,GAtBsB,EA+BtB;AACD/K,IAAAA,GAAG,EAAE,OADJ;AAEDzC,IAAAA,KAAK,EAAE,SAASuY,KAAT,GAAiB;AACtB,WAAKH,IAAL,GAAY,KAAKyL,IAAL,GAAY,IAAxB;AACA,WAAKntB,MAAL,GAAc,CAAd;AACD;AALA,GA/BsB,EAqCtB;AACD+L,IAAAA,GAAG,EAAE,MADJ;AAEDzC,IAAAA,KAAK,EAAE,SAAS8I,IAAT,CAAcqG,CAAd,EAAiB;AACtB,UAAI,KAAKzY,MAAL,KAAgB,CAApB,EAAuB,OAAO,EAAP;AACvB,UAAIyhB,CAAC,GAAG,KAAKC,IAAb;AACA,UAAI5K,GAAG,GAAG,KAAK2K,CAAC,CAACjf,IAAjB;;AAEA,aAAOif,CAAC,GAAGA,CAAC,CAACG,IAAb,EAAmB;AACjB9K,QAAAA,GAAG,IAAI2B,CAAC,GAAGgJ,CAAC,CAACjf,IAAb;AACD;;AAED,aAAOsU,GAAP;AACD;AAZA,GArCsB,EAkDtB;AACD/K,IAAAA,GAAG,EAAE,QADJ;AAEDzC,IAAAA,KAAK,EAAE,SAAS2J,MAAT,CAAgBe,CAAhB,EAAmB;AACxB,UAAI,KAAKhU,MAAL,KAAgB,CAApB,EAAuB,OAAOpB,MAAM,CAACwuB,KAAP,CAAa,CAAb,CAAP;AACvB,UAAItW,GAAG,GAAGlY,MAAM,CAAC6M,WAAP,CAAmBuI,CAAC,KAAK,CAAzB,CAAV;AACA,UAAIyN,CAAC,GAAG,KAAKC,IAAb;AACA,UAAIvZ,CAAC,GAAG,CAAR;;AAEA,aAAOsZ,CAAP,EAAU;AACRwL,QAAAA,UAAU,CAACxL,CAAC,CAACjf,IAAH,EAASsU,GAAT,EAAc3O,CAAd,CAAV;AACAA,QAAAA,CAAC,IAAIsZ,CAAC,CAACjf,IAAF,CAAOxC,MAAZ;AACAyhB,QAAAA,CAAC,GAAGA,CAAC,CAACG,IAAN;AACD;;AAED,aAAO9K,GAAP;AACD,KAfA,CAeC;;AAfD,GAlDsB,EAmEtB;AACD/K,IAAAA,GAAG,EAAE,SADJ;AAEDzC,IAAAA,KAAK,EAAE,SAASwb,OAAT,CAAiB9Q,CAAjB,EAAoBqZ,UAApB,EAAgC;AACrC,UAAIvW,GAAJ;;AAEA,UAAI9C,CAAC,GAAG,KAAK0N,IAAL,CAAUlf,IAAV,CAAexC,MAAvB,EAA+B;AAC7B;AACA8W,QAAAA,GAAG,GAAG,KAAK4K,IAAL,CAAUlf,IAAV,CAAeyU,KAAf,CAAqB,CAArB,EAAwBjD,CAAxB,CAAN;AACA,aAAK0N,IAAL,CAAUlf,IAAV,GAAiB,KAAKkf,IAAL,CAAUlf,IAAV,CAAeyU,KAAf,CAAqBjD,CAArB,CAAjB;AACD,OAJD,MAIO,IAAIA,CAAC,KAAK,KAAK0N,IAAL,CAAUlf,IAAV,CAAexC,MAAzB,EAAiC;AACtC;AACA8W,QAAAA,GAAG,GAAG,KAAKb,KAAL,EAAN;AACD,OAHM,MAGA;AACL;AACAa,QAAAA,GAAG,GAAGuW,UAAU,GAAG,KAAKC,UAAL,CAAgBtZ,CAAhB,CAAH,GAAwB,KAAKuZ,UAAL,CAAgBvZ,CAAhB,CAAxC;AACD;;AAED,aAAO8C,GAAP;AACD;AAlBA,GAnEsB,EAsFtB;AACD/K,IAAAA,GAAG,EAAE,OADJ;AAEDzC,IAAAA,KAAK,EAAE,SAASub,KAAT,GAAiB;AACtB,aAAO,KAAKnD,IAAL,CAAUlf,IAAjB;AACD,KAJA,CAIC;;AAJD,GAtFsB,EA4FtB;AACDuJ,IAAAA,GAAG,EAAE,YADJ;AAEDzC,IAAAA,KAAK,EAAE,SAASgkB,UAAT,CAAoBtZ,CAApB,EAAuB;AAC5B,UAAIyN,CAAC,GAAG,KAAKC,IAAb;AACA,UAAIzU,CAAC,GAAG,CAAR;AACA,UAAI6J,GAAG,GAAG2K,CAAC,CAACjf,IAAZ;AACAwR,MAAAA,CAAC,IAAI8C,GAAG,CAAC9W,MAAT;;AAEA,aAAOyhB,CAAC,GAAGA,CAAC,CAACG,IAAb,EAAmB;AACjB,YAAI5Y,GAAG,GAAGyY,CAAC,CAACjf,IAAZ;AACA,YAAIgrB,EAAE,GAAGxZ,CAAC,GAAGhL,GAAG,CAAChJ,MAAR,GAAiBgJ,GAAG,CAAChJ,MAArB,GAA8BgU,CAAvC;AACA,YAAIwZ,EAAE,KAAKxkB,GAAG,CAAChJ,MAAf,EAAuB8W,GAAG,IAAI9N,GAAP,CAAvB,KAAuC8N,GAAG,IAAI9N,GAAG,CAACiO,KAAJ,CAAU,CAAV,EAAajD,CAAb,CAAP;AACvCA,QAAAA,CAAC,IAAIwZ,EAAL;;AAEA,YAAIxZ,CAAC,KAAK,CAAV,EAAa;AACX,cAAIwZ,EAAE,KAAKxkB,GAAG,CAAChJ,MAAf,EAAuB;AACrB,cAAEiN,CAAF;AACA,gBAAIwU,CAAC,CAACG,IAAN,EAAY,KAAKF,IAAL,GAAYD,CAAC,CAACG,IAAd,CAAZ,KAAoC,KAAKF,IAAL,GAAY,KAAKyL,IAAL,GAAY,IAAxB;AACrC,WAHD,MAGO;AACL,iBAAKzL,IAAL,GAAYD,CAAZ;AACAA,YAAAA,CAAC,CAACjf,IAAF,GAASwG,GAAG,CAACiO,KAAJ,CAAUuW,EAAV,CAAT;AACD;;AAED;AACD;;AAED,UAAEvgB,CAAF;AACD;;AAED,WAAKjN,MAAL,IAAeiN,CAAf;AACA,aAAO6J,GAAP;AACD,KA/BA,CA+BC;;AA/BD,GA5FsB,EA6HtB;AACD/K,IAAAA,GAAG,EAAE,YADJ;AAEDzC,IAAAA,KAAK,EAAE,SAASikB,UAAT,CAAoBvZ,CAApB,EAAuB;AAC5B,UAAI8C,GAAG,GAAGlY,MAAM,CAAC6M,WAAP,CAAmBuI,CAAnB,CAAV;AACA,UAAIyN,CAAC,GAAG,KAAKC,IAAb;AACA,UAAIzU,CAAC,GAAG,CAAR;AACAwU,MAAAA,CAAC,CAACjf,IAAF,CAAOkJ,IAAP,CAAYoL,GAAZ;AACA9C,MAAAA,CAAC,IAAIyN,CAAC,CAACjf,IAAF,CAAOxC,MAAZ;;AAEA,aAAOyhB,CAAC,GAAGA,CAAC,CAACG,IAAb,EAAmB;AACjB,YAAI6L,GAAG,GAAGhM,CAAC,CAACjf,IAAZ;AACA,YAAIgrB,EAAE,GAAGxZ,CAAC,GAAGyZ,GAAG,CAACztB,MAAR,GAAiBytB,GAAG,CAACztB,MAArB,GAA8BgU,CAAvC;AACAyZ,QAAAA,GAAG,CAAC/hB,IAAJ,CAASoL,GAAT,EAAcA,GAAG,CAAC9W,MAAJ,GAAagU,CAA3B,EAA8B,CAA9B,EAAiCwZ,EAAjC;AACAxZ,QAAAA,CAAC,IAAIwZ,EAAL;;AAEA,YAAIxZ,CAAC,KAAK,CAAV,EAAa;AACX,cAAIwZ,EAAE,KAAKC,GAAG,CAACztB,MAAf,EAAuB;AACrB,cAAEiN,CAAF;AACA,gBAAIwU,CAAC,CAACG,IAAN,EAAY,KAAKF,IAAL,GAAYD,CAAC,CAACG,IAAd,CAAZ,KAAoC,KAAKF,IAAL,GAAY,KAAKyL,IAAL,GAAY,IAAxB;AACrC,WAHD,MAGO;AACL,iBAAKzL,IAAL,GAAYD,CAAZ;AACAA,YAAAA,CAAC,CAACjf,IAAF,GAASirB,GAAG,CAACxW,KAAJ,CAAUuW,EAAV,CAAT;AACD;;AAED;AACD;;AAED,UAAEvgB,CAAF;AACD;;AAED,WAAKjN,MAAL,IAAeiN,CAAf;AACA,aAAO6J,GAAP;AACD,KAhCA,CAgCC;;AAhCD,GA7HsB,EA+JtB;AACD/K,IAAAA,GAAG,EAAEihB,MADJ;AAED1jB,IAAAA,KAAK,EAAE,SAASA,KAAT,CAAeO,CAAf,EAAkBgP,OAAlB,EAA2B;AAChC,aAAOkU,OAAO,CAAC,IAAD,EAAOX,aAAa,CAAC,EAAD,EAAKvT,OAAL,EAAc;AAC9C;AACA1O,QAAAA,KAAK,EAAE,CAFuC;AAG9C;AACAujB,QAAAA,aAAa,EAAE;AAJ+B,OAAd,CAApB,CAAd;AAMD;AATA,GA/JsB,CAAb,CAAZ;;AA2KA,SAAOrP,UAAP;AACD,CArLD,EAFA;;;;;;;;;;;;CC1Bc;;AAEd,SAAS1c,OAAT,CAAiBpB,GAAjB,EAAsBkB,EAAtB,EAA0B;AACxB,MAAI8iB,KAAK,GAAG,IAAZ;;AAEA,MAAIoJ,iBAAiB,GAAG,KAAKtQ,cAAL,IAAuB,KAAKA,cAAL,CAAoBne,SAAnE;AACA,MAAI0uB,iBAAiB,GAAG,KAAK7Q,cAAL,IAAuB,KAAKA,cAAL,CAAoB7d,SAAnE;;AAEA,MAAIyuB,iBAAiB,IAAIC,iBAAzB,EAA4C;AAC1C,QAAInsB,EAAJ,EAAQ;AACNA,MAAAA,EAAE,CAAClB,GAAD,CAAF;AACD,KAFD,MAEO,IAAIA,GAAJ,EAAS;AACd,UAAI,CAAC,KAAKwc,cAAV,EAA0B;AACxBxe,QAAAA,OAAO,CAACoc,QAAR,CAAiBkT,WAAjB,EAA8B,IAA9B,EAAoCttB,GAApC;AACD,OAFD,MAEO,IAAI,CAAC,KAAKwc,cAAL,CAAoBuL,YAAzB,EAAuC;AAC5C,aAAKvL,cAAL,CAAoBuL,YAApB,GAAmC,IAAnC;AACA/pB,QAAAA,OAAO,CAACoc,QAAR,CAAiBkT,WAAjB,EAA8B,IAA9B,EAAoCttB,GAApC;AACD;AACF;;AAED,WAAO,IAAP;AACD,GAnBuB,CAmBtB;AACF;;;AAGA,MAAI,KAAK8c,cAAT,EAAyB;AACvB,SAAKA,cAAL,CAAoBne,SAApB,GAAgC,IAAhC;AACD,GAzBuB,CAyBtB;;;AAGF,MAAI,KAAK6d,cAAT,EAAyB;AACvB,SAAKA,cAAL,CAAoB7d,SAApB,GAAgC,IAAhC;AACD;;AAED,OAAKwhB,QAAL,CAAcngB,GAAG,IAAI,IAArB,EAA2B,UAAUA,GAAV,EAAe;AACxC,QAAI,CAACkB,EAAD,IAAOlB,GAAX,EAAgB;AACd,UAAI,CAACgkB,KAAK,CAACxH,cAAX,EAA2B;AACzBxe,QAAAA,OAAO,CAACoc,QAAR,CAAiBmT,mBAAjB,EAAsCvJ,KAAtC,EAA6ChkB,GAA7C;AACD,OAFD,MAEO,IAAI,CAACgkB,KAAK,CAACxH,cAAN,CAAqBuL,YAA1B,EAAwC;AAC7C/D,QAAAA,KAAK,CAACxH,cAAN,CAAqBuL,YAArB,GAAoC,IAApC;AACA/pB,QAAAA,OAAO,CAACoc,QAAR,CAAiBmT,mBAAjB,EAAsCvJ,KAAtC,EAA6ChkB,GAA7C;AACD,OAHM,MAGA;AACLhC,QAAAA,OAAO,CAACoc,QAAR,CAAiBoT,WAAjB,EAA8BxJ,KAA9B;AACD;AACF,KATD,MASO,IAAI9iB,EAAJ,EAAQ;AACblD,MAAAA,OAAO,CAACoc,QAAR,CAAiBoT,WAAjB,EAA8BxJ,KAA9B;AACA9iB,MAAAA,EAAE,CAAClB,GAAD,CAAF;AACD,KAHM,MAGA;AACLhC,MAAAA,OAAO,CAACoc,QAAR,CAAiBoT,WAAjB,EAA8BxJ,KAA9B;AACD;AACF,GAhBD;;AAkBA,SAAO,IAAP;AACD;;AAED,SAASuJ,mBAAT,CAA6B5lB,IAA7B,EAAmC3H,GAAnC,EAAwC;AACtCstB,EAAAA,WAAW,CAAC3lB,IAAD,EAAO3H,GAAP,CAAX;AACAwtB,EAAAA,WAAW,CAAC7lB,IAAD,CAAX;AACD;;AAED,SAAS6lB,WAAT,CAAqB7lB,IAArB,EAA2B;AACzB,MAAIA,IAAI,CAAC6U,cAAL,IAAuB,CAAC7U,IAAI,CAAC6U,cAAL,CAAoBmD,SAAhD,EAA2D;AAC3D,MAAIhY,IAAI,CAACmV,cAAL,IAAuB,CAACnV,IAAI,CAACmV,cAAL,CAAoB6C,SAAhD,EAA2D;AAC3DhY,EAAAA,IAAI,CAAC1H,IAAL,CAAU,OAAV;AACD;;AAED,SAASogB,SAAT,GAAqB;AACnB,MAAI,KAAKvD,cAAT,EAAyB;AACvB,SAAKA,cAAL,CAAoBne,SAApB,GAAgC,KAAhC;AACA,SAAKme,cAAL,CAAoBsC,OAApB,GAA8B,KAA9B;AACA,SAAKtC,cAAL,CAAoBH,KAApB,GAA4B,KAA5B;AACA,SAAKG,cAAL,CAAoBqC,UAApB,GAAiC,KAAjC;AACD;;AAED,MAAI,KAAK3C,cAAT,EAAyB;AACvB,SAAKA,cAAL,CAAoB7d,SAApB,GAAgC,KAAhC;AACA,SAAK6d,cAAL,CAAoBG,KAApB,GAA4B,KAA5B;AACA,SAAKH,cAAL,CAAoB2K,MAApB,GAA6B,KAA7B;AACA,SAAK3K,cAAL,CAAoB0K,WAApB,GAAkC,KAAlC;AACA,SAAK1K,cAAL,CAAoBsL,WAApB,GAAkC,KAAlC;AACA,SAAKtL,cAAL,CAAoBkI,QAApB,GAA+B,KAA/B;AACA,SAAKlI,cAAL,CAAoBuL,YAApB,GAAmC,KAAnC;AACD;AACF;;AAED,SAASuF,WAAT,CAAqB3lB,IAArB,EAA2B3H,GAA3B,EAAgC;AAC9B2H,EAAAA,IAAI,CAAC1H,IAAL,CAAU,OAAV,EAAmBD,GAAnB;AACD;;AAED,SAASye,cAAT,CAAwBE,MAAxB,EAAgC3e,GAAhC,EAAqC;AACnC;AACA;AACA;AACA;AACA;AACA,MAAImqB,MAAM,GAAGxL,MAAM,CAAC7B,cAApB;AACA,MAAI2H,MAAM,GAAG9F,MAAM,CAACnC,cAApB;AACA,MAAI2N,MAAM,IAAIA,MAAM,CAACvK,WAAjB,IAAgC6E,MAAM,IAAIA,MAAM,CAAC7E,WAArD,EAAkEjB,MAAM,CAACvd,OAAP,CAAepB,GAAf,EAAlE,KAA2F2e,MAAM,CAAC1e,IAAP,CAAY,OAAZ,EAAqBD,GAArB;AAC5F;;AAEDmC,MAAM,CAACC,OAAP,GAAiB;AACfhB,EAAAA,OAAO,EAAEA,OADM;AAEfif,EAAAA,SAAS,EAAEA,SAFI;AAGf5B,EAAAA,cAAc,EAAEA;AAHD,CAAjB;;;;;;;;;;;ACpGA;AACA;AACa;;AAEb,IAAIgP,0BAA0B,GAAGzwB,iIAAjC;;AAEA,SAASE,IAAT,CAAcipB,QAAd,EAAwB;AACtB,MAAI7M,MAAM,GAAG,KAAb;AACA,SAAO,YAAY;AACjB,QAAIA,MAAJ,EAAY;AACZA,IAAAA,MAAM,GAAG,IAAT;;AAEA,SAAK,IAAIoU,IAAI,GAAG7Z,SAAS,CAACpU,MAArB,EAA6B+O,IAAI,GAAG,IAAI7O,KAAJ,CAAU+tB,IAAV,CAApC,EAAqDC,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGD,IAA3E,EAAiFC,IAAI,EAArF,EAAyF;AACvFnf,MAAAA,IAAI,CAACmf,IAAD,CAAJ,GAAa9Z,SAAS,CAAC8Z,IAAD,CAAtB;AACD;;AAEDxH,IAAAA,QAAQ,CAAChV,KAAT,CAAe,IAAf,EAAqB3C,IAArB;AACD,GATD;AAUD;;AAED,SAASjK,IAAT,GAAgB,CAAE;;AAElB,SAASqpB,SAAT,CAAmBjP,MAAnB,EAA2B;AACzB,SAAOA,MAAM,CAACkP,SAAP,IAAoB,OAAOlP,MAAM,CAACmP,KAAd,KAAwB,UAAnD;AACD;;AAED,SAASC,GAAT,CAAapP,MAAb,EAAqBhhB,IAArB,EAA2BwoB,QAA3B,EAAqC;AACnC,MAAI,OAAOxoB,IAAP,KAAgB,UAApB,EAAgC,OAAOowB,GAAG,CAACpP,MAAD,EAAS,IAAT,EAAehhB,IAAf,CAAV;AAChC,MAAI,CAACA,IAAL,EAAWA,IAAI,GAAG,EAAP;AACXwoB,EAAAA,QAAQ,GAAGjpB,IAAI,CAACipB,QAAQ,IAAI5hB,IAAb,CAAf;AACA,MAAI+X,QAAQ,GAAG3e,IAAI,CAAC2e,QAAL,IAAiB3e,IAAI,CAAC2e,QAAL,KAAkB,KAAlB,IAA2BqC,MAAM,CAACrC,QAAlE;AACA,MAAItE,QAAQ,GAAGra,IAAI,CAACqa,QAAL,IAAiBra,IAAI,CAACqa,QAAL,KAAkB,KAAlB,IAA2B2G,MAAM,CAAC3G,QAAlE;;AAEA,MAAIgW,cAAc,GAAG,SAASA,cAAT,GAA0B;AAC7C,QAAI,CAACrP,MAAM,CAAC3G,QAAZ,EAAsBkL,QAAQ;AAC/B,GAFD;;AAIA,MAAI+K,aAAa,GAAGtP,MAAM,CAACnC,cAAP,IAAyBmC,MAAM,CAACnC,cAAP,CAAsBkI,QAAnE;;AAEA,MAAIxB,QAAQ,GAAG,SAASA,QAAT,GAAoB;AACjClL,IAAAA,QAAQ,GAAG,KAAX;AACAiW,IAAAA,aAAa,GAAG,IAAhB;AACA,QAAI,CAAC3R,QAAL,EAAe6J,QAAQ,CAACtZ,IAAT,CAAc8R,MAAd;AAChB,GAJD;;AAMA,MAAIuP,aAAa,GAAGvP,MAAM,CAAC7B,cAAP,IAAyB6B,MAAM,CAAC7B,cAAP,CAAsBqC,UAAnE;;AAEA,MAAI5C,KAAK,GAAG,SAASA,KAAT,GAAiB;AAC3BD,IAAAA,QAAQ,GAAG,KAAX;AACA4R,IAAAA,aAAa,GAAG,IAAhB;AACA,QAAI,CAAClW,QAAL,EAAemO,QAAQ,CAACtZ,IAAT,CAAc8R,MAAd;AAChB,GAJD;;AAMA,MAAIwE,OAAO,GAAG,SAASA,OAAT,CAAiBnjB,GAAjB,EAAsB;AAClCmmB,IAAAA,QAAQ,CAACtZ,IAAT,CAAc8R,MAAd,EAAsB3e,GAAtB;AACD,GAFD;;AAIA,MAAIijB,OAAO,GAAG,SAASA,OAAT,GAAmB;AAC/B,QAAIjjB,GAAJ;;AAEA,QAAIsc,QAAQ,IAAI,CAAC4R,aAAjB,EAAgC;AAC9B,UAAI,CAACvP,MAAM,CAAC7B,cAAR,IAA0B,CAAC6B,MAAM,CAAC7B,cAAP,CAAsBH,KAArD,EAA4D3c,GAAG,GAAG,IAAIytB,0BAAJ,EAAN;AAC5D,aAAOtH,QAAQ,CAACtZ,IAAT,CAAc8R,MAAd,EAAsB3e,GAAtB,CAAP;AACD;;AAED,QAAIgY,QAAQ,IAAI,CAACiW,aAAjB,EAAgC;AAC9B,UAAI,CAACtP,MAAM,CAACnC,cAAR,IAA0B,CAACmC,MAAM,CAACnC,cAAP,CAAsBG,KAArD,EAA4D3c,GAAG,GAAG,IAAIytB,0BAAJ,EAAN;AAC5D,aAAOtH,QAAQ,CAACtZ,IAAT,CAAc8R,MAAd,EAAsB3e,GAAtB,CAAP;AACD;AACF,GAZD;;AAcA,MAAImuB,SAAS,GAAG,SAASA,SAAT,GAAqB;AACnCxP,IAAAA,MAAM,CAACyP,GAAP,CAAWpsB,EAAX,CAAc,QAAd,EAAwBkhB,QAAxB;AACD,GAFD;;AAIA,MAAI0K,SAAS,CAACjP,MAAD,CAAb,EAAuB;AACrBA,IAAAA,MAAM,CAAC3c,EAAP,CAAU,UAAV,EAAsBkhB,QAAtB;AACAvE,IAAAA,MAAM,CAAC3c,EAAP,CAAU,OAAV,EAAmBihB,OAAnB;AACA,QAAItE,MAAM,CAACyP,GAAX,EAAgBD,SAAS,GAAzB,KAAiCxP,MAAM,CAAC3c,EAAP,CAAU,SAAV,EAAqBmsB,SAArB;AAClC,GAJD,MAIO,IAAInW,QAAQ,IAAI,CAAC2G,MAAM,CAACnC,cAAxB,EAAwC;AAC7C;AACAmC,IAAAA,MAAM,CAAC3c,EAAP,CAAU,KAAV,EAAiBgsB,cAAjB;AACArP,IAAAA,MAAM,CAAC3c,EAAP,CAAU,OAAV,EAAmBgsB,cAAnB;AACD;;AAEDrP,EAAAA,MAAM,CAAC3c,EAAP,CAAU,KAAV,EAAiBua,KAAjB;AACAoC,EAAAA,MAAM,CAAC3c,EAAP,CAAU,QAAV,EAAoBkhB,QAApB;AACA,MAAIvlB,IAAI,CAACwR,KAAL,KAAe,KAAnB,EAA0BwP,MAAM,CAAC3c,EAAP,CAAU,OAAV,EAAmBmhB,OAAnB;AAC1BxE,EAAAA,MAAM,CAAC3c,EAAP,CAAU,OAAV,EAAmBihB,OAAnB;AACA,SAAO,YAAY;AACjBtE,IAAAA,MAAM,CAACha,cAAP,CAAsB,UAAtB,EAAkCue,QAAlC;AACAvE,IAAAA,MAAM,CAACha,cAAP,CAAsB,OAAtB,EAA+Bse,OAA/B;AACAtE,IAAAA,MAAM,CAACha,cAAP,CAAsB,SAAtB,EAAiCwpB,SAAjC;AACA,QAAIxP,MAAM,CAACyP,GAAX,EAAgBzP,MAAM,CAACyP,GAAP,CAAWzpB,cAAX,CAA0B,QAA1B,EAAoCue,QAApC;AAChBvE,IAAAA,MAAM,CAACha,cAAP,CAAsB,KAAtB,EAA6BqpB,cAA7B;AACArP,IAAAA,MAAM,CAACha,cAAP,CAAsB,OAAtB,EAA+BqpB,cAA/B;AACArP,IAAAA,MAAM,CAACha,cAAP,CAAsB,QAAtB,EAAgCue,QAAhC;AACAvE,IAAAA,MAAM,CAACha,cAAP,CAAsB,KAAtB,EAA6B4X,KAA7B;AACAoC,IAAAA,MAAM,CAACha,cAAP,CAAsB,OAAtB,EAA+Bwe,OAA/B;AACAxE,IAAAA,MAAM,CAACha,cAAP,CAAsB,OAAtB,EAA+Bse,OAA/B;AACD,GAXD;AAYD;;AAED9gB,MAAM,CAACC,OAAP,GAAiB2rB,GAAjB;;;;;;;;;;ACvGA5rB,MAAM,CAACC,OAAP,GAAiB,YAAY;AAC3B,QAAM,IAAIvE,KAAJ,CAAU,+CAAV,CAAN;AACD,CAFD;;;;;;;;;;;ACAA;AACA;AACa;;AAEb,IAAIkwB,GAAJ;;AAEA,SAAS7wB,IAAT,CAAcipB,QAAd,EAAwB;AACtB,MAAI7M,MAAM,GAAG,KAAb;AACA,SAAO,YAAY;AACjB,QAAIA,MAAJ,EAAY;AACZA,IAAAA,MAAM,GAAG,IAAT;AACA6M,IAAAA,QAAQ,CAAChV,KAAT,CAAe,KAAK,CAApB,EAAuB0C,SAAvB;AACD,GAJD;AAKD;;AAED,IAAIqK,cAAc,GAAGlhB,sGAArB;AAAA,IACIqxB,gBAAgB,GAAGnQ,cAAc,CAACmQ,gBADtC;AAAA,IAEIzH,oBAAoB,GAAG1I,cAAc,CAAC0I,oBAF1C;;AAIA,SAASriB,IAAT,CAAcvE,GAAd,EAAmB;AACjB;AACA,MAAIA,GAAJ,EAAS,MAAMA,GAAN;AACV;;AAED,SAAS4tB,SAAT,CAAmBjP,MAAnB,EAA2B;AACzB,SAAOA,MAAM,CAACkP,SAAP,IAAoB,OAAOlP,MAAM,CAACmP,KAAd,KAAwB,UAAnD;AACD;;AAED,SAASQ,SAAT,CAAmB3P,MAAnB,EAA2BS,OAA3B,EAAoCkI,OAApC,EAA6CnB,QAA7C,EAAuD;AACrDA,EAAAA,QAAQ,GAAGjpB,IAAI,CAACipB,QAAD,CAAf;AACA,MAAIoI,MAAM,GAAG,KAAb;AACA5P,EAAAA,MAAM,CAAC3c,EAAP,CAAU,OAAV,EAAmB,YAAY;AAC7BusB,IAAAA,MAAM,GAAG,IAAT;AACD,GAFD;AAGA,MAAIR,GAAG,KAAKhb,SAAZ,EAAuBgb,GAAG,GAAG/wB,mBAAO,CAAC,6FAAD,CAAb;AACvB+wB,EAAAA,GAAG,CAACpP,MAAD,EAAS;AACVrC,IAAAA,QAAQ,EAAE8C,OADA;AAEVpH,IAAAA,QAAQ,EAAEsP;AAFA,GAAT,EAGA,UAAUtnB,GAAV,EAAe;AAChB,QAAIA,GAAJ,EAAS,OAAOmmB,QAAQ,CAACnmB,GAAD,CAAf;AACTuuB,IAAAA,MAAM,GAAG,IAAT;AACApI,IAAAA,QAAQ;AACT,GAPE,CAAH;AAQA,MAAIxnB,SAAS,GAAG,KAAhB;AACA,SAAO,UAAUqB,GAAV,EAAe;AACpB,QAAIuuB,MAAJ,EAAY;AACZ,QAAI5vB,SAAJ,EAAe;AACfA,IAAAA,SAAS,GAAG,IAAZ,CAHoB,CAGF;;AAElB,QAAIivB,SAAS,CAACjP,MAAD,CAAb,EAAuB,OAAOA,MAAM,CAACmP,KAAP,EAAP;AACvB,QAAI,OAAOnP,MAAM,CAACvd,OAAd,KAA0B,UAA9B,EAA0C,OAAOud,MAAM,CAACvd,OAAP,EAAP;AAC1C+kB,IAAAA,QAAQ,CAACnmB,GAAG,IAAI,IAAI4mB,oBAAJ,CAAyB,MAAzB,CAAR,CAAR;AACD,GARD;AASD;;AAED,SAAS/Z,IAAT,CAAcuM,EAAd,EAAkB;AAChBA,EAAAA,EAAE;AACH;;AAED,SAAS6I,IAAT,CAAc3jB,IAAd,EAAoBkwB,EAApB,EAAwB;AACtB,SAAOlwB,IAAI,CAAC2jB,IAAL,CAAUuM,EAAV,CAAP;AACD;;AAED,SAASC,WAAT,CAAqBC,OAArB,EAA8B;AAC5B,MAAI,CAACA,OAAO,CAACjvB,MAAb,EAAqB,OAAO8E,IAAP;AACrB,MAAI,OAAOmqB,OAAO,CAACA,OAAO,CAACjvB,MAAR,GAAiB,CAAlB,CAAd,KAAuC,UAA3C,EAAuD,OAAO8E,IAAP;AACvD,SAAOmqB,OAAO,CAACpY,GAAR,EAAP;AACD;;AAED,SAASqY,QAAT,GAAoB;AAClB,OAAK,IAAIjB,IAAI,GAAG7Z,SAAS,CAACpU,MAArB,EAA6BivB,OAAO,GAAG,IAAI/uB,KAAJ,CAAU+tB,IAAV,CAAvC,EAAwDC,IAAI,GAAG,CAApE,EAAuEA,IAAI,GAAGD,IAA9E,EAAoFC,IAAI,EAAxF,EAA4F;AAC1Fe,IAAAA,OAAO,CAACf,IAAD,CAAP,GAAgB9Z,SAAS,CAAC8Z,IAAD,CAAzB;AACD;;AAED,MAAIxH,QAAQ,GAAGsI,WAAW,CAACC,OAAD,CAA1B;AACA,MAAI/uB,KAAK,CAACiC,OAAN,CAAc8sB,OAAO,CAAC,CAAD,CAArB,CAAJ,EAA+BA,OAAO,GAAGA,OAAO,CAAC,CAAD,CAAjB;;AAE/B,MAAIA,OAAO,CAACjvB,MAAR,GAAiB,CAArB,EAAwB;AACtB,UAAM,IAAI4uB,gBAAJ,CAAqB,SAArB,CAAN;AACD;;AAED,MAAIlf,KAAJ;AACA,MAAIyf,QAAQ,GAAGF,OAAO,CAACnvB,GAAR,CAAY,UAAUof,MAAV,EAAkB/W,CAAlB,EAAqB;AAC9C,QAAIwX,OAAO,GAAGxX,CAAC,GAAG8mB,OAAO,CAACjvB,MAAR,GAAiB,CAAnC;AACA,QAAI6nB,OAAO,GAAG1f,CAAC,GAAG,CAAlB;AACA,WAAO0mB,SAAS,CAAC3P,MAAD,EAASS,OAAT,EAAkBkI,OAAlB,EAA2B,UAAUtnB,GAAV,EAAe;AACxD,UAAI,CAACmP,KAAL,EAAYA,KAAK,GAAGnP,GAAR;AACZ,UAAIA,GAAJ,EAAS4uB,QAAQ,CAAC/tB,OAAT,CAAiBgM,IAAjB;AACT,UAAIuS,OAAJ,EAAa;AACbwP,MAAAA,QAAQ,CAAC/tB,OAAT,CAAiBgM,IAAjB;AACAsZ,MAAAA,QAAQ,CAAChX,KAAD,CAAR;AACD,KANe,CAAhB;AAOD,GAVc,CAAf;AAWA,SAAOuf,OAAO,CAACG,MAAR,CAAe5M,IAAf,CAAP;AACD;;AAED9f,MAAM,CAACC,OAAP,GAAiBusB,QAAjB;;;;;;;;;;;AChGa;;AAEb,IAAIG,qBAAqB,GAAG9xB,4HAA5B;;AAEA,SAAS+xB,iBAAT,CAA2BzW,OAA3B,EAAoCsG,QAApC,EAA8CoQ,SAA9C,EAAyD;AACvD,SAAO1W,OAAO,CAACmE,aAAR,IAAyB,IAAzB,GAAgCnE,OAAO,CAACmE,aAAxC,GAAwDmC,QAAQ,GAAGtG,OAAO,CAAC0W,SAAD,CAAV,GAAwB,IAA/F;AACD;;AAED,SAAS/Q,gBAAT,CAA0B9I,KAA1B,EAAiCmD,OAAjC,EAA0C0W,SAA1C,EAAqDpQ,QAArD,EAA+D;AAC7D,MAAIqQ,GAAG,GAAGF,iBAAiB,CAACzW,OAAD,EAAUsG,QAAV,EAAoBoQ,SAApB,CAA3B;;AAEA,MAAIC,GAAG,IAAI,IAAX,EAAiB;AACf,QAAI,EAAE1W,QAAQ,CAAC0W,GAAD,CAAR,IAAiB/qB,IAAI,CAACoD,KAAL,CAAW2nB,GAAX,MAAoBA,GAAvC,KAA+CA,GAAG,GAAG,CAAzD,EAA4D;AAC1D,UAAInd,IAAI,GAAG8M,QAAQ,GAAGoQ,SAAH,GAAe,eAAlC;AACA,YAAM,IAAIF,qBAAJ,CAA0Bhd,IAA1B,EAAgCmd,GAAhC,CAAN;AACD;;AAED,WAAO/qB,IAAI,CAACoD,KAAL,CAAW2nB,GAAX,CAAP;AACD,GAV4D,CAU3D;;;AAGF,SAAO9Z,KAAK,CAAC0J,UAAN,GAAmB,EAAnB,GAAwB,KAAK,IAApC;AACD;;AAED1c,MAAM,CAACC,OAAP,GAAiB;AACf6b,EAAAA,gBAAgB,EAAEA;AADH,CAAjB;;;;;;;;;;ACxBA9b,kGAAA;;;;;;;;;;ACAAC,OAAO,GAAGD,+HAAV;AACAC,cAAA,GAAiBA,OAAjB;AACAA,gBAAA,GAAmBA,OAAnB;AACAA,iIAAA;AACAA,2HAAA;AACAA,oIAAA;AACAA,0IAAA;AACAA,6JAAA;AACAA,mJAAA;;;;;;;;;;ACRA;AACAD,MAAM,CAACC,OAAP,GAAiB8sB,WAAjB;;AAEA,MAAM7xB,cAAc,GAAGL,mBAAO,CAAC,gEAAD,CAA9B;;AAEA,SAASkyB,WAAT,CAAsB/tB,KAAtB,EAA6BD,EAA7B,EAAiC;AAC/B,MAAIa,OAAJ,EAAaotB,OAAb,EAAsBjtB,IAAtB;AACA,MAAIktB,MAAM,GAAG,IAAb;;AAEA,MAAIzvB,KAAK,CAACiC,OAAN,CAAcT,KAAd,CAAJ,EAA0B;AACxBY,IAAAA,OAAO,GAAG,EAAV;AACAotB,IAAAA,OAAO,GAAGhuB,KAAK,CAAC1B,MAAhB;AACD,GAHD,MAGO;AACLyC,IAAAA,IAAI,GAAGT,MAAM,CAACS,IAAP,CAAYf,KAAZ,CAAP;AACAY,IAAAA,OAAO,GAAG,EAAV;AACAotB,IAAAA,OAAO,GAAGjtB,IAAI,CAACzC,MAAf;AACD;;AAED,WAASsmB,IAAT,CAAe/lB,GAAf,EAAoB;AAClB,aAAS6c,GAAT,GAAgB;AACd,UAAI3b,EAAJ,EAAQA,EAAE,CAAClB,GAAD,EAAM+B,OAAN,CAAF;AACRb,MAAAA,EAAE,GAAG,IAAL;AACD;;AACD,QAAIkuB,MAAJ,EAAY/xB,cAAc,CAACwf,GAAD,CAAd,CAAZ,KACKA,GAAG;AACT;;AAED,WAASwS,IAAT,CAAeznB,CAAf,EAAkB5H,GAAlB,EAAuBsvB,MAAvB,EAA+B;AAC7BvtB,IAAAA,OAAO,CAAC6F,CAAD,CAAP,GAAa0nB,MAAb;;AACA,QAAI,EAAEH,OAAF,KAAc,CAAd,IAAmBnvB,GAAvB,EAA4B;AAC1B+lB,MAAAA,IAAI,CAAC/lB,GAAD,CAAJ;AACD;AACF;;AAED,MAAI,CAACmvB,OAAL,EAAc;AACZ;AACApJ,IAAAA,IAAI,CAAC,IAAD,CAAJ;AACD,GAHD,MAGO,IAAI7jB,IAAJ,EAAU;AACf;AACAA,IAAAA,IAAI,CAACrB,OAAL,CAAa,UAAU2K,GAAV,EAAe;AAC1BrK,MAAAA,KAAK,CAACqK,GAAD,CAAL,CAAW,UAAUxL,GAAV,EAAesvB,MAAf,EAAuB;AAAED,QAAAA,IAAI,CAAC7jB,GAAD,EAAMxL,GAAN,EAAWsvB,MAAX,CAAJ;AAAwB,OAA5D;AACD,KAFD;AAGD,GALM,MAKA;AACL;AACAnuB,IAAAA,KAAK,CAACN,OAAN,CAAc,UAAU0uB,IAAV,EAAgB3nB,CAAhB,EAAmB;AAC/B2nB,MAAAA,IAAI,CAAC,UAAUvvB,GAAV,EAAesvB,MAAf,EAAuB;AAAED,QAAAA,IAAI,CAACznB,CAAD,EAAI5H,GAAJ,EAASsvB,MAAT,CAAJ;AAAsB,OAAhD,CAAJ;AACD,KAFD;AAGD;;AAEDF,EAAAA,MAAM,GAAG,KAAT;AACD;;;;;;;;;;AClDD;AACA,IAAIrQ,MAAM,GAAG/hB,mBAAO,CAAC,8CAAD,CAApB;;AACA,IAAIqB,MAAM,GAAG0gB,MAAM,CAAC1gB,MAApB,EAEA;;AACA,SAASmxB,SAAT,CAAoBpN,GAApB,EAAyBqN,GAAzB,EAA8B;AAC5B,OAAK,IAAIjkB,GAAT,IAAgB4W,GAAhB,EAAqB;AACnBqN,IAAAA,GAAG,CAACjkB,GAAD,CAAH,GAAW4W,GAAG,CAAC5W,GAAD,CAAd;AACD;AACF;;AACD,IAAInN,MAAM,CAACC,IAAP,IAAeD,MAAM,CAACwuB,KAAtB,IAA+BxuB,MAAM,CAAC6M,WAAtC,IAAqD7M,MAAM,CAACqxB,eAAhE,EAAiF;AAC/EvtB,EAAAA,MAAM,CAACC,OAAP,GAAiB2c,MAAjB;AACD,CAFD,MAEO;AACL;AACAyQ,EAAAA,SAAS,CAACzQ,MAAD,EAAS3c,OAAT,CAAT;AACAA,EAAAA,cAAA,GAAiButB,UAAjB;AACD;;AAED,SAASA,UAAT,CAAqBrc,GAArB,EAA0Bsc,gBAA1B,EAA4CnwB,MAA5C,EAAoD;AAClD,SAAOpB,MAAM,CAACiV,GAAD,EAAMsc,gBAAN,EAAwBnwB,MAAxB,CAAb;AACD,EAED;;;AACA+vB,SAAS,CAACnxB,MAAD,EAASsxB,UAAT,CAAT;;AAEAA,UAAU,CAACrxB,IAAX,GAAkB,UAAUgV,GAAV,EAAesc,gBAAf,EAAiCnwB,MAAjC,EAAyC;AACzD,MAAI,OAAO6T,GAAP,KAAe,QAAnB,EAA6B;AAC3B,UAAM,IAAID,SAAJ,CAAc,+BAAd,CAAN;AACD;;AACD,SAAOhV,MAAM,CAACiV,GAAD,EAAMsc,gBAAN,EAAwBnwB,MAAxB,CAAb;AACD,CALD;;AAOAkwB,UAAU,CAAC9C,KAAX,GAAmB,UAAU5S,IAAV,EAAgB4V,IAAhB,EAAsB1S,QAAtB,EAAgC;AACjD,MAAI,OAAOlD,IAAP,KAAgB,QAApB,EAA8B;AAC5B,UAAM,IAAI5G,SAAJ,CAAc,2BAAd,CAAN;AACD;;AACD,MAAI6Z,GAAG,GAAG7uB,MAAM,CAAC4b,IAAD,CAAhB;;AACA,MAAI4V,IAAI,KAAK9c,SAAb,EAAwB;AACtB,QAAI,OAAOoK,QAAP,KAAoB,QAAxB,EAAkC;AAChC+P,MAAAA,GAAG,CAAC2C,IAAJ,CAASA,IAAT,EAAe1S,QAAf;AACD,KAFD,MAEO;AACL+P,MAAAA,GAAG,CAAC2C,IAAJ,CAASA,IAAT;AACD;AACF,GAND,MAMO;AACL3C,IAAAA,GAAG,CAAC2C,IAAJ,CAAS,CAAT;AACD;;AACD,SAAO3C,GAAP;AACD,CAfD;;AAiBAyC,UAAU,CAACzkB,WAAX,GAAyB,UAAU+O,IAAV,EAAgB;AACvC,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC5B,UAAM,IAAI5G,SAAJ,CAAc,2BAAd,CAAN;AACD;;AACD,SAAOhV,MAAM,CAAC4b,IAAD,CAAb;AACD,CALD;;AAOA0V,UAAU,CAACD,eAAX,GAA6B,UAAUzV,IAAV,EAAgB;AAC3C,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC5B,UAAM,IAAI5G,SAAJ,CAAc,2BAAd,CAAN;AACD;;AACD,SAAO0L,MAAM,CAAC+Q,UAAP,CAAkB7V,IAAlB,CAAP;AACD,CALD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxDA;AACA,MAAMld,KAAK,GAAGC,mBAAO,CAAC,2EAAD,CAAP,CAAiB,aAAjB,CAAd;;AACA,MAAMga,aAAa,GAAGha,mBAAO,CAAC,gEAAD,CAA7B;;AACA,MAAM2F,WAAW,GAAG3F,mBAAO,CAAC,0DAAD,CAA3B;;AACA,MAAM2hB,MAAM,GAAG3hB,mBAAO,CAAC,2EAAD,CAAtB;;AACA,MAAMK,cAAc,GAAGL,mBAAO,CAAC,gEAAD,CAA9B,EAAkD;;;AAClD,MAAM+yB,OAAO,GAAG/yB,mBAAO,CAAC,2EAAD,CAAvB;;AACA,MAAM;AAAEqB,EAAAA;AAAF,IAAarB,mBAAO,CAAC,8CAAD,CAA1B;;AAEA,MAAMgzB,mBAAmB,GAAG,KAAK,IAAjC;AACA,MAAMC,mBAAmB,GAAG,IAAI,IAAhC;AACA,MAAMC,uBAAuB,GAAG,IAAI,IAApC,EAEA;;AACA,SAASC,aAAT,CAAwBC,GAAxB,EAA6B;AAC3B,SAAOA,GAAG,CAACznB,OAAJ,CAAY,4BAAZ,EAA0C,EAA1C,CAAP;AACD;;AAED,SAASgF,IAAT,CAAelG,OAAf,EAAwB;AACtBiG,EAAAA,OAAO,CAACC,IAAR,CAAalG,OAAb;AACD;AAED;AACA;AACA;AACA;AACA;;;IACMrK;;;;;AACJ,gBAAaO,IAAb,EAAmB;AAAA;;AAAA;;AACjBA,IAAAA,IAAI,GAAG8D,MAAM,CAACC,MAAP,CAAc;AACnB2a,MAAAA,aAAa,EAAE;AADI,KAAd,EAEJ1e,IAFI,CAAP;AAIA,8BAAMA,IAAN;AAEA,UAAK0yB,GAAL,GAAW1tB,WAAW,CAAC,CAAD,CAAX,CAAexE,QAAf,CAAwB,KAAxB,EAA+BuY,KAA/B,CAAqC,CAArC,EAAwC,CAAxC,CAAX;;AACA,UAAK4Z,MAAL,CAAY,aAAZ,EAA2B3yB,IAA3B;;AAEA,UAAK4yB,WAAL,GAAmB5yB,IAAI,CAACoK,SAAL,GACfpK,IAAI,CAAC4yB,WAAL,IAAoB5tB,WAAW,CAAC,EAAD,CAAX,CAAgBxE,QAAhB,CAAyB,KAAzB,CADL,GAEf,IAFJ;AAIA,UAAK4J,SAAL,GAAiBpK,IAAI,CAACoK,SAAL,IAAkB,KAAnC;AACA,UAAKyoB,aAAL,GAAqB7yB,IAAI,CAAC6yB,aAAL,IAAsBpzB,IAAI,CAACozB,aAAhD;AACA,UAAKC,iBAAL,GAAyB,MAAKD,aAAL,CAAmBE,UAA5C;AACA,UAAKvoB,MAAL,GAAc1G,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBtE,IAAI,CAAC+K,MAAvB,EAA+BxK,IAAI,CAACwK,MAApC,CAAd;AACA,UAAKwoB,YAAL,GAAoBhzB,IAAI,CAACgzB,YAAL,IAAqB,EAAzC;AACA,UAAKC,aAAL,GAAqBjzB,IAAI,CAACizB,aAAL,IAAsB,EAA3C;;AACA,UAAKC,YAAL,GAAoBlzB,IAAI,CAACkzB,YAAL,KAAsBT,GAAG,IAAIA,GAA7B,CAApB;;AACA,UAAK1B,OAAL,GAAe/wB,IAAI,CAAC+wB,OAAL,KAAiB/wB,IAAI,CAACghB,MAAL,GAAc,CAAChhB,IAAI,CAACghB,MAAN,CAAd,GAA8B,EAA/C,CAAf,CArBiB,CAqBiD;;AAClE,UAAKzW,OAAL,GAAevK,IAAI,CAACuK,OAAL,KAAiB6K,SAAjB,GAA6BpV,IAAI,CAACuK,OAAlC,GAA4C,IAA3D;AACA,UAAK4oB,gBAAL,GAAwBnzB,IAAI,CAACmzB,gBAAL,KAA0B/d,SAA1B,GAAsCpV,IAAI,CAACmzB,gBAA3C,GAA8D,KAAtF;AACA,UAAKC,kBAAL,GAA0BpzB,IAAI,CAACozB,kBAAL,IAA2Bd,mBAArD;AAEA,UAAKtxB,SAAL,GAAiB,KAAjB;AACA,UAAKqyB,UAAL,GAAkB,KAAlB;AACA,UAAKC,UAAL,GAAkB,KAAlB;AAEA,UAAKC,aAAL,GAAqBne,SAArB;AACA,UAAKoe,YAAL,GAAoBpe,SAApB;AACA,UAAKqe,UAAL,GAAkBre,SAAlB;AACA,UAAKse,YAAL,GAAoBte,SAApB;AACA,UAAKue,WAAL,GAAmBve,SAAnB;AACA,UAAKwe,SAAL,GAAiBxe,SAAjB;AAEA,UAAK1T,KAAL,GAAc1B,IAAI,CAAC2B,IAAL,IAAa,OAAO3B,IAAI,CAAC2B,IAAZ,KAAqB,QAAnC,GACT3B,IAAI,CAAC2B,IADI,GAET0X,aAAa,EAFjB;;AAIA,QAAI,CAAC,MAAK3X,KAAV,EAAiB;AACf,UAAI,OAAOiB,MAAP,KAAkB,WAAtB,EAAmC;AACjC,cAAMyvB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,mEAAV,CAAD,EAAiF,oBAAjF,CAAb;AACD,OAFD,MAEO;AACL,cAAMkyB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,4CAAV,CAAD,EAA0D,oBAA1D,CAAb;AACD;AACF;;AAED,UAAK2zB,QAAL,GAAgB,KAAhB;AACA,UAAKC,aAAL,GAAqB,KAArB;AACA,UAAKC,YAAL,GAAoB,KAApB,CAnDiB,CAmDS;;AAC1B,UAAKC,iBAAL,GAAyB,IAAzB,CApDiB,CAoDa;;AAC9B,UAAKC,QAAL,GAAgB,IAAhB;AACA,UAAKC,kBAAL,GAA0B,EAA1B;AAEA,UAAKC,cAAL,GAAsB,KAAtB,CAxDiB,CAwDW;;AAC5B,UAAKC,iBAAL,GAAyB,IAAzB;AACA,UAAKC,mBAAL,GAA2B,KAA3B,CA1DiB,CA0DgB;;AACjC,UAAKC,kBAAL,GAA0B,KAA1B,CA3DiB,CA2De;;AAChC,UAAKC,sBAAL,GAA8B,EAA9B;AACA,UAAKC,UAAL,GAAkB,IAAI9oB,GAAJ,EAAlB;AACA,UAAK+oB,gBAAL,GAAwB,IAAxB;AAEA,UAAKC,aAAL,GAAqB,EAArB;AACA,UAAKC,cAAL,GAAsB,EAAtB;AAEA,UAAKC,MAAL,GAAc,IAAd;AACA,UAAKC,GAAL,GAAW,IAAX;AACA,UAAKC,SAAL,GAAiB,IAAjB;;AAEA,QAAI;AACF,YAAKC,GAAL,GAAW,IAAK,MAAKrzB,KAAL,CAAW6X,iBAAhB,CAAmC,MAAK/O,MAAxC,CAAX;AACD,KAFD,CAEE,OAAOnI,GAAP,EAAY;AACZ,YAAKoB,OAAL,CAAa2uB,OAAO,CAAC/vB,GAAD,EAAM,oBAAN,CAApB;;AACA;AACD,KA5EgB,CA8EjB;AACA;;;AACA,UAAK2yB,oBAAL,GAA4B,OAAO,MAAKD,GAAL,CAASE,iBAAhB,KAAsC,QAAlE;;AAEA,UAAKF,GAAL,CAASG,0BAAT,GAAsC,MAAM;AAC1C,YAAKC,iBAAL;AACD,KAFD;;AAGA,UAAKJ,GAAL,CAASK,yBAAT,GAAqC,MAAM;AACzC,YAAKD,iBAAL;AACD,KAFD;;AAGA,UAAKJ,GAAL,CAASM,uBAAT,GAAmC,MAAM;AACvC,YAAKC,wBAAL;AACD,KAFD;;AAGA,UAAKP,GAAL,CAASQ,sBAAT,GAAkC,MAAM;AACtC,YAAKC,uBAAL;AACD,KAFD;;AAGA,UAAKT,GAAL,CAASU,cAAT,GAA0BzyB,KAAK,IAAI;AACjC,YAAK0yB,eAAL,CAAqB1yB,KAArB;AACD,KAFD,CA9FiB,CAkGjB;;;AACA,QAAI,OAAO,MAAK+xB,GAAL,CAASY,YAAhB,KAAiC,QAArC,EAA+C;AAC7C,YAAKZ,GAAL,CAASY,YAAT,CAAsB7Z,KAAtB,CAA4BzZ,GAAG,IAAI;AACjC,cAAKoB,OAAL,CAAa2uB,OAAO,CAAC/vB,GAAD,EAAM,sBAAN,CAApB;AACD,OAFD;AAGD,KAvGgB,CAyGjB;AACA;AACA;AACA;AACA;;;AAEA,QAAI,MAAK+H,SAAL,IAAkB,MAAK0oB,iBAA3B,EAA8C;AAC5C,YAAK8C,UAAL,CAAgB;AACdC,QAAAA,OAAO,EAAE,MAAKd,GAAL,CAASe,iBAAT,CAA2B,MAAKlD,WAAhC,EAA6C,MAAKC,aAAlD;AADK,OAAhB;AAGD,KAJD,MAIO;AACL,YAAKkC,GAAL,CAASgB,aAAT,GAAyB/yB,KAAK,IAAI;AAChC,cAAK4yB,UAAL,CAAgB5yB,KAAhB;AACD,OAFD;AAGD;;AAED,QAAI,MAAK+tB,OAAT,EAAkB;AAChB,YAAKA,OAAL,CAAa7tB,OAAb,CAAqB8d,MAAM,IAAI;AAC7B,cAAKgV,SAAL,CAAehV,MAAf;AACD,OAFD;AAGD;;AACD,UAAK+T,GAAL,CAASkB,OAAT,GAAmBjzB,KAAK,IAAI;AAC1B,YAAKkzB,QAAL,CAAclzB,KAAd;AACD,KAFD;;AAIA,UAAK2vB,MAAL,CAAY,qBAAZ;;AACA,UAAKwD,iBAAL;;AAEA,UAAKC,cAAL,GAAsB,MAAM;AAC1B,YAAKC,SAAL;AACD,KAFD;;AAGA,UAAK92B,IAAL,CAAU,QAAV,EAAoB,MAAK62B,cAAzB;;AAxIiB;AAyIlB;;;;SAED,YAAkB;AAChB,aAAQ,KAAKnC,QAAL,IAAiB,KAAKA,QAAL,CAAcqC,cAAhC,IAAmD,CAA1D;AACD,MAED;AACA;;;;SACA,YAAiB;AACf,aAAQ,KAAKhD,UAAL,IAAmB,KAAKW,QAAL,CAAcsC,UAAd,KAA6B,MAAxD;AACD;;;WAED,mBAAW;AACT,aAAO;AAAEh2B,QAAAA,IAAI,EAAE,KAAKqzB,SAAb;AAAwB4C,QAAAA,MAAM,EAAE,KAAK7C,WAArC;AAAkD8C,QAAAA,OAAO,EAAE,KAAK/C;AAAhE,OAAP;AACD;;;WAED,gBAAQpvB,IAAR,EAAc;AACZ,UAAI,KAAK+uB,UAAT,EAAqB;AACrB,UAAI,KAAKryB,SAAT,EAAoB,MAAMoxB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,uCAAV,CAAD,EAAqD,eAArD,CAAb;;AACpB,UAAI,OAAOoE,IAAP,KAAgB,QAApB,EAA8B;AAC5B,YAAI;AACFA,UAAAA,IAAI,GAAG+D,IAAI,CAACC,KAAL,CAAWhE,IAAX,CAAP;AACD,SAFD,CAEE,OAAOjC,GAAP,EAAY;AACZiC,UAAAA,IAAI,GAAG,EAAP;AACD;AACF;;AACD,WAAKquB,MAAL,CAAY,UAAZ;;AAEA,UAAIruB,IAAI,CAACoyB,WAAL,IAAoB,KAAKtsB,SAA7B,EAAwC;AACtC,aAAKuoB,MAAL,CAAY,4BAAZ;;AACA,aAAKwD,iBAAL;AACD;;AACD,UAAI7xB,IAAI,CAACqyB,kBAAL,IAA2B,KAAKvsB,SAApC,EAA+C;AAC7C,aAAKuoB,MAAL,CAAY,6BAAZ;;AACA,aAAKiE,cAAL,CAAoBtyB,IAAI,CAACqyB,kBAAL,CAAwBE,IAA5C,EAAkDvyB,IAAI,CAACqyB,kBAAL,CAAwB/iB,IAA1E;AACD;;AACD,UAAItP,IAAI,CAACwyB,SAAT,EAAoB;AAClB,YAAI,KAAK/B,GAAL,CAASgC,iBAAT,IAA8B,KAAKhC,GAAL,CAASgC,iBAAT,CAA2BvrB,IAA7D,EAAmE;AACjE,eAAKwrB,gBAAL,CAAsB1yB,IAAI,CAACwyB,SAA3B;AACD,SAFD,MAEO;AACL,eAAK5C,kBAAL,CAAwB7pB,IAAxB,CAA6B/F,IAAI,CAACwyB,SAAlC;AACD;AACF;;AACD,UAAIxyB,IAAI,CAACmuB,GAAT,EAAc;AACZ,aAAKsC,GAAL,CAASkC,oBAAT,CAA8B,IAAK,KAAKv1B,KAAL,CAAWgY,qBAAhB,CAAuCpV,IAAvC,CAA9B,EACGsI,IADH,CACQ,MAAM;AACV,cAAI,KAAK5L,SAAT,EAAoB;;AAEpB,eAAKkzB,kBAAL,CAAwBhxB,OAAxB,CAAgC4zB,SAAS,IAAI;AAC3C,iBAAKE,gBAAL,CAAsBF,SAAtB;AACD,WAFD;;AAGA,eAAK5C,kBAAL,GAA0B,EAA1B;AAEA,cAAI,KAAKa,GAAL,CAASgC,iBAAT,CAA2BvrB,IAA3B,KAAoC,OAAxC,EAAiD,KAAK0rB,aAAL;AAClD,SAVH,EAWGpb,KAXH,CAWSzZ,GAAG,IAAI;AACZ,eAAKoB,OAAL,CAAa2uB,OAAO,CAAC/vB,GAAD,EAAM,4BAAN,CAApB;AACD,SAbH;AAcD;;AACD,UAAI,CAACiC,IAAI,CAACmuB,GAAN,IAAa,CAACnuB,IAAI,CAACwyB,SAAnB,IAAgC,CAACxyB,IAAI,CAACoyB,WAAtC,IAAqD,CAACpyB,IAAI,CAACqyB,kBAA/D,EAAmF;AACjF,aAAKlzB,OAAL,CAAa2uB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,0CAAV,CAAD,EAAwD,eAAxD,CAApB;AACD;AACF;;;WAED,0BAAkB42B,SAAlB,EAA6B;AAC3B,YAAMK,eAAe,GAAG,IAAI,KAAKz1B,KAAL,CAAWmY,eAAf,CAA+Bid,SAA/B,CAAxB;;AACA,WAAK/B,GAAL,CAASqC,eAAT,CAAyBD,eAAzB,EACGrb,KADH,CACSzZ,GAAG,IAAI;AACZ,YAAI,CAAC80B,eAAe,CAACV,OAAjB,IAA4BU,eAAe,CAACV,OAAhB,CAAwB3Y,QAAxB,CAAiC,QAAjC,CAAhC,EAA4E;AAC1E9N,UAAAA,IAAI,CAAC,qCAAD,CAAJ;AACD,SAFD,MAEO;AACL,eAAKvM,OAAL,CAAa2uB,OAAO,CAAC/vB,GAAD,EAAM,uBAAN,CAApB;AACD;AACF,OAPH;AAQD;AAED;AACF;AACA;AACA;;;;WACE,cAAMkd,KAAN,EAAa;AACX,UAAI,KAAK8T,UAAT,EAAqB;AACrB,UAAI,KAAKryB,SAAT,EAAoB,MAAMoxB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,qCAAV,CAAD,EAAmD,eAAnD,CAAb;;AACpB,WAAK+zB,QAAL,CAAclqB,IAAd,CAAmBwV,KAAnB;AACD;AAED;AACF;AACA;AACA;AACA;;;;WACE,wBAAgBsX,IAAhB,EAAsBjjB,IAAtB,EAA4B;AAC1B,UAAI,KAAKyf,UAAT,EAAqB;AACrB,UAAI,KAAKryB,SAAT,EAAoB,MAAMoxB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,+CAAV,CAAD,EAA6D,eAA7D,CAAb;;AACpB,WAAKyyB,MAAL,CAAY,kBAAZ;;AAEA,UAAI,KAAKvoB,SAAT,EAAoB;AAClB,YAAI;AACF,eAAK2qB,GAAL,CAAS6B,cAAT,CAAwBC,IAAxB,EAA8BjjB,IAA9B;;AACA,eAAKuiB,iBAAL;AACD,SAHD,CAGE,OAAO9zB,GAAP,EAAY;AACZ,eAAKoB,OAAL,CAAa2uB,OAAO,CAAC/vB,GAAD,EAAM,qBAAN,CAApB;AACD;AACF,OAPD,MAOO;AACL,aAAKC,IAAL,CAAU,QAAV,EAAoB;AAAE;AACpBkJ,UAAAA,IAAI,EAAE,oBADY;AAElBmrB,UAAAA,kBAAkB,EAAE;AAAEE,YAAAA,IAAF;AAAQjjB,YAAAA;AAAR;AAFF,SAApB;AAID;AACF;AAED;AACF;AACA;AACA;;;;WACE,mBAAWoN,MAAX,EAAmB;AACjB,UAAI,KAAKqS,UAAT,EAAqB;AACrB,UAAI,KAAKryB,SAAT,EAAoB,MAAMoxB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,0CAAV,CAAD,EAAwD,eAAxD,CAAb;;AACpB,WAAKyyB,MAAL,CAAY,aAAZ;;AAEA3R,MAAAA,MAAM,CAACqW,SAAP,GAAmBn0B,OAAnB,CAA2Bo0B,KAAK,IAAI;AAClC,aAAKC,QAAL,CAAcD,KAAd,EAAqBtW,MAArB;AACD,OAFD;AAGD;AAED;AACF;AACA;AACA;AACA;;;;WACE,kBAAUsW,KAAV,EAAiBtW,MAAjB,EAAyB;AACvB,UAAI,KAAKqS,UAAT,EAAqB;AACrB,UAAI,KAAKryB,SAAT,EAAoB,MAAMoxB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,yCAAV,CAAD,EAAuD,eAAvD,CAAb;;AACpB,WAAKyyB,MAAL,CAAY,YAAZ;;AAEA,YAAM6E,MAAM,GAAG,KAAKhD,UAAL,CAAgB7gB,GAAhB,CAAoB2jB,KAApB,KAA8B,IAAI5rB,GAAJ,EAA7C,CALuB,CAKgC;;AACvD,UAAI+rB,MAAM,GAAGD,MAAM,CAAC7jB,GAAP,CAAWqN,MAAX,CAAb;;AACA,UAAI,CAACyW,MAAL,EAAa;AACXA,QAAAA,MAAM,GAAG,KAAK1C,GAAL,CAASwC,QAAT,CAAkBD,KAAlB,EAAyBtW,MAAzB,CAAT;AACAwW,QAAAA,MAAM,CAACxpB,GAAP,CAAWgT,MAAX,EAAmByW,MAAnB;;AACA,aAAKjD,UAAL,CAAgBxmB,GAAhB,CAAoBspB,KAApB,EAA2BE,MAA3B;;AACA,aAAKrB,iBAAL;AACD,OALD,MAKO,IAAIsB,MAAM,CAACC,OAAX,EAAoB;AACzB,cAAMtF,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,mFAAV,CAAD,EAAiG,oBAAjG,CAAb;AACD,OAFM,MAEA;AACL,cAAMkyB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,8CAAV,CAAD,EAA4D,0BAA5D,CAAb;AACD;AACF;AAED;AACF;AACA;AACA;AACA;AACA;;;;WACE,sBAAcy3B,QAAd,EAAwBC,QAAxB,EAAkC5W,MAAlC,EAA0C;AACxC,UAAI,KAAKqS,UAAT,EAAqB;AACrB,UAAI,KAAKryB,SAAT,EAAoB,MAAMoxB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,6CAAV,CAAD,EAA2D,eAA3D,CAAb;;AACpB,WAAKyyB,MAAL,CAAY,gBAAZ;;AAEA,YAAM6E,MAAM,GAAG,KAAKhD,UAAL,CAAgB7gB,GAAhB,CAAoBgkB,QAApB,CAAf;;AACA,YAAMF,MAAM,GAAGD,MAAM,GAAGA,MAAM,CAAC7jB,GAAP,CAAWqN,MAAX,CAAH,GAAwB,IAA7C;;AACA,UAAI,CAACyW,MAAL,EAAa;AACX,cAAMrF,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,4CAAV,CAAD,EAA0D,qBAA1D,CAAb;AACD;;AACD,UAAI03B,QAAJ,EAAc,KAAKpD,UAAL,CAAgBxmB,GAAhB,CAAoB4pB,QAApB,EAA8BJ,MAA9B;;AAEd,UAAIC,MAAM,CAACI,YAAP,IAAuB,IAA3B,EAAiC;AAC/BJ,QAAAA,MAAM,CAACI,YAAP,CAAoBD,QAApB;AACD,OAFD,MAEO;AACL,aAAKn0B,OAAL,CAAa2uB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,+CAAV,CAAD,EAA6D,8BAA7D,CAApB;AACD;AACF;AAED;AACF;AACA;AACA;AACA;;;;WACE,qBAAao3B,KAAb,EAAoBtW,MAApB,EAA4B;AAC1B,UAAI,KAAKqS,UAAT,EAAqB;AACrB,UAAI,KAAKryB,SAAT,EAAoB,MAAMoxB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,4CAAV,CAAD,EAA0D,eAA1D,CAAb;;AACpB,WAAKyyB,MAAL,CAAY,gBAAZ;;AAEA,YAAM6E,MAAM,GAAG,KAAKhD,UAAL,CAAgB7gB,GAAhB,CAAoB2jB,KAApB,CAAf;;AACA,YAAMG,MAAM,GAAGD,MAAM,GAAGA,MAAM,CAAC7jB,GAAP,CAAWqN,MAAX,CAAH,GAAwB,IAA7C;;AACA,UAAI,CAACyW,MAAL,EAAa;AACX,cAAMrF,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,2CAAV,CAAD,EAAyD,qBAAzD,CAAb;AACD;;AACD,UAAI;AACFu3B,QAAAA,MAAM,CAACC,OAAP,GAAiB,IAAjB;;AACA,aAAK3C,GAAL,CAAS+C,WAAT,CAAqBL,MAArB;AACD,OAHD,CAGE,OAAOp1B,GAAP,EAAY;AACZ,YAAIA,GAAG,CAAC8R,IAAJ,KAAa,qBAAjB,EAAwC;AACtC,eAAKogB,sBAAL,CAA4BlqB,IAA5B,CAAiCotB,MAAjC,EADsC,CACG;;AAC1C,SAFD,MAEO;AACL,eAAKh0B,OAAL,CAAa2uB,OAAO,CAAC/vB,GAAD,EAAM,kBAAN,CAApB;AACD;AACF;;AACD,WAAK8zB,iBAAL;AACD;AAED;AACF;AACA;AACA;;;;WACE,sBAAcnV,MAAd,EAAsB;AACpB,UAAI,KAAKqS,UAAT,EAAqB;AACrB,UAAI,KAAKryB,SAAT,EAAoB,MAAMoxB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,6CAAV,CAAD,EAA2D,eAA3D,CAAb;;AACpB,WAAKyyB,MAAL,CAAY,iBAAZ;;AAEA3R,MAAAA,MAAM,CAACqW,SAAP,GAAmBn0B,OAAnB,CAA2Bo0B,KAAK,IAAI;AAClC,aAAKQ,WAAL,CAAiBR,KAAjB,EAAwBtW,MAAxB;AACD,OAFD;AAGD;;;WAED,6BAAqB;AACnB,WAAK2R,MAAL,CAAY,mBAAZ;;AACA,UAAI,KAAK0B,mBAAT,EAA8B,OAFX,CAEkB;;AACrC,WAAKA,mBAAL,GAA2B,IAA3B;AACA30B,MAAAA,cAAc,CAAC,MAAM;AACnB,aAAK20B,mBAAL,GAA2B,KAA3B;;AACA,YAAI,KAAKjqB,SAAL,IAAkB,CAAC,KAAKgqB,iBAA5B,EAA+C;AAC7C,eAAKzB,MAAL,CAAY,8BAAZ;;AACA,eAAKoF,SAAL;AACD,SAHD,MAGO;AACL,eAAKpF,MAAL,CAAY,qDAAZ;AACD;;AACD,aAAKyB,iBAAL,GAAyB,KAAzB;AACD,OATa,CAAd;AAUD;;;WAED,qBAAa;AACX,UAAI,KAAKf,UAAT,EAAqB;AACrB,UAAI,KAAKryB,SAAT,EAAoB,MAAMoxB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,0CAAV,CAAD,EAAwD,eAAxD,CAAb;;AAEpB,UAAI,KAAKkK,SAAT,EAAoB;AAClB,YAAI,KAAK+pB,cAAT,EAAyB;AACvB,eAAKG,kBAAL,GAA0B,IAA1B;;AACA,eAAK3B,MAAL,CAAY,+BAAZ;AACD,SAHD,MAGO;AACL,eAAKA,MAAL,CAAY,mBAAZ;;AACAnrB,UAAAA,UAAU,CAAC,MAAM;AAAE;AACjB,iBAAKwwB,YAAL;AACD,WAFS,EAEP,CAFO,CAAV;AAGD;AACF,OAVD,MAUO;AACL,YAAI,KAAK7D,cAAT,EAAyB;AACvB,eAAKG,kBAAL,GAA0B,IAA1B;;AACA,eAAK3B,MAAL,CAAY,+BAAZ;AACD,SAHD,MAGO;AACL,eAAKA,MAAL,CAAY,uCAAZ;;AACA,eAAKrwB,IAAL,CAAU,QAAV,EAAoB;AAAE;AACpBkJ,YAAAA,IAAI,EAAE,aADY;AAElBkrB,YAAAA,WAAW,EAAE;AAFK,WAApB;AAID;AACF;;AACD,WAAKvC,cAAL,GAAsB,IAAtB;AACD,MAED;AACA;AACA;;;;WACA,iBAAS9xB,GAAT,EAAc;AACZ,WAAKmgB,QAAL,CAAcngB,GAAd,EAAmB,MAAM,CAAE,CAA3B;AACD;;;WAED,kBAAUA,GAAV,EAAekB,EAAf,EAAmB;AACjB,UAAI,KAAKvC,SAAL,IAAkB,KAAKqyB,UAA3B,EAAuC;AACvC,WAAKA,UAAL,GAAkB,IAAlB;;AAEA,WAAKV,MAAL,CAAY,wBAAZ,EAAsCtwB,GAAG,KAAKA,GAAG,CAACyH,OAAJ,IAAezH,GAApB,CAAzC;;AAEA3C,MAAAA,cAAc,CAAC,MAAM;AAAE;AACrB,aAAKsB,SAAL,GAAiB,IAAjB;AACA,aAAKqyB,UAAL,GAAkB,KAAlB;;AAEA,aAAKV,MAAL,CAAY,qBAAZ,EAAmCtwB,GAAG,KAAKA,GAAG,CAACyH,OAAJ,IAAezH,GAApB,CAAtC;;AAEA,aAAKsc,QAAL,GAAgB,KAAKtE,QAAL,GAAgB,KAAhC;AAEA,YAAI,CAAC,KAAK8E,cAAL,CAAoBH,KAAzB,EAAgC,KAAK3U,IAAL,CAAU,IAAV;AAChC,YAAI,CAAC,KAAKwU,cAAL,CAAoBkI,QAAzB,EAAmC,KAAK7H,GAAL;AAEnC,aAAKoU,UAAL,GAAkB,KAAlB;AACA,aAAKO,QAAL,GAAgB,KAAhB;AACA,aAAKC,aAAL,GAAqB,KAArB;AACA,aAAKY,aAAL,GAAqB,IAArB;AACA,aAAKC,cAAL,GAAsB,IAAtB;AACA,aAAKH,UAAL,GAAkB,IAAlB;AAEA3vB,QAAAA,aAAa,CAAC,KAAK4vB,gBAAN,CAAb;AACA,aAAKA,gBAAL,GAAwB,IAAxB;AAEA5vB,QAAAA,aAAa,CAAC,KAAKiwB,SAAN,CAAb;AACA,aAAKA,SAAL,GAAiB,IAAjB;AACA,aAAKF,MAAL,GAAc,IAAd;AACA,aAAKC,GAAL,GAAW,IAAX;AAEA,YAAI,KAAKuB,cAAT,EAAyB,KAAKpvB,cAAL,CAAoB,QAApB,EAA8B,KAAKovB,cAAnC;AACzB,aAAKA,cAAL,GAAsB,IAAtB;;AAEA,YAAI,KAAKnC,QAAT,EAAmB;AACjB,cAAI;AACF,iBAAKA,QAAL,CAAcgE,KAAd;AACD,WAFD,CAEE,OAAO51B,GAAP,EAAY,CAAE,CAHC,CAKjB;;;AACA,eAAK4xB,QAAL,CAAciE,SAAd,GAA0B,IAA1B;AACA,eAAKjE,QAAL,CAAckE,MAAd,GAAuB,IAAvB;AACA,eAAKlE,QAAL,CAAc3O,OAAd,GAAwB,IAAxB;AACA,eAAK2O,QAAL,CAAczO,OAAd,GAAwB,IAAxB;AACD;;AACD,YAAI,KAAKuP,GAAT,EAAc;AACZ,cAAI;AACF,iBAAKA,GAAL,CAASkD,KAAT;AACD,WAFD,CAEE,OAAO51B,GAAP,EAAY,CAAE,CAHJ,CAKZ;;;AACA,eAAK0yB,GAAL,CAASG,0BAAT,GAAsC,IAAtC;AACA,eAAKH,GAAL,CAASK,yBAAT,GAAqC,IAArC;AACA,eAAKL,GAAL,CAASQ,sBAAT,GAAkC,IAAlC;AACA,eAAKR,GAAL,CAASU,cAAT,GAA0B,IAA1B;AACA,eAAKV,GAAL,CAASkB,OAAT,GAAmB,IAAnB;AACA,eAAKlB,GAAL,CAASgB,aAAT,GAAyB,IAAzB;AACD;;AACD,aAAKhB,GAAL,GAAW,IAAX;AACA,aAAKd,QAAL,GAAgB,IAAhB;AAEA,YAAI5xB,GAAJ,EAAS,KAAKC,IAAL,CAAU,OAAV,EAAmBD,GAAnB;AACT,aAAKC,IAAL,CAAU,OAAV;AACAiB,QAAAA,EAAE;AACH,OA3Da,CAAd;AA4DD;;;WAED,oBAAYP,KAAZ,EAAmB;AACjB,UAAI,CAACA,KAAK,CAAC6yB,OAAX,EAAoB;AAClB;AACA;AACA;AACA,eAAO,KAAKpyB,OAAL,CAAa2uB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,kDAAV,CAAD,EAAgE,kBAAhE,CAApB,CAAP;AACD;;AAED,WAAK+zB,QAAL,GAAgBjxB,KAAK,CAAC6yB,OAAtB;AACA,WAAK5B,QAAL,CAAcmE,UAAd,GAA2B,aAA3B;;AAEA,UAAI,OAAO,KAAKnE,QAAL,CAAcoE,0BAArB,KAAoD,QAAxD,EAAkE;AAChE,aAAKpE,QAAL,CAAcoE,0BAAd,GAA2ChG,mBAA3C;AACD;;AAED,WAAKO,WAAL,GAAmB,KAAKqB,QAAL,CAAcqE,KAAjC;;AAEA,WAAKrE,QAAL,CAAciE,SAAd,GAA0Bl1B,KAAK,IAAI;AACjC,aAAKu1B,iBAAL,CAAuBv1B,KAAvB;AACD,OAFD;;AAGA,WAAKixB,QAAL,CAAcuE,mBAAd,GAAoC,MAAM;AACxC,aAAKC,2BAAL;AACD,OAFD;;AAGA,WAAKxE,QAAL,CAAckE,MAAd,GAAuB,MAAM;AAC3B,aAAKO,cAAL;AACD,OAFD;;AAGA,WAAKzE,QAAL,CAAc3O,OAAd,GAAwB,MAAM;AAC5B,aAAKqT,eAAL;AACD,OAFD;;AAGA,WAAK1E,QAAL,CAAczO,OAAd,GAAwBxiB,KAAK,IAAI;AAC/B,cAAMX,GAAG,GAAGW,KAAK,CAACwO,KAAN,YAAuBtR,KAAvB,GACR8C,KAAK,CAACwO,KADE,GAER,IAAItR,KAAJ,CAAW,sBAAqB8C,KAAK,CAAC8G,OAAQ,IAAG9G,KAAK,CAAC41B,QAAS,IAAG51B,KAAK,CAAC61B,MAAO,IAAG71B,KAAK,CAAC81B,KAAM,EAA/F,CAFJ;AAGA,aAAKr1B,OAAL,CAAa2uB,OAAO,CAAC/vB,GAAD,EAAM,kBAAN,CAApB;AACD,OALD,CA7BiB,CAoCjB;AACA;;;AACA,UAAI02B,SAAS,GAAG,KAAhB;AACA,WAAKtE,gBAAL,GAAwBrxB,WAAW,CAAC,MAAM;AAAE;AAC1C,YAAI,KAAK6wB,QAAL,IAAiB,KAAKA,QAAL,CAAcsC,UAAd,KAA6B,SAAlD,EAA6D;AAC3D,cAAIwC,SAAJ,EAAe,KAAKJ,eAAL,GAD4C,CACrB;;AACtCI,UAAAA,SAAS,GAAG,IAAZ;AACD,SAHD,MAGO;AACLA,UAAAA,SAAS,GAAG,KAAZ;AACD;AACF,OAPkC,EAOhCxG,uBAPgC,CAAnC;AAQD;;;WAED,iBAAS,CAAE;;;WAEX,gBAAQhT,KAAR,EAAeC,QAAf,EAAyBjc,EAAzB,EAA6B;AAC3B,UAAI,KAAKvC,SAAT,EAAoB,OAAOuC,EAAE,CAAC6uB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,sCAAV,CAAD,EAAoD,kBAApD,CAAR,CAAT;;AAEpB,UAAI,KAAKozB,UAAT,EAAqB;AACnB,YAAI;AACF,eAAKvpB,IAAL,CAAUwV,KAAV;AACD,SAFD,CAEE,OAAOld,GAAP,EAAY;AACZ,iBAAO,KAAKoB,OAAL,CAAa2uB,OAAO,CAAC/vB,GAAD,EAAM,kBAAN,CAApB,CAAP;AACD;;AACD,YAAI,KAAK4xB,QAAL,CAAcqC,cAAd,GAA+BjE,mBAAnC,EAAwD;AACtD,eAAKM,MAAL,CAAY,uCAAZ,EAAqD,KAAKsB,QAAL,CAAcqC,cAAnE;;AACA,eAAKzB,GAAL,GAAWtxB,EAAX;AACD,SAHD,MAGO;AACLA,UAAAA,EAAE,CAAC,IAAD,CAAF;AACD;AACF,OAZD,MAYO;AACL,aAAKovB,MAAL,CAAY,sBAAZ;;AACA,aAAKiC,MAAL,GAAcrV,KAAd;AACA,aAAKsV,GAAL,GAAWtxB,EAAX;AACD;AACF,MAED;AACA;;;;WACA,qBAAa;AACX,UAAI,KAAKvC,SAAT,EAAoB,OADT,CAGX;AACA;;AACA,YAAMg4B,WAAW,GAAG,MAAM;AACxBxxB,QAAAA,UAAU,CAAC,MAAM,KAAK/D,OAAL,EAAP,EAAuB,IAAvB,CAAV;AACD,OAFD;;AAIA,UAAI,KAAK6vB,UAAT,EAAqB;AACnB0F,QAAAA,WAAW;AACZ,OAFD,MAEO;AACL,aAAKz5B,IAAL,CAAU,SAAV,EAAqBy5B,WAArB;AACD;AACF;;;WAED,oCAA4B;AAC1B,UAAI,KAAKh4B,SAAT,EAAoB;AACpB,UAAI,KAAKgzB,iBAAT,EAA4B;;AAC5B,WAAKrB,MAAL,CAAY,6BAAZ;;AACA,WAAKqB,iBAAL,GAAyBxsB,UAAU,CAAC,MAAM;AACxC,YAAI,CAAC,KAAKusB,YAAV,EAAwB;AACtB,eAAKA,YAAL,GAAoB,IAApB;;AACA,eAAKpB,MAAL,CAAY,+BAAZ;;AACA,eAAKrwB,IAAL,CAAU,YAAV;AACA,eAAKA,IAAL,CAAU,cAAV;AACD;AACF,OAPkC,EAOhC,KAAK8wB,kBAP2B,CAAnC;AAQD;;;WAED,wBAAgB;AACd,UAAI,KAAKpyB,SAAT,EAAoB;;AAEpB,WAAK+zB,GAAL,CAASkE,WAAT,CAAqB,KAAKjG,YAA1B,EACGpmB,IADH,CACQ5D,KAAK,IAAI;AACb,YAAI,KAAKhI,SAAT,EAAoB;AACpB,YAAI,CAAC,KAAKuJ,OAAN,IAAiB,CAAC,KAAK4oB,gBAA3B,EAA6CnqB,KAAK,CAACypB,GAAN,GAAYD,aAAa,CAACxpB,KAAK,CAACypB,GAAP,CAAzB;AAC7CzpB,QAAAA,KAAK,CAACypB,GAAN,GAAY,KAAKS,YAAL,CAAkBlqB,KAAK,CAACypB,GAAxB,CAAZ;;AAEA,cAAMyG,SAAS,GAAG,MAAM;AACtB,cAAI,KAAKl4B,SAAT,EAAoB;AACpB,gBAAMsI,MAAM,GAAG,KAAKyrB,GAAL,CAASoE,gBAAT,IAA6BnwB,KAA5C;;AACA,eAAK2pB,MAAL,CAAY,QAAZ;;AACA,eAAKrwB,IAAL,CAAU,QAAV,EAAoB;AAClBkJ,YAAAA,IAAI,EAAElC,MAAM,CAACkC,IADK;AAElBinB,YAAAA,GAAG,EAAEnpB,MAAM,CAACmpB;AAFM,WAApB;AAID,SARD;;AAUA,cAAM2G,SAAS,GAAG,MAAM;AACtB,eAAKzG,MAAL,CAAY,qBAAZ;;AACA,cAAI,KAAK3xB,SAAT,EAAoB;AACpB,cAAI,KAAKuJ,OAAL,IAAgB,KAAKwpB,YAAzB,EAAuCmF,SAAS,GAAhD,KACK,KAAK35B,IAAL,CAAU,cAAV,EAA0B25B,SAA1B,EAJiB,CAIoB;AAC3C,SALD;;AAOA,cAAMzuB,OAAO,GAAGpI,GAAG,IAAI;AACrB,eAAKoB,OAAL,CAAa2uB,OAAO,CAAC/vB,GAAD,EAAM,2BAAN,CAApB;AACD,SAFD;;AAIA,aAAK0yB,GAAL,CAASsE,mBAAT,CAA6BrwB,KAA7B,EACG4D,IADH,CACQwsB,SADR,EAEGtd,KAFH,CAESrR,OAFT;AAGD,OA9BH,EA+BGqR,KA/BH,CA+BSzZ,GAAG,IAAI;AACZ,aAAKoB,OAAL,CAAa2uB,OAAO,CAAC/vB,GAAD,EAAM,kBAAN,CAApB;AACD,OAjCH;AAkCD;;;WAED,uCAA+B;AAC7B,UAAI,KAAK0yB,GAAL,CAASuE,eAAb,EAA8B;AAC5B,aAAKvE,GAAL,CAASuE,eAAT,GAA2Bp2B,OAA3B,CAAmCq2B,WAAW,IAAI;AAChD,cAAI,CAACA,WAAW,CAACC,GAAb,IAAoBD,WAAW,CAAC9B,MAAZ,CAAmBH,KAAvC,IAAgD,CAACiC,WAAW,CAACE,SAAjE,EAA4E;AAC1EF,YAAAA,WAAW,CAACE,SAAZ,GAAwB,IAAxB,CAD0E,CAC7C;;AAC7B,iBAAK7C,cAAL,CAAoB2C,WAAW,CAAC9B,MAAZ,CAAmBH,KAAnB,CAAyBT,IAA7C;AACD;AACF,SALD;AAMD;AACF;;;WAED,yBAAiB;AACf,UAAI,KAAK71B,SAAT,EAAoB;;AAEpB,WAAK+zB,GAAL,CAAS2E,YAAT,CAAsB,KAAKzG,aAA3B,EACGrmB,IADH,CACQzD,MAAM,IAAI;AACd,YAAI,KAAKnI,SAAT,EAAoB;AACpB,YAAI,CAAC,KAAKuJ,OAAN,IAAiB,CAAC,KAAK4oB,gBAA3B,EAA6ChqB,MAAM,CAACspB,GAAP,GAAaD,aAAa,CAACrpB,MAAM,CAACspB,GAAR,CAA1B;AAC7CtpB,QAAAA,MAAM,CAACspB,GAAP,GAAa,KAAKS,YAAL,CAAkB/pB,MAAM,CAACspB,GAAzB,CAAb;;AAEA,cAAMkH,UAAU,GAAG,MAAM;AACvB,cAAI,KAAK34B,SAAT,EAAoB;AACpB,gBAAMsI,MAAM,GAAG,KAAKyrB,GAAL,CAASoE,gBAAT,IAA6BhwB,MAA5C;;AACA,eAAKwpB,MAAL,CAAY,QAAZ;;AACA,eAAKrwB,IAAL,CAAU,QAAV,EAAoB;AAClBkJ,YAAAA,IAAI,EAAElC,MAAM,CAACkC,IADK;AAElBinB,YAAAA,GAAG,EAAEnpB,MAAM,CAACmpB;AAFM,WAApB;AAIA,cAAI,CAAC,KAAKroB,SAAV,EAAqB,KAAKwvB,2BAAL;AACtB,SATD;;AAWA,cAAMR,SAAS,GAAG,MAAM;AACtB,cAAI,KAAKp4B,SAAT,EAAoB;AACpB,cAAI,KAAKuJ,OAAL,IAAgB,KAAKwpB,YAAzB,EAAuC4F,UAAU,GAAjD,KACK,KAAKp6B,IAAL,CAAU,cAAV,EAA0Bo6B,UAA1B;AACN,SAJD;;AAMA,cAAMlvB,OAAO,GAAGpI,GAAG,IAAI;AACrB,eAAKoB,OAAL,CAAa2uB,OAAO,CAAC/vB,GAAD,EAAM,2BAAN,CAApB;AACD,SAFD;;AAIA,aAAK0yB,GAAL,CAASsE,mBAAT,CAA6BlwB,MAA7B,EACGyD,IADH,CACQwsB,SADR,EAEGtd,KAFH,CAESrR,OAFT;AAGD,OA9BH,EA+BGqR,KA/BH,CA+BSzZ,GAAG,IAAI;AACZ,aAAKoB,OAAL,CAAa2uB,OAAO,CAAC/vB,GAAD,EAAM,mBAAN,CAApB;AACD,OAjCH;AAkCD;;;WAED,oCAA4B;AAC1B,UAAI,KAAKrB,SAAT,EAAoB;;AACpB,UAAI,KAAK+zB,GAAL,CAAS8E,eAAT,KAA6B,QAAjC,EAA2C;AACzC,aAAKp2B,OAAL,CAAa2uB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,oBAAV,CAAD,EAAkC,wBAAlC,CAApB;AACD;AACF;;;WAED,6BAAqB;AACnB,UAAI,KAAKc,SAAT,EAAoB;AACpB,YAAM84B,kBAAkB,GAAG,KAAK/E,GAAL,CAAS+E,kBAApC;AACA,YAAMC,iBAAiB,GAAG,KAAKhF,GAAL,CAASgF,iBAAnC;;AAEA,WAAKpH,MAAL,CACE,iDADF,EAEEmH,kBAFF,EAGEC,iBAHF;;AAKA,WAAKz3B,IAAL,CAAU,gBAAV,EAA4Bw3B,kBAA5B,EAAgDC,iBAAhD;;AAEA,UAAID,kBAAkB,KAAK,WAAvB,IAAsCA,kBAAkB,KAAK,WAAjE,EAA8E;AAC5E,aAAKjG,QAAL,GAAgB,IAAhB;;AACA,aAAKmG,WAAL;AACD;;AACD,UAAIF,kBAAkB,KAAK,QAA3B,EAAqC;AACnC,aAAKr2B,OAAL,CAAa2uB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,wBAAV,CAAD,EAAsC,4BAAtC,CAApB;AACD;;AACD,UAAI45B,kBAAkB,KAAK,QAA3B,EAAqC;AACnC,aAAKr2B,OAAL,CAAa2uB,OAAO,CAAC,IAAIlyB,KAAJ,CAAU,wBAAV,CAAD,EAAsC,2BAAtC,CAApB;AACD;AACF;;;WAED,kBAAUqD,EAAV,EAAc;AACZ;AACA,YAAM02B,aAAa,GAAGC,MAAM,IAAI;AAC9B,YAAIp2B,MAAM,CAAC6G,SAAP,CAAiBnK,QAAjB,CAA0B0O,IAA1B,CAA+BgrB,MAAM,CAACC,MAAtC,MAAkD,gBAAtD,EAAwE;AACtED,UAAAA,MAAM,CAACC,MAAP,CAAcj3B,OAAd,CAAsBkI,KAAK,IAAI;AAC7BtH,YAAAA,MAAM,CAACC,MAAP,CAAcm2B,MAAd,EAAsB9uB,KAAtB;AACD,WAFD;AAGD;;AACD,eAAO8uB,MAAP;AACD,OAPD,CAFY,CAWZ;;;AACA,UAAI,KAAKnF,GAAL,CAASqF,QAAT,CAAkBt4B,MAAlB,KAA6B,CAA7B,IAAkC,KAAKkzB,oBAA3C,EAAiE;AAC/D,aAAKD,GAAL,CAASqF,QAAT,GACGxtB,IADH,CACQoZ,GAAG,IAAI;AACX,gBAAMqU,OAAO,GAAG,EAAhB;AACArU,UAAAA,GAAG,CAAC9iB,OAAJ,CAAYg3B,MAAM,IAAI;AACpBG,YAAAA,OAAO,CAAChwB,IAAR,CAAa4vB,aAAa,CAACC,MAAD,CAA1B;AACD,WAFD;AAGA32B,UAAAA,EAAE,CAAC,IAAD,EAAO82B,OAAP,CAAF;AACD,SAPH,EAOKh4B,GAAG,IAAIkB,EAAE,CAAClB,GAAD,CAPd,EAD+D,CAUjE;;AACC,OAXD,MAWO,IAAI,KAAK0yB,GAAL,CAASqF,QAAT,CAAkBt4B,MAAlB,GAA2B,CAA/B,EAAkC;AACvC,aAAKizB,GAAL,CAASqF,QAAT,CAAkBpU,GAAG,IAAI;AACvB;AACA,cAAI,KAAKhlB,SAAT,EAAoB;AAEpB,gBAAMq5B,OAAO,GAAG,EAAhB;AACArU,UAAAA,GAAG,CAAC2L,MAAJ,GAAazuB,OAAb,CAAqByuB,MAAM,IAAI;AAC7B,kBAAMuI,MAAM,GAAG,EAAf;AACAvI,YAAAA,MAAM,CAACnf,KAAP,GAAetP,OAAf,CAAuBiR,IAAI,IAAI;AAC7B+lB,cAAAA,MAAM,CAAC/lB,IAAD,CAAN,GAAewd,MAAM,CAAC2I,IAAP,CAAYnmB,IAAZ,CAAf;AACD,aAFD;AAGA+lB,YAAAA,MAAM,CAAChxB,EAAP,GAAYyoB,MAAM,CAACzoB,EAAnB;AACAgxB,YAAAA,MAAM,CAAC1uB,IAAP,GAAcmmB,MAAM,CAACnmB,IAArB;AACA0uB,YAAAA,MAAM,CAACK,SAAP,GAAmB5I,MAAM,CAAC4I,SAA1B;AACAF,YAAAA,OAAO,CAAChwB,IAAR,CAAa4vB,aAAa,CAACC,MAAD,CAA1B;AACD,WATD;AAUA32B,UAAAA,EAAE,CAAC,IAAD,EAAO82B,OAAP,CAAF;AACD,SAhBD,EAgBGh4B,GAAG,IAAIkB,EAAE,CAAClB,GAAD,CAhBZ,EADuC,CAmBzC;AACA;;AACC,OArBM,MAqBA;AACLkB,QAAAA,EAAE,CAAC,IAAD,EAAO,EAAP,CAAF;AACD;AACF;;;WAED,uBAAe;AACb,WAAKovB,MAAL,CAAY,6BAAZ,EAA2C,KAAKkB,QAAhD,EAA0D,KAAKC,aAA/D;;AACA,UAAI,KAAKR,UAAL,IAAmB,KAAKkH,WAAxB,IAAuC,CAAC,KAAK3G,QAA7C,IAAyD,CAAC,KAAKC,aAAnE,EAAkF;AAElF,WAAK0G,WAAL,GAAmB,IAAnB,CAJa,CAMb;;AACA,YAAMC,iBAAiB,GAAG,MAAM;AAC9B,YAAI,KAAKz5B,SAAT,EAAoB;AAEpB,aAAKo5B,QAAL,CAAc,CAAC/3B,GAAD,EAAMq4B,KAAN,KAAgB;AAC5B,cAAI,KAAK15B,SAAT,EAAoB,OADQ,CAG5B;;AACA,cAAIqB,GAAJ,EAASq4B,KAAK,GAAG,EAAR;AAET,gBAAMC,gBAAgB,GAAG,EAAzB;AACA,gBAAMC,eAAe,GAAG,EAAxB;AACA,gBAAMC,cAAc,GAAG,EAAvB;AACA,cAAIC,0BAA0B,GAAG,KAAjC;AAEAJ,UAAAA,KAAK,CAACx3B,OAAN,CAAc63B,IAAI,IAAI;AACpB;AACA;AACA,gBAAIA,IAAI,CAACvvB,IAAL,KAAc,iBAAd,IAAmCuvB,IAAI,CAACvvB,IAAL,KAAc,kBAArD,EAAyE;AACvEmvB,cAAAA,gBAAgB,CAACI,IAAI,CAAC7xB,EAAN,CAAhB,GAA4B6xB,IAA5B;AACD;;AACD,gBAAIA,IAAI,CAACvvB,IAAL,KAAc,gBAAd,IAAkCuvB,IAAI,CAACvvB,IAAL,KAAc,iBAApD,EAAuE;AACrEovB,cAAAA,eAAe,CAACG,IAAI,CAAC7xB,EAAN,CAAf,GAA2B6xB,IAA3B;AACD;;AACD,gBAAIA,IAAI,CAACvvB,IAAL,KAAc,eAAd,IAAiCuvB,IAAI,CAACvvB,IAAL,KAAc,gBAAnD,EAAqE;AACnEqvB,cAAAA,cAAc,CAACE,IAAI,CAAC7xB,EAAN,CAAd,GAA0B6xB,IAA1B;AACD;AACF,WAZD;;AAcA,gBAAMC,wBAAwB,GAAGC,qBAAqB,IAAI;AACxDH,YAAAA,0BAA0B,GAAG,IAA7B;AAEA,gBAAII,KAAK,GAAGN,eAAe,CAACK,qBAAqB,CAACE,gBAAvB,CAA3B;;AAEA,gBAAID,KAAK,KAAKA,KAAK,CAACE,EAAN,IAAYF,KAAK,CAACzE,OAAvB,CAAT,EAA0C;AACxC;AACA,mBAAK/C,YAAL,GAAoBwH,KAAK,CAACE,EAAN,IAAYF,KAAK,CAACzE,OAAtC;AACA,mBAAK7C,SAAL,GAAiB3gB,MAAM,CAACioB,KAAK,CAAC36B,IAAP,CAAvB;AACD,aAJD,MAIO,IAAI26B,KAAK,IAAIA,KAAK,CAACG,SAAnB,EAA8B;AACnC;AACA,mBAAK3H,YAAL,GAAoBwH,KAAK,CAACG,SAA1B;AACA,mBAAKzH,SAAL,GAAiB3gB,MAAM,CAACioB,KAAK,CAACI,UAAP,CAAvB;AACD,aAJM,MAIA,IAAI,OAAOL,qBAAqB,CAACM,gBAA7B,KAAkD,QAAtD,EAAgE;AACrE;AACAL,cAAAA,KAAK,GAAGD,qBAAqB,CAACM,gBAAtB,CAAuCxnB,KAAvC,CAA6C,GAA7C,CAAR;AACA,mBAAK2f,YAAL,GAAoBwH,KAAK,CAAC,CAAD,CAAzB;AACA,mBAAKtH,SAAL,GAAiB3gB,MAAM,CAACioB,KAAK,CAAC,CAAD,CAAN,CAAvB;AACD;;AACD,gBAAI,KAAKxH,YAAT,EAAuB;AACrB,mBAAKC,WAAL,GAAmB,KAAKD,YAAL,CAAkB1V,QAAlB,CAA2B,GAA3B,IAAkC,MAAlC,GAA2C,MAA9D;AACD;;AAED,gBAAIwd,MAAM,GAAGb,gBAAgB,CAACM,qBAAqB,CAACQ,iBAAvB,CAA7B;;AAEA,gBAAID,MAAM,KAAKA,MAAM,CAACJ,EAAP,IAAaI,MAAM,CAAC/E,OAAzB,CAAV,EAA6C;AAC3C;AACA,mBAAKlD,aAAL,GAAqBiI,MAAM,CAACJ,EAAP,IAAaI,MAAM,CAAC/E,OAAzC;AACA,mBAAKhD,UAAL,GAAkBxgB,MAAM,CAACuoB,MAAM,CAACj7B,IAAR,CAAxB;AACD,aAJD,MAIO,IAAIi7B,MAAM,IAAIA,MAAM,CAACH,SAArB,EAAgC;AACrC;AACA,mBAAK9H,aAAL,GAAqBiI,MAAM,CAACH,SAA5B;AACA,mBAAK5H,UAAL,GAAkBxgB,MAAM,CAACuoB,MAAM,CAACF,UAAR,CAAxB;AACD,aAJM,MAIA,IAAI,OAAOL,qBAAqB,CAACS,iBAA7B,KAAmD,QAAvD,EAAiE;AACtE;AACAF,cAAAA,MAAM,GAAGP,qBAAqB,CAACS,iBAAtB,CAAwC3nB,KAAxC,CAA8C,GAA9C,CAAT;AACA,mBAAKwf,aAAL,GAAqBiI,MAAM,CAAC,CAAD,CAA3B;AACA,mBAAK/H,UAAL,GAAkBxgB,MAAM,CAACuoB,MAAM,CAAC,CAAD,CAAP,CAAxB;AACD;;AACD,gBAAI,KAAKjI,aAAT,EAAwB;AACtB,mBAAKC,YAAL,GAAoB,KAAKD,aAAL,CAAmBvV,QAAnB,CAA4B,GAA5B,IAAmC,MAAnC,GAA4C,MAAhE;AACD;;AAED,iBAAK2U,MAAL,CACE,oCADF,EAEE,KAAKe,YAFP,EAGE,KAAKE,SAHP,EAIE,KAAKL,aAJP,EAKE,KAAKE,UALP;AAOD,WAlDD;;AAoDAiH,UAAAA,KAAK,CAACx3B,OAAN,CAAc63B,IAAI,IAAI;AACpB;AACA,gBAAIA,IAAI,CAACvvB,IAAL,KAAc,WAAd,IAA6BuvB,IAAI,CAACY,uBAAtC,EAA+D;AAC7DX,cAAAA,wBAAwB,CAACH,cAAc,CAACE,IAAI,CAACY,uBAAN,CAAf,CAAxB;AACD,aAJmB,CAMpB;;;AACA,gBACGZ,IAAI,CAACvvB,IAAL,KAAc,mBAAd,IAAqCuvB,IAAI,CAACa,oBAAL,KAA8B,MAApE,IACC,CAACb,IAAI,CAACvvB,IAAL,KAAc,eAAd,IAAiCuvB,IAAI,CAACvvB,IAAL,KAAc,gBAAhD,KAAqEuvB,IAAI,CAACc,QAF7E,EAGE;AACAb,cAAAA,wBAAwB,CAACD,IAAD,CAAxB;AACD;AACF,WAbD,EA7E4B,CA4F5B;AACA;;AACA,cAAI,CAACD,0BAAD,KAAgC,CAACh3B,MAAM,CAACS,IAAP,CAAYs2B,cAAZ,EAA4B/4B,MAA7B,IAAuCgC,MAAM,CAACS,IAAP,CAAYq2B,eAAZ,EAA6B94B,MAApG,CAAJ,EAAiH;AAC/G0F,YAAAA,UAAU,CAACizB,iBAAD,EAAoB,GAApB,CAAV;AACA;AACD,WAHD,MAGO;AACL,iBAAKD,WAAL,GAAmB,KAAnB;AACA,iBAAKlH,UAAL,GAAkB,IAAlB;AACD;;AAED,cAAI,KAAKsB,MAAT,EAAiB;AACf,gBAAI;AACF,mBAAK7qB,IAAL,CAAU,KAAK6qB,MAAf;AACD,aAFD,CAEE,OAAOvyB,GAAP,EAAY;AACZ,qBAAO,KAAKoB,OAAL,CAAa2uB,OAAO,CAAC/vB,GAAD,EAAM,kBAAN,CAApB,CAAP;AACD;;AACD,iBAAKuyB,MAAL,GAAc,IAAd;;AACA,iBAAKjC,MAAL,CAAY,wCAAZ;;AAEA,kBAAMpvB,EAAE,GAAG,KAAKsxB,GAAhB;AACA,iBAAKA,GAAL,GAAW,IAAX;AACAtxB,YAAAA,EAAE,CAAC,IAAD,CAAF;AACD,WAlH2B,CAoH5B;AACA;;;AACA,cAAI,OAAO,KAAK0wB,QAAL,CAAcoE,0BAArB,KAAoD,QAAxD,EAAkE;AAChE,iBAAKvD,SAAL,GAAiB1xB,WAAW,CAAC,MAAM,KAAK04B,WAAL,EAAP,EAA2B,GAA3B,CAA5B;AACA,gBAAI,KAAKhH,SAAL,CAAehwB,KAAnB,EAA0B,KAAKgwB,SAAL,CAAehwB,KAAf;AAC3B;;AAED,eAAK6tB,MAAL,CAAY,SAAZ;;AACA,eAAKrwB,IAAL,CAAU,SAAV;AACD,SA7HD;AA8HD,OAjID;;AAkIAm4B,MAAAA,iBAAiB;AAClB;;;WAED,uBAAe;AACb,UAAI,CAAC,KAAK5F,GAAN,IAAa,CAAC,KAAKZ,QAAnB,IAA+B,KAAKA,QAAL,CAAcqC,cAAd,GAA+BjE,mBAAlE,EAAuF;AACrF;AACD;;AACD,WAAKoG,2BAAL;AACD;;;WAED,mCAA2B;AACzB,UAAI,KAAKz3B,SAAT,EAAoB;;AAEpB,UAAI,KAAK+zB,GAAL,CAASgH,cAAT,KAA4B,QAAhC,EAA0C;AACxC,aAAK5H,cAAL,GAAsB,KAAtB,CADwC,CAGxC;;AACA,aAAKxB,MAAL,CAAY,uBAAZ,EAAqC,KAAK4B,sBAA1C;;AACA,aAAKA,sBAAL,CAA4BrxB,OAA5B,CAAoCu0B,MAAM,IAAI;AAC5C,eAAK1C,GAAL,CAAS+C,WAAT,CAAqBL,MAArB;;AACA,eAAKnD,kBAAL,GAA0B,IAA1B;AACD,SAHD;;AAIA,aAAKC,sBAAL,GAA8B,EAA9B;;AAEA,YAAI,KAAKD,kBAAT,EAA6B;AAC3B,eAAK3B,MAAL,CAAY,4BAAZ;;AACA,eAAK2B,kBAAL,GAA0B,KAA1B;;AACA,eAAK6B,iBAAL,GAH2B,CAGF;;AAC1B,SAJD,MAIO;AACL,eAAKxD,MAAL,CAAY,YAAZ;;AACA,eAAKrwB,IAAL,CAAU,YAAV;AACD;AACF;;AAED,WAAKqwB,MAAL,CAAY,yBAAZ,EAAuC,KAAKoC,GAAL,CAASgH,cAAhD;;AACA,WAAKz5B,IAAL,CAAU,sBAAV,EAAkC,KAAKyyB,GAAL,CAASgH,cAA3C;AACD;;;WAED,yBAAiB/4B,KAAjB,EAAwB;AACtB,UAAI,KAAKhC,SAAT,EAAoB;;AACpB,UAAIgC,KAAK,CAAC8zB,SAAN,IAAmB,KAAKvsB,OAA5B,EAAqC;AACnC,aAAKjI,IAAL,CAAU,QAAV,EAAoB;AAClBkJ,UAAAA,IAAI,EAAE,WADY;AAElBsrB,UAAAA,SAAS,EAAE;AACTA,YAAAA,SAAS,EAAE9zB,KAAK,CAAC8zB,SAAN,CAAgBA,SADlB;AAETkF,YAAAA,aAAa,EAAEh5B,KAAK,CAAC8zB,SAAN,CAAgBkF,aAFtB;AAGTC,YAAAA,MAAM,EAAEj5B,KAAK,CAAC8zB,SAAN,CAAgBmF;AAHf;AAFO,SAApB;AAQD,OATD,MASO,IAAI,CAACj5B,KAAK,CAAC8zB,SAAP,IAAoB,CAAC,KAAK/C,YAA9B,EAA4C;AACjD,aAAKA,YAAL,GAAoB,IAApB;AACA,aAAKzxB,IAAL,CAAU,cAAV;AACD,OAdqB,CAetB;;;AACA,UAAIU,KAAK,CAAC8zB,SAAV,EAAqB;AACnB,aAAKoF,wBAAL;AACD;AACF;;;WAED,2BAAmBl5B,KAAnB,EAA0B;AACxB,UAAI,KAAKhC,SAAT,EAAoB;AACpB,UAAIsD,IAAI,GAAGtB,KAAK,CAACsB,IAAjB;AACA,UAAIA,IAAI,YAAY63B,WAApB,EAAiC73B,IAAI,GAAG5D,MAAM,CAACC,IAAP,CAAY2D,IAAZ,CAAP;AACjC,WAAK+F,IAAL,CAAU/F,IAAV;AACD;;;WAED,uCAA+B;AAC7B,UAAI,KAAKtD,SAAL,IAAkB,CAAC,KAAK6zB,GAA5B,EAAiC;;AACjC,WAAKlC,MAAL,CAAY,wCAAZ,EAAsD,KAAKsB,QAAL,CAAcqC,cAApE;;AACA,YAAM/yB,EAAE,GAAG,KAAKsxB,GAAhB;AACA,WAAKA,GAAL,GAAW,IAAX;AACAtxB,MAAAA,EAAE,CAAC,IAAD,CAAF;AACD;;;WAED,0BAAkB;AAChB,UAAI,KAAK+vB,UAAL,IAAmB,KAAKtyB,SAA5B,EAAuC;;AACvC,WAAK2xB,MAAL,CAAY,iBAAZ;;AACA,WAAKmB,aAAL,GAAqB,IAArB;;AACA,WAAKkG,WAAL;AACD;;;WAED,2BAAmB;AACjB,UAAI,KAAKh5B,SAAT,EAAoB;;AACpB,WAAK2xB,MAAL,CAAY,kBAAZ;;AACA,WAAKlvB,OAAL;AACD;;;WAED,kBAAUT,KAAV,EAAiB;AACf,UAAI,KAAKhC,SAAT,EAAoB;AAEpBgC,MAAAA,KAAK,CAAC+tB,OAAN,CAAc7tB,OAAd,CAAsBk5B,WAAW,IAAI;AACnC,aAAKzJ,MAAL,CAAY,UAAZ;;AACA,aAAKrwB,IAAL,CAAU,OAAV,EAAmBU,KAAK,CAACs0B,KAAzB,EAAgC8E,WAAhC;;AAEA,aAAK1H,aAAL,CAAmBrqB,IAAnB,CAAwB;AACtBitB,UAAAA,KAAK,EAAEt0B,KAAK,CAACs0B,KADS;AAEtBtW,UAAAA,MAAM,EAAEob;AAFc,SAAxB;;AAKA,YAAI,KAAKzH,cAAL,CAAoB0H,IAApB,CAAyBC,YAAY,IAAI;AAC3C,iBAAOA,YAAY,CAACpzB,EAAb,KAAoBkzB,WAAW,CAAClzB,EAAvC;AACD,SAFG,CAAJ,EAEI,OAX+B,CAWxB;;AAEX,aAAKyrB,cAAL,CAAoBtqB,IAApB,CAAyB+xB,WAAzB;;AACA18B,QAAAA,cAAc,CAAC,MAAM;AACnB,eAAKizB,MAAL,CAAY,WAAZ;;AACA,eAAKrwB,IAAL,CAAU,QAAV,EAAoB85B,WAApB,EAFmB,CAEc;AAClC,SAHa,CAAd;AAID,OAlBD;AAmBD;;;WAED,kBAAU;AACR,YAAMvrB,IAAI,GAAG,GAAGkI,KAAH,CAAS7J,IAAT,CAAcgH,SAAd,CAAb;AACArF,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,MAAM,KAAK6hB,GAAX,GAAiB,IAAjB,GAAwB7hB,IAAI,CAAC,CAAD,CAAtC;AACAzR,MAAAA,KAAK,CAACoU,KAAN,CAAY,IAAZ,EAAkB3C,IAAlB;AACD;;;;EAx+BgBmQ,MAAM,CAAC1C;;AA2+B1B7e,IAAI,CAAC0C,cAAL,GAAsB,CAAC,CAACkX,aAAa,EAArC;AAEA;AACA;AACA;AACA;AACA;;AACA5Z,IAAI,CAAC+K,MAAL,GAAc;AACZ+xB,EAAAA,UAAU,EAAE,CACV;AACEC,IAAAA,IAAI,EAAE,CACJ,8BADI,EAEJ,kCAFI;AADR,GADU,CADA;AASZC,EAAAA,YAAY,EAAE;AATF,CAAd;AAYAh9B,IAAI,CAACozB,aAAL,GAAqB,EAArB;AAEAruB,MAAM,CAACC,OAAP,GAAiBhF,IAAjB;;;;;;;;;;;AC3hCA;;AAEA;AACA;AACA;AAEAgF,kBAAA,GAAqB+K,UAArB;AACA/K,YAAA,GAAegL,IAAf;AACAhL,YAAA,GAAeiL,IAAf;AACAjL,iBAAA,GAAoBkL,SAApB;AACAlL,eAAA,GAAkBoL,YAAY,EAA9B;;AACApL,eAAA,GAAkB,CAAC,MAAM;AACxB,MAAIqL,MAAM,GAAG,KAAb;AAEA,SAAO,MAAM;AACZ,QAAI,CAACA,MAAL,EAAa;AACZA,MAAAA,MAAM,GAAG,IAAT;AACAC,MAAAA,OAAO,CAACC,IAAR,CAAa,uIAAb;AACA;AACD,GALD;AAMA,CATiB,GAAlB;AAWA;AACA;AACA;;;AAEAvL,cAAA,GAAiB,CAChB,SADgB,EAEhB,SAFgB,EAGhB,SAHgB,EAIhB,SAJgB,EAKhB,SALgB,EAMhB,SANgB,EAOhB,SAPgB,EAQhB,SARgB,EAShB,SATgB,EAUhB,SAVgB,EAWhB,SAXgB,EAYhB,SAZgB,EAahB,SAbgB,EAchB,SAdgB,EAehB,SAfgB,EAgBhB,SAhBgB,EAiBhB,SAjBgB,EAkBhB,SAlBgB,EAmBhB,SAnBgB,EAoBhB,SApBgB,EAqBhB,SArBgB,EAsBhB,SAtBgB,EAuBhB,SAvBgB,EAwBhB,SAxBgB,EAyBhB,SAzBgB,EA0BhB,SA1BgB,EA2BhB,SA3BgB,EA4BhB,SA5BgB,EA6BhB,SA7BgB,EA8BhB,SA9BgB,EA+BhB,SA/BgB,EAgChB,SAhCgB,EAiChB,SAjCgB,EAkChB,SAlCgB,EAmChB,SAnCgB,EAoChB,SApCgB,EAqChB,SArCgB,EAsChB,SAtCgB,EAuChB,SAvCgB,EAwChB,SAxCgB,EAyChB,SAzCgB,EA0ChB,SA1CgB,EA2ChB,SA3CgB,EA4ChB,SA5CgB,EA6ChB,SA7CgB,EA8ChB,SA9CgB,EA+ChB,SA/CgB,EAgDhB,SAhDgB,EAiDhB,SAjDgB,EAkDhB,SAlDgB,EAmDhB,SAnDgB,EAoDhB,SApDgB,EAqDhB,SArDgB,EAsDhB,SAtDgB,EAuDhB,SAvDgB,EAwDhB,SAxDgB,EAyDhB,SAzDgB,EA0DhB,SA1DgB,EA2DhB,SA3DgB,EA4DhB,SA5DgB,EA6DhB,SA7DgB,EA8DhB,SA9DgB,EA+DhB,SA/DgB,EAgEhB,SAhEgB,EAiEhB,SAjEgB,EAkEhB,SAlEgB,EAmEhB,SAnEgB,EAoEhB,SApEgB,EAqEhB,SArEgB,EAsEhB,SAtEgB,EAuEhB,SAvEgB,EAwEhB,SAxEgB,EAyEhB,SAzEgB,EA0EhB,SA1EgB,EA2EhB,SA3EgB,EA4EhB,SA5EgB,CAAjB;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,SAASkL,SAAT,GAAqB;AACpB;AACA;AACA;AACA,MAAI,OAAOhN,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACtC,OAAxC,KAAoDsC,MAAM,CAACtC,OAAP,CAAemL,IAAf,KAAwB,UAAxB,IAAsC7I,MAAM,CAACtC,OAAP,CAAe6P,MAAzG,CAAJ,EAAsH;AACrH,WAAO,IAAP;AACA,GANmB,CAQpB;;;AACA,MAAI,OAAOC,SAAP,KAAqB,WAArB,IAAoCA,SAAS,CAAC5O,SAA9C,IAA2D4O,SAAS,CAAC5O,SAAV,CAAoBV,WAApB,GAAkCoK,KAAlC,CAAwC,uBAAxC,CAA/D,EAAiI;AAChI,WAAO,KAAP;AACA,GAXmB,CAapB;AACA;;;AACA,SAAQ,OAAOmF,QAAP,KAAoB,WAApB,IAAmCA,QAAQ,CAACC,eAA5C,IAA+DD,QAAQ,CAACC,eAAT,CAAyBC,KAAxF,IAAiGF,QAAQ,CAACC,eAAT,CAAyBC,KAAzB,CAA+BC,gBAAjI,IACN;AACC,SAAO5N,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACoN,OAAxC,KAAoDpN,MAAM,CAACoN,OAAP,CAAeS,OAAf,IAA2B7N,MAAM,CAACoN,OAAP,CAAeU,SAAf,IAA4B9N,MAAM,CAACoN,OAAP,CAAeW,KAA1H,CAFK,IAGN;AACA;AACC,SAAOP,SAAP,KAAqB,WAArB,IAAoCA,SAAS,CAAC5O,SAA9C,IAA2D4O,SAAS,CAAC5O,SAAV,CAAoBV,WAApB,GAAkCoK,KAAlC,CAAwC,gBAAxC,CAA3D,IAAwH0F,QAAQ,CAAC5D,MAAM,CAAC6D,EAAR,EAAY,EAAZ,CAAR,IAA2B,EAL9I,IAMN;AACC,SAAOT,SAAP,KAAqB,WAArB,IAAoCA,SAAS,CAAC5O,SAA9C,IAA2D4O,SAAS,CAAC5O,SAAV,CAAoBV,WAApB,GAAkCoK,KAAlC,CAAwC,oBAAxC,CAP7D;AAQA;AAED;AACA;AACA;AACA;AACA;;;AAEA,SAASuE,UAAT,CAAoBqB,IAApB,EAA0B;AACzBA,EAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAC,KAAKlB,SAAL,GAAiB,IAAjB,GAAwB,EAAzB,IACT,KAAKmB,SADI,IAER,KAAKnB,SAAL,GAAiB,KAAjB,GAAyB,GAFjB,IAGTkB,IAAI,CAAC,CAAD,CAHK,IAIR,KAAKlB,SAAL,GAAiB,KAAjB,GAAyB,GAJjB,IAKT,GALS,GAKHnL,MAAM,CAACC,OAAP,CAAesM,QAAf,CAAwB,KAAKC,IAA7B,CALP;;AAOA,MAAI,CAAC,KAAKrB,SAAV,EAAqB;AACpB;AACA;;AAED,QAAMZ,CAAC,GAAG,YAAY,KAAKkC,KAA3B;AACAJ,EAAAA,IAAI,CAACK,MAAL,CAAY,CAAZ,EAAe,CAAf,EAAkBnC,CAAlB,EAAqB,gBAArB,EAbyB,CAezB;AACA;AACA;;AACA,MAAIpB,KAAK,GAAG,CAAZ;AACA,MAAIwD,KAAK,GAAG,CAAZ;AACAN,EAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQ7F,OAAR,CAAgB,aAAhB,EAA+BC,KAAK,IAAI;AACvC,QAAIA,KAAK,KAAK,IAAd,EAAoB;AACnB;AACA;;AACD0C,IAAAA,KAAK;;AACL,QAAI1C,KAAK,KAAK,IAAd,EAAoB;AACnB;AACA;AACAkG,MAAAA,KAAK,GAAGxD,KAAR;AACA;AACD,GAVD;AAYAkD,EAAAA,IAAI,CAACK,MAAL,CAAYC,KAAZ,EAAmB,CAAnB,EAAsBpC,CAAtB;AACA;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAtK,WAAA,GAAcsL,OAAO,CAAC3Q,KAAR,IAAiB2Q,OAAO,CAACqB,GAAzB,KAAiC,MAAM,CAAE,CAAzC,CAAd;AAEA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS3B,IAAT,CAAc4B,UAAd,EAA0B;AACzB,MAAI;AACH,QAAIA,UAAJ,EAAgB;AACf5M,MAAAA,OAAO,CAACmL,OAAR,CAAgB0B,OAAhB,CAAwB,OAAxB,EAAiCD,UAAjC;AACA,KAFD,MAEO;AACN5M,MAAAA,OAAO,CAACmL,OAAR,CAAgB2B,UAAhB,CAA2B,OAA3B;AACA;AACD,GAND,CAME,OAAOC,KAAP,EAAc,CACf;AACA;AACA;AACD;AAED;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS9B,IAAT,GAAgB;AACf,MAAI+B,CAAJ;;AACA,MAAI;AACHA,IAAAA,CAAC,GAAGhN,OAAO,CAACmL,OAAR,CAAgB8B,OAAhB,CAAwB,OAAxB,CAAJ;AACA,GAFD,CAEE,OAAOF,KAAP,EAAc,CACf;AACA;AACA,GAPc,CASf;;;AACA,MAAI,CAACC,CAAD,IAAM,OAAOpR,OAAP,KAAmB,WAAzB,IAAwC,SAASA,OAArD,EAA8D;AAC7DoR,IAAAA,CAAC,GAAGpR,OAAO,CAACsR,GAAR,CAAYC,KAAhB;AACA;;AAED,SAAOH,CAAP;AACA;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,SAAS5B,YAAT,GAAwB;AACvB,MAAI;AACH;AACA;AACA,WAAOgC,YAAP;AACA,GAJD,CAIE,OAAOL,KAAP,EAAc,CACf;AACA;AACA;AACD;;AAEDhN,MAAM,CAACC,OAAP,GAAiBpF,mBAAO,CAAC,6EAAD,CAAP,CAAoBoF,OAApB,CAAjB;AAEA,MAAM;AAACqN,EAAAA;AAAD,IAAetN,MAAM,CAACC,OAA5B;AAEA;AACA;AACA;;AAEAqN,UAAU,CAACC,CAAX,GAAe,UAAUC,CAAV,EAAa;AAC3B,MAAI;AACH,WAAO3J,IAAI,CAACK,SAAL,CAAesJ,CAAf,CAAP;AACA,GAFD,CAEE,OAAOR,KAAP,EAAc;AACf,WAAO,iCAAiCA,KAAK,CAAC1H,OAA9C;AACA;AACD,CAND;;;;;;;;;;;;;;;;;;;;;;ACrQA;AACA;AACA;AACA;AAEA,SAASmI,KAAT,CAAeN,GAAf,EAAoB;AACnBO,EAAAA,WAAW,CAAC9S,KAAZ,GAAoB8S,WAApB;AACAA,EAAAA,WAAW,CAACC,OAAZ,GAAsBD,WAAtB;AACAA,EAAAA,WAAW,CAACE,MAAZ,GAAqBA,MAArB;AACAF,EAAAA,WAAW,CAACG,OAAZ,GAAsBA,OAAtB;AACAH,EAAAA,WAAW,CAACI,MAAZ,GAAqBA,MAArB;AACAJ,EAAAA,WAAW,CAACK,OAAZ,GAAsBA,OAAtB;AACAL,EAAAA,WAAW,CAACnB,QAAZ,GAAuB1R,mBAAO,CAAC,sCAAD,CAA9B;AACA6S,EAAAA,WAAW,CAACzO,OAAZ,GAAsBA,OAAtB;AAEAK,EAAAA,MAAM,CAACS,IAAP,CAAYoN,GAAZ,EAAiBzO,OAAjB,CAAyB2K,GAAG,IAAI;AAC/BqE,IAAAA,WAAW,CAACrE,GAAD,CAAX,GAAmB8D,GAAG,CAAC9D,GAAD,CAAtB;AACA,GAFD;AAIA;AACD;AACA;;AAECqE,EAAAA,WAAW,CAACM,KAAZ,GAAoB,EAApB;AACAN,EAAAA,WAAW,CAACO,KAAZ,GAAoB,EAApB;AAEA;AACD;AACA;AACA;AACA;;AACCP,EAAAA,WAAW,CAACJ,UAAZ,GAAyB,EAAzB;AAEA;AACD;AACA;AACA;AACA;AACA;;AACC,WAASY,WAAT,CAAqB5B,SAArB,EAAgC;AAC/B,QAAI6B,IAAI,GAAG,CAAX;;AAEA,SAAK,IAAI1I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6G,SAAS,CAAChP,MAA9B,EAAsCmI,CAAC,EAAvC,EAA2C;AAC1C0I,MAAAA,IAAI,GAAI,CAACA,IAAI,IAAI,CAAT,IAAcA,IAAf,GAAuB7B,SAAS,CAAC8B,UAAV,CAAqB3I,CAArB,CAA9B;AACA0I,MAAAA,IAAI,IAAI,CAAR,CAF0C,CAE/B;AACX;;AAED,WAAOT,WAAW,CAACjC,MAAZ,CAAmB1J,IAAI,CAACsM,GAAL,CAASF,IAAT,IAAiBT,WAAW,CAACjC,MAAZ,CAAmBnO,MAAvD,CAAP;AACA;;AACDoQ,EAAAA,WAAW,CAACQ,WAAZ,GAA0BA,WAA1B;AAEA;AACD;AACA;AACA;AACA;AACA;AACA;;AACC,WAASR,WAAT,CAAqBpB,SAArB,EAAgC;AAC/B,QAAIgC,QAAJ;AACA,QAAIC,cAAc,GAAG,IAArB;AACA,QAAI2pB,eAAJ;AACA,QAAIC,YAAJ;;AAEA,aAASv9B,KAAT,GAAwB;AAAA,wCAANyR,IAAM;AAANA,QAAAA,IAAM;AAAA;;AACvB;AACA,UAAI,CAACzR,KAAK,CAACmT,OAAX,EAAoB;AACnB;AACA;;AAED,YAAMvI,IAAI,GAAG5K,KAAb,CANuB,CAQvB;;AACA,YAAM4T,IAAI,GAAGC,MAAM,CAAC,IAAI7F,IAAJ,EAAD,CAAnB;AACA,YAAM1D,EAAE,GAAGsJ,IAAI,IAAIF,QAAQ,IAAIE,IAAhB,CAAf;AACAhJ,MAAAA,IAAI,CAACgH,IAAL,GAAYtH,EAAZ;AACAM,MAAAA,IAAI,CAACkJ,IAAL,GAAYJ,QAAZ;AACA9I,MAAAA,IAAI,CAACgJ,IAAL,GAAYA,IAAZ;AACAF,MAAAA,QAAQ,GAAGE,IAAX;AAEAnC,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUqB,WAAW,CAACE,MAAZ,CAAmBvB,IAAI,CAAC,CAAD,CAAvB,CAAV;;AAEA,UAAI,OAAOA,IAAI,CAAC,CAAD,CAAX,KAAmB,QAAvB,EAAiC;AAChC;AACAA,QAAAA,IAAI,CAACsC,OAAL,CAAa,IAAb;AACA,OArBsB,CAuBvB;;;AACA,UAAIxF,KAAK,GAAG,CAAZ;AACAkD,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUA,IAAI,CAAC,CAAD,CAAJ,CAAQ7F,OAAR,CAAgB,eAAhB,EAAiC,CAACC,KAAD,EAAQmI,MAAR,KAAmB;AAC7D;AACA,YAAInI,KAAK,KAAK,IAAd,EAAoB;AACnB,iBAAO,GAAP;AACA;;AACD0C,QAAAA,KAAK;AACL,cAAM0F,SAAS,GAAGnB,WAAW,CAACJ,UAAZ,CAAuBsB,MAAvB,CAAlB;;AACA,YAAI,OAAOC,SAAP,KAAqB,UAAzB,EAAqC;AACpC,gBAAMC,GAAG,GAAGzC,IAAI,CAAClD,KAAD,CAAhB;AACA1C,UAAAA,KAAK,GAAGoI,SAAS,CAACnE,IAAV,CAAelF,IAAf,EAAqBsJ,GAArB,CAAR,CAFoC,CAIpC;;AACAzC,UAAAA,IAAI,CAACK,MAAL,CAAYvD,KAAZ,EAAmB,CAAnB;AACAA,UAAAA,KAAK;AACL;;AACD,eAAO1C,KAAP;AACA,OAhBS,CAAV,CAzBuB,CA2CvB;;AACAiH,MAAAA,WAAW,CAAC1C,UAAZ,CAAuBN,IAAvB,CAA4BlF,IAA5B,EAAkC6G,IAAlC;AAEA,YAAM0C,KAAK,GAAGvJ,IAAI,CAACoH,GAAL,IAAYc,WAAW,CAACd,GAAtC;AACAmC,MAAAA,KAAK,CAACC,KAAN,CAAYxJ,IAAZ,EAAkB6G,IAAlB;AACA;;AAEDzR,IAAAA,KAAK,CAAC0R,SAAN,GAAkBA,SAAlB;AACA1R,IAAAA,KAAK,CAACuQ,SAAN,GAAkBuC,WAAW,CAACvC,SAAZ,EAAlB;AACAvQ,IAAAA,KAAK,CAAC6R,KAAN,GAAciB,WAAW,CAACQ,WAAZ,CAAwB5B,SAAxB,CAAd;AACA1R,IAAAA,KAAK,CAACqU,MAAN,GAAeA,MAAf;AACArU,IAAAA,KAAK,CAACqE,OAAN,GAAgByO,WAAW,CAACzO,OAA5B,CA5D+B,CA4DM;;AAErCK,IAAAA,MAAM,CAAC4K,cAAP,CAAsBtP,KAAtB,EAA6B,SAA7B,EAAwC;AACvCqP,MAAAA,UAAU,EAAE,IAD2B;AAEvCiF,MAAAA,YAAY,EAAE,KAFyB;AAGvCC,MAAAA,GAAG,EAAE,MAAM;AACV,YAAIZ,cAAc,KAAK,IAAvB,EAA6B;AAC5B,iBAAOA,cAAP;AACA;;AACD,YAAI2pB,eAAe,KAAKxqB,WAAW,CAACb,UAApC,EAAgD;AAC/CqrB,UAAAA,eAAe,GAAGxqB,WAAW,CAACb,UAA9B;AACAsrB,UAAAA,YAAY,GAAGzqB,WAAW,CAACK,OAAZ,CAAoBzB,SAApB,CAAf;AACA;;AAED,eAAO6rB,YAAP;AACA,OAbsC;AAcvC3uB,MAAAA,GAAG,EAAEgE,CAAC,IAAI;AACTe,QAAAA,cAAc,GAAGf,CAAjB;AACA;AAhBsC,KAAxC,EA9D+B,CAiF/B;;AACA,QAAI,OAAOE,WAAW,CAAC0B,IAAnB,KAA4B,UAAhC,EAA4C;AAC3C1B,MAAAA,WAAW,CAAC0B,IAAZ,CAAiBxU,KAAjB;AACA;;AAED,WAAOA,KAAP;AACA;;AAED,WAASqU,MAAT,CAAgB3C,SAAhB,EAA2B+C,SAA3B,EAAsC;AACrC,UAAMC,QAAQ,GAAG5B,WAAW,CAAC,KAAKpB,SAAL,IAAkB,OAAO+C,SAAP,KAAqB,WAArB,GAAmC,GAAnC,GAAyCA,SAA3D,IAAwE/C,SAAzE,CAA5B;AACAgD,IAAAA,QAAQ,CAAC1C,GAAT,GAAe,KAAKA,GAApB;AACA,WAAO0C,QAAP;AACA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;;;AACC,WAASxB,MAAT,CAAgBjB,UAAhB,EAA4B;AAC3Ba,IAAAA,WAAW,CAACzC,IAAZ,CAAiB4B,UAAjB;AACAa,IAAAA,WAAW,CAACb,UAAZ,GAAyBA,UAAzB;AAEAa,IAAAA,WAAW,CAACM,KAAZ,GAAoB,EAApB;AACAN,IAAAA,WAAW,CAACO,KAAZ,GAAoB,EAApB;AAEA,QAAIxI,CAAJ;AACA,UAAM8J,KAAK,GAAG,CAAC,OAAO1C,UAAP,KAAsB,QAAtB,GAAiCA,UAAjC,GAA8C,EAA/C,EAAmD0C,KAAnD,CAAyD,QAAzD,CAAd;AACA,UAAM5P,GAAG,GAAG4P,KAAK,CAACjS,MAAlB;;AAEA,SAAKmI,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG9F,GAAhB,EAAqB8F,CAAC,EAAtB,EAA0B;AACzB,UAAI,CAAC8J,KAAK,CAAC9J,CAAD,CAAV,EAAe;AACd;AACA;AACA;;AAEDoH,MAAAA,UAAU,GAAG0C,KAAK,CAAC9J,CAAD,CAAL,CAASe,OAAT,CAAiB,KAAjB,EAAwB,KAAxB,CAAb;;AAEA,UAAIqG,UAAU,CAAC,CAAD,CAAV,KAAkB,GAAtB,EAA2B;AAC1Ba,QAAAA,WAAW,CAACO,KAAZ,CAAkBpI,IAAlB,CAAuB,IAAI0C,MAAJ,CAAW,MAAMsE,UAAU,CAAC0H,KAAX,CAAiB,CAAjB,CAAN,GAA4B,GAAvC,CAAvB;AACA,OAFD,MAEO;AACN7G,QAAAA,WAAW,CAACM,KAAZ,CAAkBnI,IAAlB,CAAuB,IAAI0C,MAAJ,CAAW,MAAMsE,UAAN,GAAmB,GAA9B,CAAvB;AACA;AACD;AACD;AAED;AACD;AACA;AACA;AACA;AACA;;;AACC,WAASgB,OAAT,GAAmB;AAClB,UAAMhB,UAAU,GAAG,6BACfa,WAAW,CAACM,KAAZ,CAAkB5Q,GAAlB,CAAsBqS,WAAtB,CADe,sBAEf/B,WAAW,CAACO,KAAZ,CAAkB7Q,GAAlB,CAAsBqS,WAAtB,EAAmCrS,GAAnC,CAAuCkP,SAAS,IAAI,MAAMA,SAA1D,CAFe,GAGjBoD,IAHiB,CAGZ,GAHY,CAAnB;AAIAhC,IAAAA,WAAW,CAACI,MAAZ,CAAmB,EAAnB;AACA,WAAOjB,UAAP;AACA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;;;AACC,WAASkB,OAAT,CAAiB4B,IAAjB,EAAuB;AACtB,QAAIA,IAAI,CAACA,IAAI,CAACrS,MAAL,GAAc,CAAf,CAAJ,KAA0B,GAA9B,EAAmC;AAClC,aAAO,IAAP;AACA;;AAED,QAAImI,CAAJ;AACA,QAAI9F,GAAJ;;AAEA,SAAK8F,CAAC,GAAG,CAAJ,EAAO9F,GAAG,GAAG+N,WAAW,CAACO,KAAZ,CAAkB3Q,MAApC,EAA4CmI,CAAC,GAAG9F,GAAhD,EAAqD8F,CAAC,EAAtD,EAA0D;AACzD,UAAIiI,WAAW,CAACO,KAAZ,CAAkBxI,CAAlB,EAAqBmK,IAArB,CAA0BD,IAA1B,CAAJ,EAAqC;AACpC,eAAO,KAAP;AACA;AACD;;AAED,SAAKlK,CAAC,GAAG,CAAJ,EAAO9F,GAAG,GAAG+N,WAAW,CAACM,KAAZ,CAAkB1Q,MAApC,EAA4CmI,CAAC,GAAG9F,GAAhD,EAAqD8F,CAAC,EAAtD,EAA0D;AACzD,UAAIiI,WAAW,CAACM,KAAZ,CAAkBvI,CAAlB,EAAqBmK,IAArB,CAA0BD,IAA1B,CAAJ,EAAqC;AACpC,eAAO,IAAP;AACA;AACD;;AAED,WAAO,KAAP;AACA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;;;AACC,WAASF,WAAT,CAAqBI,MAArB,EAA6B;AAC5B,WAAOA,MAAM,CAAC7T,QAAP,GACLuB,SADK,CACK,CADL,EACQsS,MAAM,CAAC7T,QAAP,GAAkBsB,MAAlB,GAA2B,CADnC,EAELkJ,OAFK,CAEG,SAFH,EAEc,GAFd,CAAP;AAGA;AAED;AACD;AACA;AACA;AACA;AACA;AACA;;;AACC,WAASoH,MAAT,CAAgBkB,GAAhB,EAAqB;AACpB,QAAIA,GAAG,YAAYpT,KAAnB,EAA0B;AACzB,aAAOoT,GAAG,CAACgB,KAAJ,IAAahB,GAAG,CAACxJ,OAAxB;AACA;;AACD,WAAOwJ,GAAP;AACA;AAED;AACD;AACA;AACA;;;AACC,WAAS7P,OAAT,GAAmB;AAClBsM,IAAAA,OAAO,CAACC,IAAR,CAAa,uIAAb;AACA;;AAEDkC,EAAAA,WAAW,CAACI,MAAZ,CAAmBJ,WAAW,CAACxC,IAAZ,EAAnB;AAEA,SAAOwC,WAAP;AACA;;AAED1N,MAAM,CAACC,OAAP,GAAiBwN,KAAjB;;;;;;;;;;;ACjRa;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASlO,MAAT,CAAgBwH,GAAhB,EAAqBijB,KAArB,EAA4B;AACxB,OAAK,MAAM3gB,GAAX,IAAkB2gB,KAAlB,EAAyB;AACrB1qB,IAAAA,MAAM,CAAC4K,cAAP,CAAsBnD,GAAtB,EAA2BsC,GAA3B,EAAgC;AAC5BzC,MAAAA,KAAK,EAAEojB,KAAK,CAAC3gB,GAAD,CADgB;AAE5BY,MAAAA,UAAU,EAAE,IAFgB;AAG5BiF,MAAAA,YAAY,EAAE;AAHc,KAAhC;AAKH;;AAED,SAAOnI,GAAP;AACH;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASqxB,WAAT,CAAqBv6B,GAArB,EAA0B2a,IAA1B,EAAgCwR,KAAhC,EAAuC;AACnC,MAAI,CAACnsB,GAAD,IAAQ,OAAOA,GAAP,KAAe,QAA3B,EAAqC;AACjC,UAAM,IAAIqT,SAAJ,CAAc,kCAAd,CAAN;AACH;;AAED,MAAI,CAAC8Y,KAAL,EAAY;AACRA,IAAAA,KAAK,GAAG,EAAR;AACH;;AAED,MAAI,OAAOxR,IAAP,KAAgB,QAApB,EAA8B;AAC1BwR,IAAAA,KAAK,GAAGxR,IAAR;AACAA,IAAAA,IAAI,GAAG,EAAP;AACH;;AAED,MAAIA,IAAJ,EAAU;AACNwR,IAAAA,KAAK,CAACxR,IAAN,GAAaA,IAAb;AACH;;AAED,MAAI;AACA,WAAOjZ,MAAM,CAAC1B,GAAD,EAAMmsB,KAAN,CAAb;AACH,GAFD,CAEE,OAAO7iB,CAAP,EAAU;AACR6iB,IAAAA,KAAK,CAAC1kB,OAAN,GAAgBzH,GAAG,CAACyH,OAApB;AACA0kB,IAAAA,KAAK,CAACla,KAAN,GAAcjS,GAAG,CAACiS,KAAlB;;AAEA,UAAMuoB,QAAQ,GAAG,YAAY,CAAE,CAA/B;;AAEAA,IAAAA,QAAQ,CAAClyB,SAAT,GAAqB7G,MAAM,CAAC2J,MAAP,CAAc3J,MAAM,CAAC4J,cAAP,CAAsBrL,GAAtB,CAAd,CAArB,CANQ,CAQR;;AACA,UAAMy6B,MAAM,GAAG/4B,MAAM,CAAC,IAAI84B,QAAJ,EAAD,EAAiBrO,KAAjB,CAArB;AAEA,WAAOsO,MAAP;AACH;AACJ;;AAEDt4B,MAAM,CAACC,OAAP,GAAiBm4B,WAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpEA;;AACA;AAEA,MAAMx9B,KAAK,GAAGC,mBAAO,CAAC,kDAAD,CAAP,CAAiB,kBAAjB,CAAd;;AACA,MAAM2F,WAAW,GAAG3F,mBAAO,CAAC,0DAAD,CAA3B;;AACA,MAAM2hB,MAAM,GAAG3hB,mBAAO,CAAC,2EAAD,CAAtB;;AACA,MAAMK,cAAc,GAAGL,mBAAO,CAAC,gEAAD,CAA9B,EAAkD;;;AAClD,MAAM09B,EAAE,GAAG19B,mBAAO,CAAC,iBAAD,CAAlB,EAAyB;;;AAEzB,MAAM29B,UAAU,GAAG,OAAOD,EAAP,KAAc,UAAd,GAA2BE,SAA3B,GAAuCF,EAA1D;;AAEA,MAAM1K,mBAAmB,GAAG,KAAK,IAAjC;AAEA;AACA;AACA;AACA;AACA;AACA;;IACMptB;;;;;AACJ,oBAAwB;AAAA;;AAAA,QAAXjF,IAAW,uEAAJ,EAAI;;AAAA;;AACtB;AACA,QAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC5BA,MAAAA,IAAI,GAAG;AAAEoI,QAAAA,GAAG,EAAEpI;AAAP,OAAP;AACD;;AAEDA,IAAAA,IAAI,GAAG8D,MAAM,CAACC,MAAP,CAAc;AACnB2a,MAAAA,aAAa,EAAE;AADI,KAAd,EAEJ1e,IAFI,CAAP;AAIA,8BAAMA,IAAN;;AAEA,QAAIA,IAAI,CAACoI,GAAL,IAAY,IAAZ,IAAoBpI,IAAI,CAACyF,MAAL,IAAe,IAAvC,EAA6C;AAC3C,YAAM,IAAIvF,KAAJ,CAAU,2CAAV,CAAN;AACD;;AACD,QAAIF,IAAI,CAACoI,GAAL,IAAY,IAAZ,IAAoBpI,IAAI,CAACyF,MAAL,IAAe,IAAvC,EAA6C;AAC3C,YAAM,IAAIvF,KAAJ,CAAU,wDAAV,CAAN;AACD;;AAED,UAAKwyB,GAAL,GAAW1tB,WAAW,CAAC,CAAD,CAAX,CAAexE,QAAf,CAAwB,KAAxB,EAA+BuY,KAA/B,CAAqC,CAArC,EAAwC,CAAxC,CAAX;;AACA,UAAK4Z,MAAL,CAAY,mBAAZ,EAAiC3yB,IAAjC;;AAEA,UAAK+F,SAAL,GAAiB,KAAjB;AACA,UAAK/E,SAAL,GAAiB,KAAjB;AAEA,UAAK4zB,MAAL,GAAc,IAAd;AACA,UAAKC,GAAL,GAAW,IAAX;AACA,UAAKC,SAAL,GAAiB,IAAjB;;AAEA,QAAI90B,IAAI,CAACyF,MAAT,EAAiB;AACf,YAAK2C,GAAL,GAAWpI,IAAI,CAACyF,MAAL,CAAY2C,GAAvB;AACA,YAAK80B,GAAL,GAAWl9B,IAAI,CAACyF,MAAhB;AACA,YAAKM,SAAL,GAAiB/F,IAAI,CAACyF,MAAL,CAAY8wB,UAAZ,KAA2ByG,UAAU,CAACG,IAAvD;AACD,KAJD,MAIO;AACL,YAAK/0B,GAAL,GAAWpI,IAAI,CAACoI,GAAhB;;AACA,UAAI;AACF,YAAI,OAAO20B,EAAP,KAAc,UAAlB,EAA8B;AAC5B;AACA,gBAAKG,GAAL,GAAW,IAAIF,UAAJ,CAAeh9B,IAAI,CAACoI,GAApB,EAAyB,IAAzB,kCACNpI,IADM;AAETwf,YAAAA,QAAQ,EAAEpK,SAFD,CAEW;;AAFX,aAAX;AAID,SAND,MAMO;AACL,gBAAK8nB,GAAL,GAAW,IAAIF,UAAJ,CAAeh9B,IAAI,CAACoI,GAApB,CAAX;AACD;AACF,OAVD,CAUE,OAAO/F,GAAP,EAAY;AACZ3C,QAAAA,cAAc,CAAC,MAAM,MAAK+D,OAAL,CAAapB,GAAb,CAAP,CAAd;AACA;AACD;AACF;;AAED,UAAK66B,GAAL,CAAS9E,UAAT,GAAsB,aAAtB;;AAEA,QAAIp4B,IAAI,CAACyF,MAAL,IAAe,MAAKM,SAAxB,EAAmC;AACjCrG,MAAAA,cAAc,CAAC,MAAM,MAAK09B,WAAL,EAAP,CAAd;AACD,KAFD,MAEO;AACL,YAAKF,GAAL,CAAS/E,MAAT,GAAkB,MAAM,MAAKiF,WAAL,EAAxB;AACD;;AAED,UAAKF,GAAL,CAAShF,SAAT,GAAqBl1B,KAAK,IAAI,MAAKq6B,cAAL,CAAoBr6B,KAApB,CAA9B;;AACA,UAAKk6B,GAAL,CAAS5X,OAAT,GAAmB,MAAM,MAAKgY,YAAL,EAAzB;;AACA,UAAKJ,GAAL,CAAS1X,OAAT,GAAmBnjB,GAAG,IAAI,MAAKk7B,YAAL,CAAkBl7B,GAAlB,CAA1B;;AAEA,UAAKm7B,kBAAL,GAA0B,MAAM,MAAKC,aAAL,EAAhC;;AACA,UAAKl+B,IAAL,CAAU,QAAV,EAAoB,MAAKi+B,kBAAzB;;AAhEsB;AAiEvB;AAED;AACF;AACA;AACA;;;;;WACE,cAAMje,KAAN,EAAa;AACX,WAAK2d,GAAL,CAASnzB,IAAT,CAAcwV,KAAd;AACD,MAED;AACA;AACA;;;;WACA,iBAASld,GAAT,EAAc;AACZ,WAAKmgB,QAAL,CAAcngB,GAAd,EAAmB,MAAM,CAAE,CAA3B;AACD;;;WAED,kBAAUA,GAAV,EAAekB,EAAf,EAAmB;AACjB,UAAI,KAAKvC,SAAT,EAAoB;;AAEpB,WAAK2xB,MAAL,CAAY,qBAAZ,EAAmCtwB,GAAG,KAAKA,GAAG,CAACyH,OAAJ,IAAezH,GAApB,CAAtC;;AAEA,WAAKsc,QAAL,GAAgB,KAAKtE,QAAL,GAAgB,KAAhC;AACA,UAAI,CAAC,KAAK8E,cAAL,CAAoBH,KAAzB,EAAgC,KAAK3U,IAAL,CAAU,IAAV;AAChC,UAAI,CAAC,KAAKwU,cAAL,CAAoBkI,QAAzB,EAAmC,KAAK7H,GAAL;AAEnC,WAAKnZ,SAAL,GAAiB,KAAjB;AACA,WAAK/E,SAAL,GAAiB,IAAjB;AAEA6D,MAAAA,aAAa,CAAC,KAAKiwB,SAAN,CAAb;AACA,WAAKA,SAAL,GAAiB,IAAjB;AACA,WAAKF,MAAL,GAAc,IAAd;AACA,WAAKC,GAAL,GAAW,IAAX;;AAEA,UAAI,KAAK2I,kBAAT,EAA6B;AAC3B,aAAKx2B,cAAL,CAAoB,QAApB,EAA8B,KAAKw2B,kBAAnC;AACD;;AACD,WAAKA,kBAAL,GAA0B,IAA1B;;AAEA,UAAI,KAAKN,GAAT,EAAc;AACZ,cAAMH,EAAE,GAAG,KAAKG,GAAhB;;AACA,cAAMQ,OAAO,GAAG,MAAM;AACpBX,UAAAA,EAAE,CAACzX,OAAH,GAAa,IAAb;AACD,SAFD;;AAGA,YAAIyX,EAAE,CAACxG,UAAH,KAAkByG,UAAU,CAACW,MAAjC,EAAyC;AACvCD,UAAAA,OAAO;AACR,SAFD,MAEO;AACL,cAAI;AACFX,YAAAA,EAAE,CAACzX,OAAH,GAAaoY,OAAb;AACAX,YAAAA,EAAE,CAAC9E,KAAH;AACD,WAHD,CAGE,OAAO51B,GAAP,EAAY;AACZq7B,YAAAA,OAAO;AACR;AACF;;AAEDX,QAAAA,EAAE,CAAC5E,MAAH,GAAY,IAAZ;AACA4E,QAAAA,EAAE,CAAC7E,SAAH,GAAe,IAAf;;AACA6E,QAAAA,EAAE,CAACvX,OAAH,GAAa,MAAM,CAAE,CAArB;AACD;;AACD,WAAK0X,GAAL,GAAW,IAAX;AAEA,UAAI76B,GAAJ,EAAS,KAAKC,IAAL,CAAU,OAAV,EAAmBD,GAAnB;AACT,WAAKC,IAAL,CAAU,OAAV;AACAiB,MAAAA,EAAE;AACH;;;WAED,iBAAS,CAAE;;;WAEX,gBAAQgc,KAAR,EAAeC,QAAf,EAAyBjc,EAAzB,EAA6B;AAC3B,UAAI,KAAKvC,SAAT,EAAoB,OAAOuC,EAAE,CAAC,IAAIrD,KAAJ,CAAU,wCAAV,CAAD,CAAT;;AAEpB,UAAI,KAAK6F,SAAT,EAAoB;AAClB,YAAI;AACF,eAAKgE,IAAL,CAAUwV,KAAV;AACD,SAFD,CAEE,OAAOld,GAAP,EAAY;AACZ,iBAAO,KAAKoB,OAAL,CAAapB,GAAb,CAAP;AACD;;AACD,YAAI,OAAO06B,EAAP,KAAc,UAAd,IAA4B,KAAKG,GAAL,CAAS5G,cAAT,GAA0BjE,mBAA1D,EAA+E;AAC7E,eAAKM,MAAL,CAAY,uCAAZ,EAAqD,KAAKuK,GAAL,CAAS5G,cAA9D;;AACA,eAAKzB,GAAL,GAAWtxB,EAAX;AACD,SAHD,MAGO;AACLA,UAAAA,EAAE,CAAC,IAAD,CAAF;AACD;AACF,OAZD,MAYO;AACL,aAAKovB,MAAL,CAAY,sBAAZ;;AACA,aAAKiC,MAAL,GAAcrV,KAAd;AACA,aAAKsV,GAAL,GAAWtxB,EAAX;AACD;AACF;;;WAED,uBAAe;AACb,UAAI,KAAKwC,SAAL,IAAkB,KAAK/E,SAA3B,EAAsC;AACtC,WAAK+E,SAAL,GAAiB,IAAjB;;AAEA,UAAI,KAAK6uB,MAAT,EAAiB;AACf,YAAI;AACF,eAAK7qB,IAAL,CAAU,KAAK6qB,MAAf;AACD,SAFD,CAEE,OAAOvyB,GAAP,EAAY;AACZ,iBAAO,KAAKoB,OAAL,CAAapB,GAAb,CAAP;AACD;;AACD,aAAKuyB,MAAL,GAAc,IAAd;;AACA,aAAKjC,MAAL,CAAY,wCAAZ;;AAEA,cAAMpvB,EAAE,GAAG,KAAKsxB,GAAhB;AACA,aAAKA,GAAL,GAAW,IAAX;AACAtxB,QAAAA,EAAE,CAAC,IAAD,CAAF;AACD,OAhBY,CAkBb;AACA;;;AACA,UAAI,OAAOw5B,EAAP,KAAc,UAAlB,EAA8B;AAC5B,aAAKjI,SAAL,GAAiB1xB,WAAW,CAAC,MAAM,KAAK04B,WAAL,EAAP,EAA2B,GAA3B,CAA5B;AACA,YAAI,KAAKhH,SAAL,CAAehwB,KAAnB,EAA0B,KAAKgwB,SAAL,CAAehwB,KAAf;AAC3B;;AAED,WAAK6tB,MAAL,CAAY,SAAZ;;AACA,WAAKrwB,IAAL,CAAU,SAAV;AACD;;;WAED,wBAAgBU,KAAhB,EAAuB;AACrB,UAAI,KAAKhC,SAAT,EAAoB;AACpB,UAAIsD,IAAI,GAAGtB,KAAK,CAACsB,IAAjB;AACA,UAAIA,IAAI,YAAY63B,WAApB,EAAiC73B,IAAI,GAAG5D,MAAM,CAACC,IAAP,CAAY2D,IAAZ,CAAP;AACjC,WAAK+F,IAAL,CAAU/F,IAAV;AACD;;;WAED,wBAAgB;AACd,UAAI,KAAKtD,SAAT,EAAoB;;AACpB,WAAK2xB,MAAL,CAAY,UAAZ;;AACA,WAAKlvB,OAAL;AACD;;;WAED,sBAAckI,CAAd,EAAiB;AACf,WAAKlI,OAAL,CAAa,IAAIvD,KAAJ,CAAW,uBAAsB,KAAKkI,GAAI,EAA1C,CAAb;AACD,MAED;AACA;;;;WACA,yBAAiB;AACf,UAAI,KAAKpH,SAAT,EAAoB,OADL,CAGf;AACA;;AACA,YAAMg4B,WAAW,GAAG,MAAM;AACxBxxB,QAAAA,UAAU,CAAC,MAAM,KAAK/D,OAAL,EAAP,EAAuB,IAAvB,CAAV;AACD,OAFD;;AAIA,UAAI,KAAKsC,SAAT,EAAoB;AAClBizB,QAAAA,WAAW;AACZ,OAFD,MAEO;AACL,aAAKz5B,IAAL,CAAU,SAAV,EAAqBy5B,WAArB;AACD;AACF;;;WAED,uBAAe;AACb,UAAI,CAAC,KAAKnE,GAAN,IAAa,CAAC,KAAKqI,GAAnB,IAA0B,KAAKA,GAAL,CAAS5G,cAAT,GAA0BjE,mBAAxD,EAA6E;AAC3E;AACD;;AACD,WAAKM,MAAL,CAAY,wCAAZ,EAAsD,KAAKuK,GAAL,CAAS5G,cAA/D;;AACA,YAAM/yB,EAAE,GAAG,KAAKsxB,GAAhB;AACA,WAAKA,GAAL,GAAW,IAAX;AACAtxB,MAAAA,EAAE,CAAC,IAAD,CAAF;AACD;;;WAED,kBAAU;AACR,YAAMsN,IAAI,GAAG,GAAGkI,KAAH,CAAS7J,IAAT,CAAcgH,SAAd,CAAb;AACArF,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,MAAM,KAAK6hB,GAAX,GAAiB,IAAjB,GAAwB7hB,IAAI,CAAC,CAAD,CAAtC;AACAzR,MAAAA,KAAK,CAACoU,KAAN,CAAY,IAAZ,EAAkB3C,IAAlB;AACD;;;;EA1OkBmQ,MAAM,CAAC1C;;AA6O5BrZ,MAAM,CAAC24B,iBAAP,GAA2B,CAAC,CAACZ,UAA7B;AAEAx4B,MAAM,CAACC,OAAP,GAAiBQ,MAAjB;;;;;;;;;;;AClQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEa;AAEb;;AAEA,IAAIvE,MAAM,GAAGrB,kHAAb;AACA;;;AAEA,IAAIw+B,UAAU,GAAGn9B,MAAM,CAACm9B,UAAP,IAAqB,UAAUre,QAAV,EAAoB;AACxDA,EAAAA,QAAQ,GAAG,KAAKA,QAAhB;;AACA,UAAQA,QAAQ,IAAIA,QAAQ,CAAC3e,WAAT,EAApB;AACE,SAAK,KAAL;AAAW,SAAK,MAAL;AAAY,SAAK,OAAL;AAAa,SAAK,OAAL;AAAa,SAAK,QAAL;AAAc,SAAK,QAAL;AAAc,SAAK,MAAL;AAAY,SAAK,OAAL;AAAa,SAAK,SAAL;AAAe,SAAK,UAAL;AAAgB,SAAK,KAAL;AACnI,aAAO,IAAP;;AACF;AACE,aAAO,KAAP;AAJJ;AAMD,CARD;;AAUA,SAASi9B,kBAAT,CAA4Bxa,GAA5B,EAAiC;AAC/B,MAAI,CAACA,GAAL,EAAU,OAAO,MAAP;AACV,MAAIya,OAAJ;;AACA,SAAO,IAAP,EAAa;AACX,YAAQza,GAAR;AACE,WAAK,MAAL;AACA,WAAK,OAAL;AACE,eAAO,MAAP;;AACF,WAAK,MAAL;AACA,WAAK,OAAL;AACA,WAAK,SAAL;AACA,WAAK,UAAL;AACE,eAAO,SAAP;;AACF,WAAK,QAAL;AACA,WAAK,QAAL;AACE,eAAO,QAAP;;AACF,WAAK,QAAL;AACA,WAAK,OAAL;AACA,WAAK,KAAL;AACE,eAAOA,GAAP;;AACF;AACE,YAAIya,OAAJ,EAAa,OADf,CACuB;;AACrBza,QAAAA,GAAG,GAAG,CAAC,KAAKA,GAAN,EAAWziB,WAAX,EAAN;AACAk9B,QAAAA,OAAO,GAAG,IAAV;AAnBJ;AAqBD;AACF;;AAAA,EAED;AACA;;AACA,SAASC,iBAAT,CAA2B1a,GAA3B,EAAgC;AAC9B,MAAI2a,IAAI,GAAGH,kBAAkB,CAACxa,GAAD,CAA7B;;AACA,MAAI,OAAO2a,IAAP,KAAgB,QAAhB,KAA6Bv9B,MAAM,CAACm9B,UAAP,KAAsBA,UAAtB,IAAoC,CAACA,UAAU,CAACva,GAAD,CAA5E,CAAJ,EAAwF,MAAM,IAAIpjB,KAAJ,CAAU,uBAAuBojB,GAAjC,CAAN;AACxF,SAAO2a,IAAI,IAAI3a,GAAf;AACD,EAED;AACA;AACA;;;AACA7e,qBAAA,GAAwBmc,aAAxB;;AACA,SAASA,aAAT,CAAuBpB,QAAvB,EAAiC;AAC/B,OAAKA,QAAL,GAAgBwe,iBAAiB,CAACxe,QAAD,CAAjC;AACA,MAAI8P,EAAJ;;AACA,UAAQ,KAAK9P,QAAb;AACE,SAAK,SAAL;AACE,WAAK0e,IAAL,GAAYC,SAAZ;AACA,WAAKjf,GAAL,GAAWkf,QAAX;AACA9O,MAAAA,EAAE,GAAG,CAAL;AACA;;AACF,SAAK,MAAL;AACE,WAAK+O,QAAL,GAAgBC,YAAhB;AACAhP,MAAAA,EAAE,GAAG,CAAL;AACA;;AACF,SAAK,QAAL;AACE,WAAK4O,IAAL,GAAYK,UAAZ;AACA,WAAKrf,GAAL,GAAWsf,SAAX;AACAlP,MAAAA,EAAE,GAAG,CAAL;AACA;;AACF;AACE,WAAKrM,KAAL,GAAawb,WAAb;AACA,WAAKvf,GAAL,GAAWwf,SAAX;AACA;AAlBJ;;AAoBA,OAAKC,QAAL,GAAgB,CAAhB;AACA,OAAKC,SAAL,GAAiB,CAAjB;AACA,OAAKC,QAAL,GAAgBn+B,MAAM,CAAC6M,WAAP,CAAmB+hB,EAAnB,CAAhB;AACD;;AAED1O,aAAa,CAACjW,SAAd,CAAwBsY,KAAxB,GAAgC,UAAUsM,GAAV,EAAe;AAC7C,MAAIA,GAAG,CAACztB,MAAJ,KAAe,CAAnB,EAAsB,OAAO,EAAP;AACtB,MAAI2P,CAAJ;AACA,MAAIxH,CAAJ;;AACA,MAAI,KAAK00B,QAAT,EAAmB;AACjBltB,IAAAA,CAAC,GAAG,KAAK4sB,QAAL,CAAc9O,GAAd,CAAJ;AACA,QAAI9d,CAAC,KAAK2D,SAAV,EAAqB,OAAO,EAAP;AACrBnL,IAAAA,CAAC,GAAG,KAAK00B,QAAT;AACA,SAAKA,QAAL,GAAgB,CAAhB;AACD,GALD,MAKO;AACL10B,IAAAA,CAAC,GAAG,CAAJ;AACD;;AACD,MAAIA,CAAC,GAAGslB,GAAG,CAACztB,MAAZ,EAAoB,OAAO2P,CAAC,GAAGA,CAAC,GAAG,KAAKysB,IAAL,CAAU3O,GAAV,EAAetlB,CAAf,CAAP,GAA2B,KAAKi0B,IAAL,CAAU3O,GAAV,EAAetlB,CAAf,CAAnC;AACpB,SAAOwH,CAAC,IAAI,EAAZ;AACD,CAdD;;AAgBAmP,aAAa,CAACjW,SAAd,CAAwBuU,GAAxB,GAA8B4f,OAA9B,EAEA;;AACAle,aAAa,CAACjW,SAAd,CAAwBuzB,IAAxB,GAA+Ba,QAA/B,EAEA;;AACAne,aAAa,CAACjW,SAAd,CAAwB0zB,QAAxB,GAAmC,UAAU9O,GAAV,EAAe;AAChD,MAAI,KAAKoP,QAAL,IAAiBpP,GAAG,CAACztB,MAAzB,EAAiC;AAC/BytB,IAAAA,GAAG,CAAC/hB,IAAJ,CAAS,KAAKqxB,QAAd,EAAwB,KAAKD,SAAL,GAAiB,KAAKD,QAA9C,EAAwD,CAAxD,EAA2D,KAAKA,QAAhE;AACA,WAAO,KAAKE,QAAL,CAAcr+B,QAAd,CAAuB,KAAKgf,QAA5B,EAAsC,CAAtC,EAAyC,KAAKof,SAA9C,CAAP;AACD;;AACDrP,EAAAA,GAAG,CAAC/hB,IAAJ,CAAS,KAAKqxB,QAAd,EAAwB,KAAKD,SAAL,GAAiB,KAAKD,QAA9C,EAAwD,CAAxD,EAA2DpP,GAAG,CAACztB,MAA/D;AACA,OAAK68B,QAAL,IAAiBpP,GAAG,CAACztB,MAArB;AACD,CAPD,EASA;AACA;;;AACA,SAASk9B,aAAT,CAAuBC,IAAvB,EAA6B;AAC3B,MAAIA,IAAI,IAAI,IAAZ,EAAkB,OAAO,CAAP,CAAlB,KAAgC,IAAIA,IAAI,IAAI,CAAR,KAAc,IAAlB,EAAwB,OAAO,CAAP,CAAxB,KAAsC,IAAIA,IAAI,IAAI,CAAR,KAAc,IAAlB,EAAwB,OAAO,CAAP,CAAxB,KAAsC,IAAIA,IAAI,IAAI,CAAR,KAAc,IAAlB,EAAwB,OAAO,CAAP;AACpI,SAAOA,IAAI,IAAI,CAAR,KAAc,IAAd,GAAqB,CAAC,CAAtB,GAA0B,CAAC,CAAlC;AACD,EAED;AACA;AACA;;;AACA,SAASC,mBAAT,CAA6Bl1B,IAA7B,EAAmCulB,GAAnC,EAAwCtlB,CAAxC,EAA2C;AACzC,MAAI8H,CAAC,GAAGwd,GAAG,CAACztB,MAAJ,GAAa,CAArB;AACA,MAAIiQ,CAAC,GAAG9H,CAAR,EAAW,OAAO,CAAP;AACX,MAAIqlB,EAAE,GAAG0P,aAAa,CAACzP,GAAG,CAACxd,CAAD,CAAJ,CAAtB;;AACA,MAAIud,EAAE,IAAI,CAAV,EAAa;AACX,QAAIA,EAAE,GAAG,CAAT,EAAYtlB,IAAI,CAAC20B,QAAL,GAAgBrP,EAAE,GAAG,CAArB;AACZ,WAAOA,EAAP;AACD;;AACD,MAAI,EAAEvd,CAAF,GAAM9H,CAAN,IAAWqlB,EAAE,KAAK,CAAC,CAAvB,EAA0B,OAAO,CAAP;AAC1BA,EAAAA,EAAE,GAAG0P,aAAa,CAACzP,GAAG,CAACxd,CAAD,CAAJ,CAAlB;;AACA,MAAIud,EAAE,IAAI,CAAV,EAAa;AACX,QAAIA,EAAE,GAAG,CAAT,EAAYtlB,IAAI,CAAC20B,QAAL,GAAgBrP,EAAE,GAAG,CAArB;AACZ,WAAOA,EAAP;AACD;;AACD,MAAI,EAAEvd,CAAF,GAAM9H,CAAN,IAAWqlB,EAAE,KAAK,CAAC,CAAvB,EAA0B,OAAO,CAAP;AAC1BA,EAAAA,EAAE,GAAG0P,aAAa,CAACzP,GAAG,CAACxd,CAAD,CAAJ,CAAlB;;AACA,MAAIud,EAAE,IAAI,CAAV,EAAa;AACX,QAAIA,EAAE,GAAG,CAAT,EAAY;AACV,UAAIA,EAAE,KAAK,CAAX,EAAcA,EAAE,GAAG,CAAL,CAAd,KAA0BtlB,IAAI,CAAC20B,QAAL,GAAgBrP,EAAE,GAAG,CAArB;AAC3B;;AACD,WAAOA,EAAP;AACD;;AACD,SAAO,CAAP;AACD,EAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS6P,mBAAT,CAA6Bn1B,IAA7B,EAAmCulB,GAAnC,EAAwChM,CAAxC,EAA2C;AACzC,MAAI,CAACgM,GAAG,CAAC,CAAD,CAAH,GAAS,IAAV,MAAoB,IAAxB,EAA8B;AAC5BvlB,IAAAA,IAAI,CAAC20B,QAAL,GAAgB,CAAhB;AACA,WAAO,QAAP;AACD;;AACD,MAAI30B,IAAI,CAAC20B,QAAL,GAAgB,CAAhB,IAAqBpP,GAAG,CAACztB,MAAJ,GAAa,CAAtC,EAAyC;AACvC,QAAI,CAACytB,GAAG,CAAC,CAAD,CAAH,GAAS,IAAV,MAAoB,IAAxB,EAA8B;AAC5BvlB,MAAAA,IAAI,CAAC20B,QAAL,GAAgB,CAAhB;AACA,aAAO,QAAP;AACD;;AACD,QAAI30B,IAAI,CAAC20B,QAAL,GAAgB,CAAhB,IAAqBpP,GAAG,CAACztB,MAAJ,GAAa,CAAtC,EAAyC;AACvC,UAAI,CAACytB,GAAG,CAAC,CAAD,CAAH,GAAS,IAAV,MAAoB,IAAxB,EAA8B;AAC5BvlB,QAAAA,IAAI,CAAC20B,QAAL,GAAgB,CAAhB;AACA,eAAO,QAAP;AACD;AACF;AACF;AACF,EAED;;;AACA,SAASL,YAAT,CAAsB/O,GAAtB,EAA2B;AACzB,MAAIhM,CAAC,GAAG,KAAKqb,SAAL,GAAiB,KAAKD,QAA9B;AACA,MAAIltB,CAAC,GAAG0tB,mBAAmB,CAAC,IAAD,EAAO5P,GAAP,EAAYhM,CAAZ,CAA3B;AACA,MAAI9R,CAAC,KAAK2D,SAAV,EAAqB,OAAO3D,CAAP;;AACrB,MAAI,KAAKktB,QAAL,IAAiBpP,GAAG,CAACztB,MAAzB,EAAiC;AAC/BytB,IAAAA,GAAG,CAAC/hB,IAAJ,CAAS,KAAKqxB,QAAd,EAAwBtb,CAAxB,EAA2B,CAA3B,EAA8B,KAAKob,QAAnC;AACA,WAAO,KAAKE,QAAL,CAAcr+B,QAAd,CAAuB,KAAKgf,QAA5B,EAAsC,CAAtC,EAAyC,KAAKof,SAA9C,CAAP;AACD;;AACDrP,EAAAA,GAAG,CAAC/hB,IAAJ,CAAS,KAAKqxB,QAAd,EAAwBtb,CAAxB,EAA2B,CAA3B,EAA8BgM,GAAG,CAACztB,MAAlC;AACA,OAAK68B,QAAL,IAAiBpP,GAAG,CAACztB,MAArB;AACD,EAED;AACA;AACA;;;AACA,SAASi9B,QAAT,CAAkBxP,GAAlB,EAAuBtlB,CAAvB,EAA0B;AACxB,MAAIm1B,KAAK,GAAGF,mBAAmB,CAAC,IAAD,EAAO3P,GAAP,EAAYtlB,CAAZ,CAA/B;AACA,MAAI,CAAC,KAAK00B,QAAV,EAAoB,OAAOpP,GAAG,CAAC/uB,QAAJ,CAAa,MAAb,EAAqByJ,CAArB,CAAP;AACpB,OAAK20B,SAAL,GAAiBQ,KAAjB;AACA,MAAIlgB,GAAG,GAAGqQ,GAAG,CAACztB,MAAJ,IAAcs9B,KAAK,GAAG,KAAKT,QAA3B,CAAV;AACApP,EAAAA,GAAG,CAAC/hB,IAAJ,CAAS,KAAKqxB,QAAd,EAAwB,CAAxB,EAA2B3f,GAA3B;AACA,SAAOqQ,GAAG,CAAC/uB,QAAJ,CAAa,MAAb,EAAqByJ,CAArB,EAAwBiV,GAAxB,CAAP;AACD,EAED;AACA;;;AACA,SAAS4f,OAAT,CAAiBvP,GAAjB,EAAsB;AACpB,MAAI9d,CAAC,GAAG8d,GAAG,IAAIA,GAAG,CAACztB,MAAX,GAAoB,KAAKmhB,KAAL,CAAWsM,GAAX,CAApB,GAAsC,EAA9C;AACA,MAAI,KAAKoP,QAAT,EAAmB,OAAOltB,CAAC,GAAG,QAAX;AACnB,SAAOA,CAAP;AACD,EAED;AACA;AACA;AACA;;;AACA,SAAS0sB,SAAT,CAAmB5O,GAAnB,EAAwBtlB,CAAxB,EAA2B;AACzB,MAAI,CAACslB,GAAG,CAACztB,MAAJ,GAAamI,CAAd,IAAmB,CAAnB,KAAyB,CAA7B,EAAgC;AAC9B,QAAIwH,CAAC,GAAG8d,GAAG,CAAC/uB,QAAJ,CAAa,SAAb,EAAwByJ,CAAxB,CAAR;;AACA,QAAIwH,CAAJ,EAAO;AACL,UAAI1C,CAAC,GAAG0C,CAAC,CAACmB,UAAF,CAAanB,CAAC,CAAC3P,MAAF,GAAW,CAAxB,CAAR;;AACA,UAAIiN,CAAC,IAAI,MAAL,IAAeA,CAAC,IAAI,MAAxB,EAAgC;AAC9B,aAAK4vB,QAAL,GAAgB,CAAhB;AACA,aAAKC,SAAL,GAAiB,CAAjB;AACA,aAAKC,QAAL,CAAc,CAAd,IAAmBtP,GAAG,CAACA,GAAG,CAACztB,MAAJ,GAAa,CAAd,CAAtB;AACA,aAAK+8B,QAAL,CAAc,CAAd,IAAmBtP,GAAG,CAACA,GAAG,CAACztB,MAAJ,GAAa,CAAd,CAAtB;AACA,eAAO2P,CAAC,CAACsH,KAAF,CAAQ,CAAR,EAAW,CAAC,CAAZ,CAAP;AACD;AACF;;AACD,WAAOtH,CAAP;AACD;;AACD,OAAKktB,QAAL,GAAgB,CAAhB;AACA,OAAKC,SAAL,GAAiB,CAAjB;AACA,OAAKC,QAAL,CAAc,CAAd,IAAmBtP,GAAG,CAACA,GAAG,CAACztB,MAAJ,GAAa,CAAd,CAAtB;AACA,SAAOytB,GAAG,CAAC/uB,QAAJ,CAAa,SAAb,EAAwByJ,CAAxB,EAA2BslB,GAAG,CAACztB,MAAJ,GAAa,CAAxC,CAAP;AACD,EAED;AACA;;;AACA,SAASs8B,QAAT,CAAkB7O,GAAlB,EAAuB;AACrB,MAAI9d,CAAC,GAAG8d,GAAG,IAAIA,GAAG,CAACztB,MAAX,GAAoB,KAAKmhB,KAAL,CAAWsM,GAAX,CAApB,GAAsC,EAA9C;;AACA,MAAI,KAAKoP,QAAT,EAAmB;AACjB,QAAIzf,GAAG,GAAG,KAAK0f,SAAL,GAAiB,KAAKD,QAAhC;AACA,WAAOltB,CAAC,GAAG,KAAKotB,QAAL,CAAcr+B,QAAd,CAAuB,SAAvB,EAAkC,CAAlC,EAAqC0e,GAArC,CAAX;AACD;;AACD,SAAOzN,CAAP;AACD;;AAED,SAAS8sB,UAAT,CAAoBhP,GAApB,EAAyBtlB,CAAzB,EAA4B;AAC1B,MAAI6L,CAAC,GAAG,CAACyZ,GAAG,CAACztB,MAAJ,GAAamI,CAAd,IAAmB,CAA3B;AACA,MAAI6L,CAAC,KAAK,CAAV,EAAa,OAAOyZ,GAAG,CAAC/uB,QAAJ,CAAa,QAAb,EAAuByJ,CAAvB,CAAP;AACb,OAAK00B,QAAL,GAAgB,IAAI7oB,CAApB;AACA,OAAK8oB,SAAL,GAAiB,CAAjB;;AACA,MAAI9oB,CAAC,KAAK,CAAV,EAAa;AACX,SAAK+oB,QAAL,CAAc,CAAd,IAAmBtP,GAAG,CAACA,GAAG,CAACztB,MAAJ,GAAa,CAAd,CAAtB;AACD,GAFD,MAEO;AACL,SAAK+8B,QAAL,CAAc,CAAd,IAAmBtP,GAAG,CAACA,GAAG,CAACztB,MAAJ,GAAa,CAAd,CAAtB;AACA,SAAK+8B,QAAL,CAAc,CAAd,IAAmBtP,GAAG,CAACA,GAAG,CAACztB,MAAJ,GAAa,CAAd,CAAtB;AACD;;AACD,SAAOytB,GAAG,CAAC/uB,QAAJ,CAAa,QAAb,EAAuByJ,CAAvB,EAA0BslB,GAAG,CAACztB,MAAJ,GAAagU,CAAvC,CAAP;AACD;;AAED,SAAS0oB,SAAT,CAAmBjP,GAAnB,EAAwB;AACtB,MAAI9d,CAAC,GAAG8d,GAAG,IAAIA,GAAG,CAACztB,MAAX,GAAoB,KAAKmhB,KAAL,CAAWsM,GAAX,CAApB,GAAsC,EAA9C;AACA,MAAI,KAAKoP,QAAT,EAAmB,OAAOltB,CAAC,GAAG,KAAKotB,QAAL,CAAcr+B,QAAd,CAAuB,QAAvB,EAAiC,CAAjC,EAAoC,IAAI,KAAKm+B,QAA7C,CAAX;AACnB,SAAOltB,CAAP;AACD,EAED;;;AACA,SAASgtB,WAAT,CAAqBlP,GAArB,EAA0B;AACxB,SAAOA,GAAG,CAAC/uB,QAAJ,CAAa,KAAKgf,QAAlB,CAAP;AACD;;AAED,SAASkf,SAAT,CAAmBnP,GAAnB,EAAwB;AACtB,SAAOA,GAAG,IAAIA,GAAG,CAACztB,MAAX,GAAoB,KAAKmhB,KAAL,CAAWsM,GAAX,CAApB,GAAsC,EAA7C;AACD;;;;;;;;;;ACvSD;;AACA;AACA,IAAInO,MAAM,GAAG/hB,mBAAO,CAAC,8CAAD,CAApB;;AACA,IAAIqB,MAAM,GAAG0gB,MAAM,CAAC1gB,MAApB,EAEA;;AACA,SAASmxB,SAAT,CAAoBpN,GAApB,EAAyBqN,GAAzB,EAA8B;AAC5B,OAAK,IAAIjkB,GAAT,IAAgB4W,GAAhB,EAAqB;AACnBqN,IAAAA,GAAG,CAACjkB,GAAD,CAAH,GAAW4W,GAAG,CAAC5W,GAAD,CAAd;AACD;AACF;;AACD,IAAInN,MAAM,CAACC,IAAP,IAAeD,MAAM,CAACwuB,KAAtB,IAA+BxuB,MAAM,CAAC6M,WAAtC,IAAqD7M,MAAM,CAACqxB,eAAhE,EAAiF;AAC/EvtB,EAAAA,MAAM,CAACC,OAAP,GAAiB2c,MAAjB;AACD,CAFD,MAEO;AACL;AACAyQ,EAAAA,SAAS,CAACzQ,MAAD,EAAS3c,OAAT,CAAT;AACAA,EAAAA,cAAA,GAAiButB,UAAjB;AACD;;AAED,SAASA,UAAT,CAAqBrc,GAArB,EAA0Bsc,gBAA1B,EAA4CnwB,MAA5C,EAAoD;AAClD,SAAOpB,MAAM,CAACiV,GAAD,EAAMsc,gBAAN,EAAwBnwB,MAAxB,CAAb;AACD;;AAEDkwB,UAAU,CAACrnB,SAAX,GAAuB7G,MAAM,CAAC2J,MAAP,CAAc/M,MAAM,CAACiK,SAArB,CAAvB,EAEA;;AACAknB,SAAS,CAACnxB,MAAD,EAASsxB,UAAT,CAAT;;AAEAA,UAAU,CAACrxB,IAAX,GAAkB,UAAUgV,GAAV,EAAesc,gBAAf,EAAiCnwB,MAAjC,EAAyC;AACzD,MAAI,OAAO6T,GAAP,KAAe,QAAnB,EAA6B;AAC3B,UAAM,IAAID,SAAJ,CAAc,+BAAd,CAAN;AACD;;AACD,SAAOhV,MAAM,CAACiV,GAAD,EAAMsc,gBAAN,EAAwBnwB,MAAxB,CAAb;AACD,CALD;;AAOAkwB,UAAU,CAAC9C,KAAX,GAAmB,UAAU5S,IAAV,EAAgB4V,IAAhB,EAAsB1S,QAAtB,EAAgC;AACjD,MAAI,OAAOlD,IAAP,KAAgB,QAApB,EAA8B;AAC5B,UAAM,IAAI5G,SAAJ,CAAc,2BAAd,CAAN;AACD;;AACD,MAAI6Z,GAAG,GAAG7uB,MAAM,CAAC4b,IAAD,CAAhB;;AACA,MAAI4V,IAAI,KAAK9c,SAAb,EAAwB;AACtB,QAAI,OAAOoK,QAAP,KAAoB,QAAxB,EAAkC;AAChC+P,MAAAA,GAAG,CAAC2C,IAAJ,CAASA,IAAT,EAAe1S,QAAf;AACD,KAFD,MAEO;AACL+P,MAAAA,GAAG,CAAC2C,IAAJ,CAASA,IAAT;AACD;AACF,GAND,MAMO;AACL3C,IAAAA,GAAG,CAAC2C,IAAJ,CAAS,CAAT;AACD;;AACD,SAAO3C,GAAP;AACD,CAfD;;AAiBAyC,UAAU,CAACzkB,WAAX,GAAyB,UAAU+O,IAAV,EAAgB;AACvC,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC5B,UAAM,IAAI5G,SAAJ,CAAc,2BAAd,CAAN;AACD;;AACD,SAAOhV,MAAM,CAAC4b,IAAD,CAAb;AACD,CALD;;AAOA0V,UAAU,CAACD,eAAX,GAA6B,UAAUzV,IAAV,EAAgB;AAC3C,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC5B,UAAM,IAAI5G,SAAJ,CAAc,2BAAd,CAAN;AACD;;AACD,SAAO0L,MAAM,CAAC+Q,UAAP,CAAkB7V,IAAlB,CAAP;AACD,CALD;;;;;;;;;;AC1DA;AACA;AACA;AAEA9X,MAAM,CAACC,OAAP,GAAiBskB,SAAjB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,SAAT,CAAoBtN,EAApB,EAAwB2C,GAAxB,EAA6B;AAC3B,MAAI5T,MAAM,CAAC,eAAD,CAAV,EAA6B;AAC3B,WAAOiR,EAAP;AACD;;AAED,MAAI3L,MAAM,GAAG,KAAb;;AACA,WAASuvB,UAAT,GAAsB;AACpB,QAAI,CAACvvB,MAAL,EAAa;AACX,UAAItF,MAAM,CAAC,kBAAD,CAAV,EAAgC;AAC9B,cAAM,IAAItK,KAAJ,CAAUke,GAAV,CAAN;AACD,OAFD,MAEO,IAAI5T,MAAM,CAAC,kBAAD,CAAV,EAAgC;AACrCuF,QAAAA,OAAO,CAACuvB,KAAR,CAAclhB,GAAd;AACD,OAFM,MAEA;AACLrO,QAAAA,OAAO,CAACC,IAAR,CAAaoO,GAAb;AACD;;AACDtO,MAAAA,MAAM,GAAG,IAAT;AACD;;AACD,WAAO2L,EAAE,CAACjI,KAAH,CAAS,IAAT,EAAe0C,SAAf,CAAP;AACD;;AAED,SAAOmpB,UAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,SAAS70B,MAAT,CAAiB2J,IAAjB,EAAuB;AACrB;AACA,MAAI;AACF,QAAI,CAAC9E,qBAAM,CAACwC,YAAZ,EAA0B,OAAO,KAAP;AAC3B,GAFD,CAEE,OAAOlG,CAAP,EAAU;AACV,WAAO,KAAP;AACD;;AACD,MAAI2H,GAAG,GAAGjE,qBAAM,CAACwC,YAAP,CAAoBsC,IAApB,CAAV;AACA,MAAI,QAAQb,GAAZ,EAAiB,OAAO,KAAP;AACjB,SAAOvI,MAAM,CAACuI,GAAD,CAAN,CAAYzS,WAAZ,OAA8B,MAArC;AACD;;;;;;;;;;AClED;AACA;AACA;AACA;AACA;AACA2D,MAAM,CAACC,OAAP,GAAiB6W,MAAjB;;AACA,SAASA,MAAT,CAAiBG,EAAjB,EAAqBlY,EAArB,EAAyB;AACvB,MAAIkY,EAAE,IAAIlY,EAAV,EAAc,OAAO+X,MAAM,CAACG,EAAD,CAAN,CAAWlY,EAAX,CAAP;AAEd,MAAI,OAAOkY,EAAP,KAAc,UAAlB,EACE,MAAM,IAAI/F,SAAJ,CAAc,uBAAd,CAAN;AAEF5R,EAAAA,MAAM,CAACS,IAAP,CAAYkX,EAAZ,EAAgBvY,OAAhB,CAAwB,UAAUq8B,CAAV,EAAa;AACnCC,IAAAA,OAAO,CAACD,CAAD,CAAP,GAAa9jB,EAAE,CAAC8jB,CAAD,CAAf;AACD,GAFD;AAIA,SAAOC,OAAP;;AAEA,WAASA,OAAT,GAAmB;AACjB,QAAI3uB,IAAI,GAAG,IAAI7O,KAAJ,CAAUkU,SAAS,CAACpU,MAApB,CAAX;;AACA,SAAK,IAAImI,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4G,IAAI,CAAC/O,MAAzB,EAAiCmI,CAAC,EAAlC,EAAsC;AACpC4G,MAAAA,IAAI,CAAC5G,CAAD,CAAJ,GAAUiM,SAAS,CAACjM,CAAD,CAAnB;AACD;;AACD,QAAI2O,GAAG,GAAG6C,EAAE,CAACjI,KAAH,CAAS,IAAT,EAAe3C,IAAf,CAAV;AACA,QAAItN,EAAE,GAAGsN,IAAI,CAACA,IAAI,CAAC/O,MAAL,GAAY,CAAb,CAAb;;AACA,QAAI,OAAO8W,GAAP,KAAe,UAAf,IAA6BA,GAAG,KAAKrV,EAAzC,EAA6C;AAC3CO,MAAAA,MAAM,CAACS,IAAP,CAAYhB,EAAZ,EAAgBL,OAAhB,CAAwB,UAAUq8B,CAAV,EAAa;AACnC3mB,QAAAA,GAAG,CAAC2mB,CAAD,CAAH,GAASh8B,EAAE,CAACg8B,CAAD,CAAX;AACD,OAFD;AAGD;;AACD,WAAO3mB,GAAP;AACD;AACF","sources":["webpack://peertube-client/./node_modules/bittorrent-tracker/client.js","webpack://peertube-client/./node_modules/bittorrent-tracker/lib/client/tracker.js","webpack://peertube-client/./node_modules/bittorrent-tracker/lib/client/websocket-tracker.js","webpack://peertube-client/./node_modules/bittorrent-tracker/lib/common.js","webpack://peertube-client/./node_modules/clone/clone.js","webpack://peertube-client/./node_modules/debug/src/browser.js","webpack://peertube-client/./node_modules/debug/src/common.js","webpack://peertube-client/./node_modules/events/events.js","webpack://peertube-client/./node_modules/get-browser-rtc/index.js","webpack://peertube-client/./node_modules/inherits/inherits_browser.js","webpack://peertube-client/./node_modules/ms/index.js","webpack://peertube-client/./node_modules/once/once.js","webpack://peertube-client/./node_modules/queue-microtask/index.js","webpack://peertube-client/./node_modules/randombytes/browser.js","webpack://peertube-client/./node_modules/readable-stream/errors-browser.js","webpack://peertube-client/./node_modules/readable-stream/lib/_stream_duplex.js","webpack://peertube-client/./node_modules/readable-stream/lib/_stream_passthrough.js","webpack://peertube-client/./node_modules/readable-stream/lib/_stream_readable.js","webpack://peertube-client/./node_modules/readable-stream/lib/_stream_transform.js","webpack://peertube-client/./node_modules/readable-stream/lib/_stream_writable.js","webpack://peertube-client/./node_modules/readable-stream/lib/internal/streams/async_iterator.js","webpack://peertube-client/./node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack://peertube-client/./node_modules/readable-stream/lib/internal/streams/destroy.js","webpack://peertube-client/./node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack://peertube-client/./node_modules/readable-stream/lib/internal/streams/from-browser.js","webpack://peertube-client/./node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack://peertube-client/./node_modules/readable-stream/lib/internal/streams/state.js","webpack://peertube-client/./node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack://peertube-client/./node_modules/readable-stream/readable-browser.js","webpack://peertube-client/./node_modules/run-parallel/index.js","webpack://peertube-client/./node_modules/safe-buffer/index.js","webpack://peertube-client/./node_modules/simple-peer/index.js","webpack://peertube-client/./node_modules/simple-peer/node_modules/debug/src/browser.js","webpack://peertube-client/./node_modules/simple-peer/node_modules/debug/src/common.js","webpack://peertube-client/./node_modules/simple-peer/node_modules/err-code/index.js","webpack://peertube-client/./node_modules/simple-websocket/index.js","webpack://peertube-client/./node_modules/string_decoder/lib/string_decoder.js","webpack://peertube-client/./node_modules/string_decoder/node_modules/safe-buffer/index.js","webpack://peertube-client/./node_modules/util-deprecate/browser.js","webpack://peertube-client/./node_modules/wrappy/wrappy.js"],"sourcesContent":["const debug = require('debug')('bittorrent-tracker:client')\nconst EventEmitter = require('events')\nconst once = require('once')\nconst parallel = require('run-parallel')\nconst Peer = require('simple-peer')\nconst queueMicrotask = require('queue-microtask')\n\nconst common = require('./lib/common')\nconst HTTPTracker = require('./lib/client/http-tracker') // empty object in browser\nconst UDPTracker = require('./lib/client/udp-tracker') // empty object in browser\nconst WebSocketTracker = require('./lib/client/websocket-tracker')\n\n/**\n * BitTorrent tracker client.\n *\n * Find torrent peers, to help a torrent client participate in a torrent swarm.\n *\n * @param {Object} opts                          options object\n * @param {string|Buffer} opts.infoHash          torrent info hash\n * @param {string|Buffer} opts.peerId            peer id\n * @param {string|Array.<string>} opts.announce  announce\n * @param {number} opts.port                     torrent client listening port\n * @param {function} opts.getAnnounceOpts        callback to provide data to tracker\n * @param {number} opts.rtcConfig                RTCPeerConnection configuration object\n * @param {number} opts.userAgent                User-Agent header for http requests\n * @param {number} opts.wrtc                     custom webrtc impl (useful in node.js)\n * @param {object} opts.proxyOpts                proxy options (useful in node.js)\n */\nclass Client extends EventEmitter {\n  constructor (opts = {}) {\n    super()\n\n    if (!opts.peerId) throw new Error('Option `peerId` is required')\n    if (!opts.infoHash) throw new Error('Option `infoHash` is required')\n    if (!opts.announce) throw new Error('Option `announce` is required')\n    if (!process.browser && !opts.port) throw new Error('Option `port` is required')\n\n    this.peerId = typeof opts.peerId === 'string'\n      ? opts.peerId\n      : opts.peerId.toString('hex')\n    this._peerIdBuffer = Buffer.from(this.peerId, 'hex')\n    this._peerIdBinary = this._peerIdBuffer.toString('binary')\n\n    this.infoHash = typeof opts.infoHash === 'string'\n      ? opts.infoHash.toLowerCase()\n      : opts.infoHash.toString('hex')\n    this._infoHashBuffer = Buffer.from(this.infoHash, 'hex')\n    this._infoHashBinary = this._infoHashBuffer.toString('binary')\n\n    debug('new client %s', this.infoHash)\n\n    this.destroyed = false\n\n    this._port = opts.port\n    this._getAnnounceOpts = opts.getAnnounceOpts\n    this._rtcConfig = opts.rtcConfig\n    this._userAgent = opts.userAgent\n    this._proxyOpts = opts.proxyOpts\n\n    // Support lazy 'wrtc' module initialization\n    // See: https://github.com/webtorrent/webtorrent-hybrid/issues/46\n    this._wrtc = typeof opts.wrtc === 'function' ? opts.wrtc() : opts.wrtc\n\n    let announce = typeof opts.announce === 'string'\n      ? [opts.announce]\n      : opts.announce == null ? [] : opts.announce\n\n    // Remove trailing slash from trackers to catch duplicates\n    announce = announce.map(announceUrl => {\n      announceUrl = announceUrl.toString()\n      if (announceUrl[announceUrl.length - 1] === '/') {\n        announceUrl = announceUrl.substring(0, announceUrl.length - 1)\n      }\n      return announceUrl\n    })\n    // remove duplicates by converting to Set and back\n    announce = Array.from(new Set(announce))\n\n    const webrtcSupport = this._wrtc !== false && (!!this._wrtc || Peer.WEBRTC_SUPPORT)\n\n    const nextTickWarn = err => {\n      queueMicrotask(() => {\n        this.emit('warning', err)\n      })\n    }\n\n    this._trackers = announce\n      .map(announceUrl => {\n        let parsedUrl\n        try {\n          parsedUrl = common.parseUrl(announceUrl)\n        } catch (err) {\n          nextTickWarn(new Error(`Invalid tracker URL: ${announceUrl}`))\n          return null\n        }\n\n        const port = parsedUrl.port\n        if (port < 0 || port > 65535) {\n          nextTickWarn(new Error(`Invalid tracker port: ${announceUrl}`))\n          return null\n        }\n\n        const protocol = parsedUrl.protocol\n        if ((protocol === 'http:' || protocol === 'https:') &&\n            typeof HTTPTracker === 'function') {\n          return new HTTPTracker(this, announceUrl)\n        } else if (protocol === 'udp:' && typeof UDPTracker === 'function') {\n          return new UDPTracker(this, announceUrl)\n        } else if ((protocol === 'ws:' || protocol === 'wss:') && webrtcSupport) {\n          // Skip ws:// trackers on https:// sites because they throw SecurityError\n          if (protocol === 'ws:' && typeof window !== 'undefined' &&\n              window.location.protocol === 'https:') {\n            nextTickWarn(new Error(`Unsupported tracker protocol: ${announceUrl}`))\n            return null\n          }\n          return new WebSocketTracker(this, announceUrl)\n        } else {\n          nextTickWarn(new Error(`Unsupported tracker protocol: ${announceUrl}`))\n          return null\n        }\n      })\n      .filter(Boolean)\n  }\n\n  /**\n   * Send a `start` announce to the trackers.\n   * @param {Object} opts\n   * @param {number=} opts.uploaded\n   * @param {number=} opts.downloaded\n   * @param {number=} opts.left (if not set, calculated automatically)\n   */\n  start (opts) {\n    opts = this._defaultAnnounceOpts(opts)\n    opts.event = 'started'\n    debug('send `start` %o', opts)\n    this._announce(opts)\n\n    // start announcing on intervals\n    this._trackers.forEach(tracker => {\n      tracker.setInterval()\n    })\n  }\n\n  /**\n   * Send a `stop` announce to the trackers.\n   * @param {Object} opts\n   * @param {number=} opts.uploaded\n   * @param {number=} opts.downloaded\n   * @param {number=} opts.numwant\n   * @param {number=} opts.left (if not set, calculated automatically)\n   */\n  stop (opts) {\n    opts = this._defaultAnnounceOpts(opts)\n    opts.event = 'stopped'\n    debug('send `stop` %o', opts)\n    this._announce(opts)\n  }\n\n  /**\n   * Send a `complete` announce to the trackers.\n   * @param {Object} opts\n   * @param {number=} opts.uploaded\n   * @param {number=} opts.downloaded\n   * @param {number=} opts.numwant\n   * @param {number=} opts.left (if not set, calculated automatically)\n   */\n  complete (opts) {\n    if (!opts) opts = {}\n    opts = this._defaultAnnounceOpts(opts)\n    opts.event = 'completed'\n    debug('send `complete` %o', opts)\n    this._announce(opts)\n  }\n\n  /**\n   * Send a `update` announce to the trackers.\n   * @param {Object} opts\n   * @param {number=} opts.uploaded\n   * @param {number=} opts.downloaded\n   * @param {number=} opts.numwant\n   * @param {number=} opts.left (if not set, calculated automatically)\n   */\n  update (opts) {\n    opts = this._defaultAnnounceOpts(opts)\n    if (opts.event) delete opts.event\n    debug('send `update` %o', opts)\n    this._announce(opts)\n  }\n\n  _announce (opts) {\n    this._trackers.forEach(tracker => {\n      // tracker should not modify `opts` object, it's passed to all trackers\n      tracker.announce(opts)\n    })\n  }\n\n  /**\n   * Send a scrape request to the trackers.\n   * @param {Object} opts\n   */\n  scrape (opts) {\n    debug('send `scrape`')\n    if (!opts) opts = {}\n    this._trackers.forEach(tracker => {\n      // tracker should not modify `opts` object, it's passed to all trackers\n      tracker.scrape(opts)\n    })\n  }\n\n  setInterval (intervalMs) {\n    debug('setInterval %d', intervalMs)\n    this._trackers.forEach(tracker => {\n      tracker.setInterval(intervalMs)\n    })\n  }\n\n  destroy (cb) {\n    if (this.destroyed) return\n    this.destroyed = true\n    debug('destroy')\n\n    const tasks = this._trackers.map(tracker => cb => {\n      tracker.destroy(cb)\n    })\n\n    parallel(tasks, cb)\n\n    this._trackers = []\n    this._getAnnounceOpts = null\n  }\n\n  _defaultAnnounceOpts (opts = {}) {\n    if (opts.numwant == null) opts.numwant = common.DEFAULT_ANNOUNCE_PEERS\n\n    if (opts.uploaded == null) opts.uploaded = 0\n    if (opts.downloaded == null) opts.downloaded = 0\n\n    if (this._getAnnounceOpts) opts = Object.assign({}, opts, this._getAnnounceOpts())\n\n    return opts\n  }\n}\n\n/**\n * Simple convenience function to scrape a tracker for an info hash without needing to\n * create a Client, pass it a parsed torrent, etc. Support scraping a tracker for multiple\n * torrents at the same time.\n * @params {Object} opts\n * @param  {string|Array.<string>} opts.infoHash\n * @param  {string} opts.announce\n * @param  {function} cb\n */\nClient.scrape = (opts, cb) => {\n  cb = once(cb)\n\n  if (!opts.infoHash) throw new Error('Option `infoHash` is required')\n  if (!opts.announce) throw new Error('Option `announce` is required')\n\n  const clientOpts = Object.assign({}, opts, {\n    infoHash: Array.isArray(opts.infoHash) ? opts.infoHash[0] : opts.infoHash,\n    peerId: Buffer.from('01234567890123456789'), // dummy value\n    port: 6881 // dummy value\n  })\n\n  const client = new Client(clientOpts)\n  client.once('error', cb)\n  client.once('warning', cb)\n\n  let len = Array.isArray(opts.infoHash) ? opts.infoHash.length : 1\n  const results = {}\n  client.on('scrape', data => {\n    len -= 1\n    results[data.infoHash] = data\n    if (len === 0) {\n      client.destroy()\n      const keys = Object.keys(results)\n      if (keys.length === 1) {\n        cb(null, results[keys[0]])\n      } else {\n        cb(null, results)\n      }\n    }\n  })\n\n  opts.infoHash = Array.isArray(opts.infoHash)\n    ? opts.infoHash.map(infoHash => Buffer.from(infoHash, 'hex'))\n    : Buffer.from(opts.infoHash, 'hex')\n  client.scrape({ infoHash: opts.infoHash })\n  return client\n}\n\nmodule.exports = Client\n","const EventEmitter = require('events')\n\nclass Tracker extends EventEmitter {\n  constructor (client, announceUrl) {\n    super()\n\n    this.client = client\n    this.announceUrl = announceUrl\n\n    this.interval = null\n    this.destroyed = false\n  }\n\n  setInterval (intervalMs) {\n    if (intervalMs == null) intervalMs = this.DEFAULT_ANNOUNCE_INTERVAL\n\n    clearInterval(this.interval)\n\n    if (intervalMs) {\n      this.interval = setInterval(() => {\n        this.announce(this.client._defaultAnnounceOpts())\n      }, intervalMs)\n      if (this.interval.unref) this.interval.unref()\n    }\n  }\n}\n\nmodule.exports = Tracker\n","const clone = require('clone')\nconst debug = require('debug')('bittorrent-tracker:websocket-tracker')\nconst Peer = require('simple-peer')\nconst randombytes = require('randombytes')\nconst Socket = require('simple-websocket')\nconst Socks = require('socks')\n\nconst common = require('../common')\nconst Tracker = require('./tracker')\n\n// Use a socket pool, so tracker clients share WebSocket objects for the same server.\n// In practice, WebSockets are pretty slow to establish, so this gives a nice performance\n// boost, and saves browser resources.\nconst socketPool = {}\n\nconst RECONNECT_MINIMUM = 10 * 1000\nconst RECONNECT_MAXIMUM = 60 * 60 * 1000\nconst RECONNECT_VARIANCE = 5 * 60 * 1000\nconst OFFER_TIMEOUT = 50 * 1000\n\nclass WebSocketTracker extends Tracker {\n  constructor (client, announceUrl) {\n    super(client, announceUrl)\n    debug('new websocket tracker %s', announceUrl)\n\n    this.peers = {} // peers (offer id -> peer)\n    this.socket = null\n\n    this.reconnecting = false\n    this.retries = 0\n    this.reconnectTimer = null\n\n    // Simple boolean flag to track whether the socket has received data from\n    // the websocket server since the last time socket.send() was called.\n    this.expectingResponse = false\n\n    this._openSocket()\n  }\n\n  announce (opts) {\n    if (this.destroyed || this.reconnecting) return\n    if (!this.socket.connected) {\n      this.socket.once('connect', () => {\n        this.announce(opts)\n      })\n      return\n    }\n\n    const params = Object.assign({}, opts, {\n      action: 'announce',\n      info_hash: this.client._infoHashBinary,\n      peer_id: this.client._peerIdBinary\n    })\n    if (this._trackerId) params.trackerid = this._trackerId\n\n    if (opts.event === 'stopped' || opts.event === 'completed') {\n      // Don't include offers with 'stopped' or 'completed' event\n      this._send(params)\n    } else {\n      // Limit the number of offers that are generated, since it can be slow\n      const numwant = Math.min(opts.numwant, 5)\n\n      this._generateOffers(numwant, offers => {\n        params.numwant = numwant\n        params.offers = offers\n        this._send(params)\n      })\n    }\n  }\n\n  scrape (opts) {\n    if (this.destroyed || this.reconnecting) return\n    if (!this.socket.connected) {\n      this.socket.once('connect', () => {\n        this.scrape(opts)\n      })\n      return\n    }\n\n    const infoHashes = (Array.isArray(opts.infoHash) && opts.infoHash.length > 0)\n      ? opts.infoHash.map(infoHash => infoHash.toString('binary'))\n      : (opts.infoHash && opts.infoHash.toString('binary')) || this.client._infoHashBinary\n    const params = {\n      action: 'scrape',\n      info_hash: infoHashes\n    }\n\n    this._send(params)\n  }\n\n  destroy (cb = noop) {\n    if (this.destroyed) return cb(null)\n\n    this.destroyed = true\n\n    clearInterval(this.interval)\n    clearTimeout(this.reconnectTimer)\n\n    // Destroy peers\n    for (const peerId in this.peers) {\n      const peer = this.peers[peerId]\n      clearTimeout(peer.trackerTimeout)\n      peer.destroy()\n    }\n    this.peers = null\n\n    if (this.socket) {\n      this.socket.removeListener('connect', this._onSocketConnectBound)\n      this.socket.removeListener('data', this._onSocketDataBound)\n      this.socket.removeListener('close', this._onSocketCloseBound)\n      this.socket.removeListener('error', this._onSocketErrorBound)\n      this.socket = null\n    }\n\n    this._onSocketConnectBound = null\n    this._onSocketErrorBound = null\n    this._onSocketDataBound = null\n    this._onSocketCloseBound = null\n\n    if (socketPool[this.announceUrl]) {\n      socketPool[this.announceUrl].consumers -= 1\n    }\n\n    // Other instances are using the socket, so there's nothing left to do here\n    if (socketPool[this.announceUrl].consumers > 0) return cb()\n\n    let socket = socketPool[this.announceUrl]\n    delete socketPool[this.announceUrl]\n    socket.on('error', noop) // ignore all future errors\n    socket.once('close', cb)\n\n    let timeout\n\n    // If there is no data response expected, destroy immediately.\n    if (!this.expectingResponse) return destroyCleanup()\n\n    // Otherwise, wait a short time for potential responses to come in from the\n    // server, then force close the socket.\n    timeout = setTimeout(destroyCleanup, common.DESTROY_TIMEOUT)\n\n    // But, if a response comes from the server before the timeout fires, do cleanup\n    // right away.\n    socket.once('data', destroyCleanup)\n\n    function destroyCleanup () {\n      if (timeout) {\n        clearTimeout(timeout)\n        timeout = null\n      }\n      socket.removeListener('data', destroyCleanup)\n      socket.destroy()\n      socket = null\n    }\n  }\n\n  _openSocket () {\n    this.destroyed = false\n\n    if (!this.peers) this.peers = {}\n\n    this._onSocketConnectBound = () => {\n      this._onSocketConnect()\n    }\n    this._onSocketErrorBound = err => {\n      this._onSocketError(err)\n    }\n    this._onSocketDataBound = data => {\n      this._onSocketData(data)\n    }\n    this._onSocketCloseBound = () => {\n      this._onSocketClose()\n    }\n\n    this.socket = socketPool[this.announceUrl]\n    if (this.socket) {\n      socketPool[this.announceUrl].consumers += 1\n      if (this.socket.connected) {\n        this._onSocketConnectBound()\n      }\n    } else {\n      const parsedUrl = new URL(this.announceUrl)\n      let agent\n      if (this.client._proxyOpts) {\n        agent = parsedUrl.protocol === 'wss:' ? this.client._proxyOpts.httpsAgent : this.client._proxyOpts.httpAgent\n        if (!agent && this.client._proxyOpts.socksProxy) {\n          agent = new Socks.Agent(clone(this.client._proxyOpts.socksProxy), (parsedUrl.protocol === 'wss:'))\n        }\n      }\n      this.socket = socketPool[this.announceUrl] = new Socket({ url: this.announceUrl, agent })\n      this.socket.consumers = 1\n      this.socket.once('connect', this._onSocketConnectBound)\n    }\n\n    this.socket.on('data', this._onSocketDataBound)\n    this.socket.once('close', this._onSocketCloseBound)\n    this.socket.once('error', this._onSocketErrorBound)\n  }\n\n  _onSocketConnect () {\n    if (this.destroyed) return\n\n    if (this.reconnecting) {\n      this.reconnecting = false\n      this.retries = 0\n      this.announce(this.client._defaultAnnounceOpts())\n    }\n  }\n\n  _onSocketData (data) {\n    if (this.destroyed) return\n\n    this.expectingResponse = false\n\n    try {\n      data = JSON.parse(data)\n    } catch (err) {\n      this.client.emit('warning', new Error('Invalid tracker response'))\n      return\n    }\n\n    if (data.action === 'announce') {\n      this._onAnnounceResponse(data)\n    } else if (data.action === 'scrape') {\n      this._onScrapeResponse(data)\n    } else {\n      this._onSocketError(new Error(`invalid action in WS response: ${data.action}`))\n    }\n  }\n\n  _onAnnounceResponse (data) {\n    if (data.info_hash !== this.client._infoHashBinary) {\n      debug(\n        'ignoring websocket data from %s for %s (looking for %s: reused socket)',\n        this.announceUrl, common.binaryToHex(data.info_hash), this.client.infoHash\n      )\n      return\n    }\n\n    if (data.peer_id && data.peer_id === this.client._peerIdBinary) {\n      // ignore offers/answers from this client\n      return\n    }\n\n    debug(\n      'received %s from %s for %s',\n      JSON.stringify(data), this.announceUrl, this.client.infoHash\n    )\n\n    const failure = data['failure reason']\n    if (failure) return this.client.emit('warning', new Error(failure))\n\n    const warning = data['warning message']\n    if (warning) this.client.emit('warning', new Error(warning))\n\n    const interval = data.interval || data['min interval']\n    if (interval) this.setInterval(interval * 1000)\n\n    const trackerId = data['tracker id']\n    if (trackerId) {\n      // If absent, do not discard previous trackerId value\n      this._trackerId = trackerId\n    }\n\n    if (data.complete != null) {\n      const response = Object.assign({}, data, {\n        announce: this.announceUrl,\n        infoHash: common.binaryToHex(data.info_hash)\n      })\n      this.client.emit('update', response)\n    }\n\n    let peer\n    if (data.offer && data.peer_id) {\n      debug('creating peer (from remote offer)')\n      peer = this._createPeer()\n      peer.id = common.binaryToHex(data.peer_id)\n      peer.once('signal', answer => {\n        const params = {\n          action: 'announce',\n          info_hash: this.client._infoHashBinary,\n          peer_id: this.client._peerIdBinary,\n          to_peer_id: data.peer_id,\n          answer,\n          offer_id: data.offer_id\n        }\n        if (this._trackerId) params.trackerid = this._trackerId\n        this._send(params)\n      })\n      this.client.emit('peer', peer)\n      peer.signal(data.offer)\n    }\n\n    if (data.answer && data.peer_id) {\n      const offerId = common.binaryToHex(data.offer_id)\n      peer = this.peers[offerId]\n      if (peer) {\n        peer.id = common.binaryToHex(data.peer_id)\n        this.client.emit('peer', peer)\n        peer.signal(data.answer)\n\n        clearTimeout(peer.trackerTimeout)\n        peer.trackerTimeout = null\n        delete this.peers[offerId]\n        peer.destroy()\n      } else {\n        debug(`got unexpected answer: ${JSON.stringify(data.answer)}`)\n      }\n    }\n  }\n\n  _onScrapeResponse (data) {\n    data = data.files || {}\n\n    const keys = Object.keys(data)\n    if (keys.length === 0) {\n      this.client.emit('warning', new Error('invalid scrape response'))\n      return\n    }\n\n    keys.forEach(infoHash => {\n      // TODO: optionally handle data.flags.min_request_interval\n      // (separate from announce interval)\n      const response = Object.assign(data[infoHash], {\n        announce: this.announceUrl,\n        infoHash: common.binaryToHex(infoHash)\n      })\n      this.client.emit('scrape', response)\n    })\n  }\n\n  _onSocketClose () {\n    if (this.destroyed) return\n    this.destroy()\n    this._startReconnectTimer()\n  }\n\n  _onSocketError (err) {\n    if (this.destroyed) return\n    this.destroy()\n    // errors will often happen if a tracker is offline, so don't treat it as fatal\n    this.client.emit('warning', err)\n    this._startReconnectTimer()\n  }\n\n  _startReconnectTimer () {\n    const ms = Math.floor(Math.random() * RECONNECT_VARIANCE) + Math.min(Math.pow(2, this.retries) * RECONNECT_MINIMUM, RECONNECT_MAXIMUM)\n\n    this.reconnecting = true\n    clearTimeout(this.reconnectTimer)\n    this.reconnectTimer = setTimeout(() => {\n      this.retries++\n      this._openSocket()\n    }, ms)\n    if (this.reconnectTimer.unref) this.reconnectTimer.unref()\n\n    debug('reconnecting socket in %s ms', ms)\n  }\n\n  _send (params) {\n    if (this.destroyed) return\n    this.expectingResponse = true\n    const message = JSON.stringify(params)\n    debug('send %s', message)\n    this.socket.send(message)\n  }\n\n  _generateOffers (numwant, cb) {\n    const self = this\n    const offers = []\n    debug('generating %s offers', numwant)\n\n    for (let i = 0; i < numwant; ++i) {\n      generateOffer()\n    }\n    checkDone()\n\n    function generateOffer () {\n      const offerId = randombytes(20).toString('hex')\n      debug('creating peer (from _generateOffers)')\n      const peer = self.peers[offerId] = self._createPeer({ initiator: true })\n      peer.once('signal', offer => {\n        offers.push({\n          offer,\n          offer_id: common.hexToBinary(offerId)\n        })\n        checkDone()\n      })\n      peer.trackerTimeout = setTimeout(() => {\n        debug('tracker timeout: destroying peer')\n        peer.trackerTimeout = null\n        delete self.peers[offerId]\n        peer.destroy()\n      }, OFFER_TIMEOUT)\n      if (peer.trackerTimeout.unref) peer.trackerTimeout.unref()\n    }\n\n    function checkDone () {\n      if (offers.length === numwant) {\n        debug('generated %s offers', numwant)\n        cb(offers)\n      }\n    }\n  }\n\n  _createPeer (opts) {\n    const self = this\n\n    opts = Object.assign({\n      trickle: false,\n      config: self.client._rtcConfig,\n      wrtc: self.client._wrtc\n    }, opts)\n\n    const peer = new Peer(opts)\n\n    peer.once('error', onError)\n    peer.once('connect', onConnect)\n\n    return peer\n\n    // Handle peer 'error' events that are fired *before* the peer is emitted in\n    // a 'peer' event.\n    function onError (err) {\n      self.client.emit('warning', new Error(`Connection error: ${err.message}`))\n      peer.destroy()\n    }\n\n    // Once the peer is emitted in a 'peer' event, then it's the consumer's\n    // responsibility to listen for errors, so the listeners are removed here.\n    function onConnect () {\n      peer.removeListener('error', onError)\n      peer.removeListener('connect', onConnect)\n    }\n  }\n}\n\nWebSocketTracker.prototype.DEFAULT_ANNOUNCE_INTERVAL = 30 * 1000 // 30 seconds\n// Normally this shouldn't be accessed but is occasionally useful\nWebSocketTracker._socketPool = socketPool\n\nfunction noop () {}\n\nmodule.exports = WebSocketTracker\n","/**\n * Functions/constants needed by both the client and server.\n */\n\nexports.DEFAULT_ANNOUNCE_PEERS = 50\nexports.MAX_ANNOUNCE_PEERS = 82\n\nexports.binaryToHex = str => {\n  if (typeof str !== 'string') {\n    str = String(str)\n  }\n  return Buffer.from(str, 'binary').toString('hex')\n}\n\nexports.hexToBinary = str => {\n  if (typeof str !== 'string') {\n    str = String(str)\n  }\n  return Buffer.from(str, 'hex').toString('binary')\n}\n\n// HACK: Fix for WHATWG URL object not parsing non-standard URL schemes like\n// 'udp:'. Just replace it with 'http:' since we only need a few properties.\n//\n// Note: Only affects Chrome and Firefox. Works fine in Node.js, Safari, and\n// Edge.\n//\n// Note: UDP trackers aren't used in the normal browser build, but they are\n// used in a Chrome App build (i.e. by Brave Browser).\n//\n// Bug reports:\n// - Chrome: https://bugs.chromium.org/p/chromium/issues/detail?id=734880\n// - Firefox: https://bugzilla.mozilla.org/show_bug.cgi?id=1374505\nexports.parseUrl = str => {\n  const url = new URL(str.replace(/^udp:/, 'http:'))\n\n  if (str.match(/^udp:/)) {\n    Object.defineProperties(url, {\n      href: { value: url.href.replace(/^http/, 'udp') },\n      protocol: { value: url.protocol.replace(/^http/, 'udp') },\n      origin: { value: url.origin.replace(/^http/, 'udp') }\n    })\n  }\n\n  return url\n}\n\nconst config = require('./common-node')\nObject.assign(exports, config)\n","var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => enableOverride === null ? createDebug.enabled(namespace) : enableOverride,\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","// originally pulled out of simple-peer\n\nmodule.exports = function getBrowserRTC () {\n  if (typeof globalThis === 'undefined') return null\n  var wrtc = {\n    RTCPeerConnection: globalThis.RTCPeerConnection || globalThis.mozRTCPeerConnection ||\n      globalThis.webkitRTCPeerConnection,\n    RTCSessionDescription: globalThis.RTCSessionDescription ||\n      globalThis.mozRTCSessionDescription || globalThis.webkitRTCSessionDescription,\n    RTCIceCandidate: globalThis.RTCIceCandidate || globalThis.mozRTCIceCandidate ||\n      globalThis.webkitRTCIceCandidate\n  }\n  if (!wrtc.RTCPeerConnection) return null\n  return wrtc\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n","'use strict'\n\n// limit of Crypto.getRandomValues()\n// https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues\nvar MAX_BYTES = 65536\n\n// Node supports requesting up to this number of bytes\n// https://github.com/nodejs/node/blob/master/lib/internal/crypto/random.js#L48\nvar MAX_UINT32 = 4294967295\n\nfunction oldBrowser () {\n  throw new Error('Secure random number generation is not supported by this browser.\\nUse Chrome, Firefox or Internet Explorer 11')\n}\n\nvar Buffer = require('safe-buffer').Buffer\nvar crypto = global.crypto || global.msCrypto\n\nif (crypto && crypto.getRandomValues) {\n  module.exports = randomBytes\n} else {\n  module.exports = oldBrowser\n}\n\nfunction randomBytes (size, cb) {\n  // phantomjs needs to throw\n  if (size > MAX_UINT32) throw new RangeError('requested too many random bytes')\n\n  var bytes = Buffer.allocUnsafe(size)\n\n  if (size > 0) {  // getRandomValues fails on IE if size == 0\n    if (size > MAX_BYTES) { // this is the max bytes crypto.getRandomValues\n      // can do at once see https://developer.mozilla.org/en-US/docs/Web/API/window.crypto.getRandomValues\n      for (var generated = 0; generated < size; generated += MAX_BYTES) {\n        // buffer.slice automatically checks if the end is past the end of\n        // the buffer so we don't have to here\n        crypto.getRandomValues(bytes.slice(generated, generated + MAX_BYTES))\n      }\n    } else {\n      crypto.getRandomValues(bytes)\n    }\n  }\n\n  if (typeof cb === 'function') {\n    return process.nextTick(function () {\n      cb(null, bytes)\n    })\n  }\n\n  return bytes\n}\n","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","module.exports = require('events').EventEmitter;\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nmodule.exports = runParallel\n\nconst queueMicrotask = require('queue-microtask')\n\nfunction runParallel (tasks, cb) {\n  let results, pending, keys\n  let isSync = true\n\n  if (Array.isArray(tasks)) {\n    results = []\n    pending = tasks.length\n  } else {\n    keys = Object.keys(tasks)\n    results = {}\n    pending = keys.length\n  }\n\n  function done (err) {\n    function end () {\n      if (cb) cb(err, results)\n      cb = null\n    }\n    if (isSync) queueMicrotask(end)\n    else end()\n  }\n\n  function each (i, err, result) {\n    results[i] = result\n    if (--pending === 0 || err) {\n      done(err)\n    }\n  }\n\n  if (!pending) {\n    // empty\n    done(null)\n  } else if (keys) {\n    // object\n    keys.forEach(function (key) {\n      tasks[key](function (err, result) { each(key, err, result) })\n    })\n  } else {\n    // array\n    tasks.forEach(function (task, i) {\n      task(function (err, result) { each(i, err, result) })\n    })\n  }\n\n  isSync = false\n}\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nconst debug = require('debug')('simple-peer')\nconst getBrowserRTC = require('get-browser-rtc')\nconst randombytes = require('randombytes')\nconst stream = require('readable-stream')\nconst queueMicrotask = require('queue-microtask') // TODO: remove when Node 10 is not supported\nconst errCode = require('err-code')\nconst { Buffer } = require('buffer')\n\nconst MAX_BUFFERED_AMOUNT = 64 * 1024\nconst ICECOMPLETE_TIMEOUT = 5 * 1000\nconst CHANNEL_CLOSING_TIMEOUT = 5 * 1000\n\n// HACK: Filter trickle lines when trickle is disabled #354\nfunction filterTrickle (sdp) {\n  return sdp.replace(/a=ice-options:trickle\\s\\n/g, '')\n}\n\nfunction warn (message) {\n  console.warn(message)\n}\n\n/**\n * WebRTC peer connection. Same API as node core `net.Socket`, plus a few extra methods.\n * Duplex stream.\n * @param {Object} opts\n */\nclass Peer extends stream.Duplex {\n  constructor (opts) {\n    opts = Object.assign({\n      allowHalfOpen: false\n    }, opts)\n\n    super(opts)\n\n    this._id = randombytes(4).toString('hex').slice(0, 7)\n    this._debug('new peer %o', opts)\n\n    this.channelName = opts.initiator\n      ? opts.channelName || randombytes(20).toString('hex')\n      : null\n\n    this.initiator = opts.initiator || false\n    this.channelConfig = opts.channelConfig || Peer.channelConfig\n    this.channelNegotiated = this.channelConfig.negotiated\n    this.config = Object.assign({}, Peer.config, opts.config)\n    this.offerOptions = opts.offerOptions || {}\n    this.answerOptions = opts.answerOptions || {}\n    this.sdpTransform = opts.sdpTransform || (sdp => sdp)\n    this.streams = opts.streams || (opts.stream ? [opts.stream] : []) // support old \"stream\" option\n    this.trickle = opts.trickle !== undefined ? opts.trickle : true\n    this.allowHalfTrickle = opts.allowHalfTrickle !== undefined ? opts.allowHalfTrickle : false\n    this.iceCompleteTimeout = opts.iceCompleteTimeout || ICECOMPLETE_TIMEOUT\n\n    this.destroyed = false\n    this.destroying = false\n    this._connected = false\n\n    this.remoteAddress = undefined\n    this.remoteFamily = undefined\n    this.remotePort = undefined\n    this.localAddress = undefined\n    this.localFamily = undefined\n    this.localPort = undefined\n\n    this._wrtc = (opts.wrtc && typeof opts.wrtc === 'object')\n      ? opts.wrtc\n      : getBrowserRTC()\n\n    if (!this._wrtc) {\n      if (typeof window === 'undefined') {\n        throw errCode(new Error('No WebRTC support: Specify `opts.wrtc` option in this environment'), 'ERR_WEBRTC_SUPPORT')\n      } else {\n        throw errCode(new Error('No WebRTC support: Not a supported browser'), 'ERR_WEBRTC_SUPPORT')\n      }\n    }\n\n    this._pcReady = false\n    this._channelReady = false\n    this._iceComplete = false // ice candidate trickle done (got null candidate)\n    this._iceCompleteTimer = null // send an offer/answer anyway after some timeout\n    this._channel = null\n    this._pendingCandidates = []\n\n    this._isNegotiating = false // is this peer waiting for negotiation to complete?\n    this._firstNegotiation = true\n    this._batchedNegotiation = false // batch synchronous negotiations\n    this._queuedNegotiation = false // is there a queued negotiation request?\n    this._sendersAwaitingStable = []\n    this._senderMap = new Map()\n    this._closingInterval = null\n\n    this._remoteTracks = []\n    this._remoteStreams = []\n\n    this._chunk = null\n    this._cb = null\n    this._interval = null\n\n    try {\n      this._pc = new (this._wrtc.RTCPeerConnection)(this.config)\n    } catch (err) {\n      this.destroy(errCode(err, 'ERR_PC_CONSTRUCTOR'))\n      return\n    }\n\n    // We prefer feature detection whenever possible, but sometimes that's not\n    // possible for certain implementations.\n    this._isReactNativeWebrtc = typeof this._pc._peerConnectionId === 'number'\n\n    this._pc.oniceconnectionstatechange = () => {\n      this._onIceStateChange()\n    }\n    this._pc.onicegatheringstatechange = () => {\n      this._onIceStateChange()\n    }\n    this._pc.onconnectionstatechange = () => {\n      this._onConnectionStateChange()\n    }\n    this._pc.onsignalingstatechange = () => {\n      this._onSignalingStateChange()\n    }\n    this._pc.onicecandidate = event => {\n      this._onIceCandidate(event)\n    }\n\n    // HACK: Fix for odd Firefox behavior, see: https://github.com/feross/simple-peer/pull/783\n    if (typeof this._pc.peerIdentity === 'object') {\n      this._pc.peerIdentity.catch(err => {\n        this.destroy(errCode(err, 'ERR_PC_PEER_IDENTITY'))\n      })\n    }\n\n    // Other spec events, unused by this implementation:\n    // - onconnectionstatechange\n    // - onicecandidateerror\n    // - onfingerprintfailure\n    // - onnegotiationneeded\n\n    if (this.initiator || this.channelNegotiated) {\n      this._setupData({\n        channel: this._pc.createDataChannel(this.channelName, this.channelConfig)\n      })\n    } else {\n      this._pc.ondatachannel = event => {\n        this._setupData(event)\n      }\n    }\n\n    if (this.streams) {\n      this.streams.forEach(stream => {\n        this.addStream(stream)\n      })\n    }\n    this._pc.ontrack = event => {\n      this._onTrack(event)\n    }\n\n    this._debug('initial negotiation')\n    this._needsNegotiation()\n\n    this._onFinishBound = () => {\n      this._onFinish()\n    }\n    this.once('finish', this._onFinishBound)\n  }\n\n  get bufferSize () {\n    return (this._channel && this._channel.bufferedAmount) || 0\n  }\n\n  // HACK: it's possible channel.readyState is \"closing\" before peer.destroy() fires\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=882743\n  get connected () {\n    return (this._connected && this._channel.readyState === 'open')\n  }\n\n  address () {\n    return { port: this.localPort, family: this.localFamily, address: this.localAddress }\n  }\n\n  signal (data) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot signal after peer is destroyed'), 'ERR_DESTROYED')\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data)\n      } catch (err) {\n        data = {}\n      }\n    }\n    this._debug('signal()')\n\n    if (data.renegotiate && this.initiator) {\n      this._debug('got request to renegotiate')\n      this._needsNegotiation()\n    }\n    if (data.transceiverRequest && this.initiator) {\n      this._debug('got request for transceiver')\n      this.addTransceiver(data.transceiverRequest.kind, data.transceiverRequest.init)\n    }\n    if (data.candidate) {\n      if (this._pc.remoteDescription && this._pc.remoteDescription.type) {\n        this._addIceCandidate(data.candidate)\n      } else {\n        this._pendingCandidates.push(data.candidate)\n      }\n    }\n    if (data.sdp) {\n      this._pc.setRemoteDescription(new (this._wrtc.RTCSessionDescription)(data))\n        .then(() => {\n          if (this.destroyed) return\n\n          this._pendingCandidates.forEach(candidate => {\n            this._addIceCandidate(candidate)\n          })\n          this._pendingCandidates = []\n\n          if (this._pc.remoteDescription.type === 'offer') this._createAnswer()\n        })\n        .catch(err => {\n          this.destroy(errCode(err, 'ERR_SET_REMOTE_DESCRIPTION'))\n        })\n    }\n    if (!data.sdp && !data.candidate && !data.renegotiate && !data.transceiverRequest) {\n      this.destroy(errCode(new Error('signal() called with invalid signal data'), 'ERR_SIGNALING'))\n    }\n  }\n\n  _addIceCandidate (candidate) {\n    const iceCandidateObj = new this._wrtc.RTCIceCandidate(candidate)\n    this._pc.addIceCandidate(iceCandidateObj)\n      .catch(err => {\n        if (!iceCandidateObj.address || iceCandidateObj.address.endsWith('.local')) {\n          warn('Ignoring unsupported ICE candidate.')\n        } else {\n          this.destroy(errCode(err, 'ERR_ADD_ICE_CANDIDATE'))\n        }\n      })\n  }\n\n  /**\n   * Send text/binary data to the remote peer.\n   * @param {ArrayBufferView|ArrayBuffer|Buffer|string|Blob} chunk\n   */\n  send (chunk) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot send after peer is destroyed'), 'ERR_DESTROYED')\n    this._channel.send(chunk)\n  }\n\n  /**\n   * Add a Transceiver to the connection.\n   * @param {String} kind\n   * @param {Object} init\n   */\n  addTransceiver (kind, init) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot addTransceiver after peer is destroyed'), 'ERR_DESTROYED')\n    this._debug('addTransceiver()')\n\n    if (this.initiator) {\n      try {\n        this._pc.addTransceiver(kind, init)\n        this._needsNegotiation()\n      } catch (err) {\n        this.destroy(errCode(err, 'ERR_ADD_TRANSCEIVER'))\n      }\n    } else {\n      this.emit('signal', { // request initiator to renegotiate\n        type: 'transceiverRequest',\n        transceiverRequest: { kind, init }\n      })\n    }\n  }\n\n  /**\n   * Add a MediaStream to the connection.\n   * @param {MediaStream} stream\n   */\n  addStream (stream) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot addStream after peer is destroyed'), 'ERR_DESTROYED')\n    this._debug('addStream()')\n\n    stream.getTracks().forEach(track => {\n      this.addTrack(track, stream)\n    })\n  }\n\n  /**\n   * Add a MediaStreamTrack to the connection.\n   * @param {MediaStreamTrack} track\n   * @param {MediaStream} stream\n   */\n  addTrack (track, stream) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot addTrack after peer is destroyed'), 'ERR_DESTROYED')\n    this._debug('addTrack()')\n\n    const submap = this._senderMap.get(track) || new Map() // nested Maps map [track, stream] to sender\n    let sender = submap.get(stream)\n    if (!sender) {\n      sender = this._pc.addTrack(track, stream)\n      submap.set(stream, sender)\n      this._senderMap.set(track, submap)\n      this._needsNegotiation()\n    } else if (sender.removed) {\n      throw errCode(new Error('Track has been removed. You should enable/disable tracks that you want to re-add.'), 'ERR_SENDER_REMOVED')\n    } else {\n      throw errCode(new Error('Track has already been added to that stream.'), 'ERR_SENDER_ALREADY_ADDED')\n    }\n  }\n\n  /**\n   * Replace a MediaStreamTrack by another in the connection.\n   * @param {MediaStreamTrack} oldTrack\n   * @param {MediaStreamTrack} newTrack\n   * @param {MediaStream} stream\n   */\n  replaceTrack (oldTrack, newTrack, stream) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot replaceTrack after peer is destroyed'), 'ERR_DESTROYED')\n    this._debug('replaceTrack()')\n\n    const submap = this._senderMap.get(oldTrack)\n    const sender = submap ? submap.get(stream) : null\n    if (!sender) {\n      throw errCode(new Error('Cannot replace track that was never added.'), 'ERR_TRACK_NOT_ADDED')\n    }\n    if (newTrack) this._senderMap.set(newTrack, submap)\n\n    if (sender.replaceTrack != null) {\n      sender.replaceTrack(newTrack)\n    } else {\n      this.destroy(errCode(new Error('replaceTrack is not supported in this browser'), 'ERR_UNSUPPORTED_REPLACETRACK'))\n    }\n  }\n\n  /**\n   * Remove a MediaStreamTrack from the connection.\n   * @param {MediaStreamTrack} track\n   * @param {MediaStream} stream\n   */\n  removeTrack (track, stream) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot removeTrack after peer is destroyed'), 'ERR_DESTROYED')\n    this._debug('removeSender()')\n\n    const submap = this._senderMap.get(track)\n    const sender = submap ? submap.get(stream) : null\n    if (!sender) {\n      throw errCode(new Error('Cannot remove track that was never added.'), 'ERR_TRACK_NOT_ADDED')\n    }\n    try {\n      sender.removed = true\n      this._pc.removeTrack(sender)\n    } catch (err) {\n      if (err.name === 'NS_ERROR_UNEXPECTED') {\n        this._sendersAwaitingStable.push(sender) // HACK: Firefox must wait until (signalingState === stable) https://bugzilla.mozilla.org/show_bug.cgi?id=1133874\n      } else {\n        this.destroy(errCode(err, 'ERR_REMOVE_TRACK'))\n      }\n    }\n    this._needsNegotiation()\n  }\n\n  /**\n   * Remove a MediaStream from the connection.\n   * @param {MediaStream} stream\n   */\n  removeStream (stream) {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot removeStream after peer is destroyed'), 'ERR_DESTROYED')\n    this._debug('removeSenders()')\n\n    stream.getTracks().forEach(track => {\n      this.removeTrack(track, stream)\n    })\n  }\n\n  _needsNegotiation () {\n    this._debug('_needsNegotiation')\n    if (this._batchedNegotiation) return // batch synchronous renegotiations\n    this._batchedNegotiation = true\n    queueMicrotask(() => {\n      this._batchedNegotiation = false\n      if (this.initiator || !this._firstNegotiation) {\n        this._debug('starting batched negotiation')\n        this.negotiate()\n      } else {\n        this._debug('non-initiator initial negotiation request discarded')\n      }\n      this._firstNegotiation = false\n    })\n  }\n\n  negotiate () {\n    if (this.destroying) return\n    if (this.destroyed) throw errCode(new Error('cannot negotiate after peer is destroyed'), 'ERR_DESTROYED')\n\n    if (this.initiator) {\n      if (this._isNegotiating) {\n        this._queuedNegotiation = true\n        this._debug('already negotiating, queueing')\n      } else {\n        this._debug('start negotiation')\n        setTimeout(() => { // HACK: Chrome crashes if we immediately call createOffer\n          this._createOffer()\n        }, 0)\n      }\n    } else {\n      if (this._isNegotiating) {\n        this._queuedNegotiation = true\n        this._debug('already negotiating, queueing')\n      } else {\n        this._debug('requesting negotiation from initiator')\n        this.emit('signal', { // request initiator to renegotiate\n          type: 'renegotiate',\n          renegotiate: true\n        })\n      }\n    }\n    this._isNegotiating = true\n  }\n\n  // TODO: Delete this method once readable-stream is updated to contain a default\n  // implementation of destroy() that automatically calls _destroy()\n  // See: https://github.com/nodejs/readable-stream/issues/283\n  destroy (err) {\n    this._destroy(err, () => {})\n  }\n\n  _destroy (err, cb) {\n    if (this.destroyed || this.destroying) return\n    this.destroying = true\n\n    this._debug('destroying (error: %s)', err && (err.message || err))\n\n    queueMicrotask(() => { // allow events concurrent with the call to _destroy() to fire (see #692)\n      this.destroyed = true\n      this.destroying = false\n\n      this._debug('destroy (error: %s)', err && (err.message || err))\n\n      this.readable = this.writable = false\n\n      if (!this._readableState.ended) this.push(null)\n      if (!this._writableState.finished) this.end()\n\n      this._connected = false\n      this._pcReady = false\n      this._channelReady = false\n      this._remoteTracks = null\n      this._remoteStreams = null\n      this._senderMap = null\n\n      clearInterval(this._closingInterval)\n      this._closingInterval = null\n\n      clearInterval(this._interval)\n      this._interval = null\n      this._chunk = null\n      this._cb = null\n\n      if (this._onFinishBound) this.removeListener('finish', this._onFinishBound)\n      this._onFinishBound = null\n\n      if (this._channel) {\n        try {\n          this._channel.close()\n        } catch (err) {}\n\n        // allow events concurrent with destruction to be handled\n        this._channel.onmessage = null\n        this._channel.onopen = null\n        this._channel.onclose = null\n        this._channel.onerror = null\n      }\n      if (this._pc) {\n        try {\n          this._pc.close()\n        } catch (err) {}\n\n        // allow events concurrent with destruction to be handled\n        this._pc.oniceconnectionstatechange = null\n        this._pc.onicegatheringstatechange = null\n        this._pc.onsignalingstatechange = null\n        this._pc.onicecandidate = null\n        this._pc.ontrack = null\n        this._pc.ondatachannel = null\n      }\n      this._pc = null\n      this._channel = null\n\n      if (err) this.emit('error', err)\n      this.emit('close')\n      cb()\n    })\n  }\n\n  _setupData (event) {\n    if (!event.channel) {\n      // In some situations `pc.createDataChannel()` returns `undefined` (in wrtc),\n      // which is invalid behavior. Handle it gracefully.\n      // See: https://github.com/feross/simple-peer/issues/163\n      return this.destroy(errCode(new Error('Data channel event is missing `channel` property'), 'ERR_DATA_CHANNEL'))\n    }\n\n    this._channel = event.channel\n    this._channel.binaryType = 'arraybuffer'\n\n    if (typeof this._channel.bufferedAmountLowThreshold === 'number') {\n      this._channel.bufferedAmountLowThreshold = MAX_BUFFERED_AMOUNT\n    }\n\n    this.channelName = this._channel.label\n\n    this._channel.onmessage = event => {\n      this._onChannelMessage(event)\n    }\n    this._channel.onbufferedamountlow = () => {\n      this._onChannelBufferedAmountLow()\n    }\n    this._channel.onopen = () => {\n      this._onChannelOpen()\n    }\n    this._channel.onclose = () => {\n      this._onChannelClose()\n    }\n    this._channel.onerror = event => {\n      const err = event.error instanceof Error\n        ? event.error\n        : new Error(`Datachannel error: ${event.message} ${event.filename}:${event.lineno}:${event.colno}`)\n      this.destroy(errCode(err, 'ERR_DATA_CHANNEL'))\n    }\n\n    // HACK: Chrome will sometimes get stuck in readyState \"closing\", let's check for this condition\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=882743\n    let isClosing = false\n    this._closingInterval = setInterval(() => { // No \"onclosing\" event\n      if (this._channel && this._channel.readyState === 'closing') {\n        if (isClosing) this._onChannelClose() // closing timed out: equivalent to onclose firing\n        isClosing = true\n      } else {\n        isClosing = false\n      }\n    }, CHANNEL_CLOSING_TIMEOUT)\n  }\n\n  _read () {}\n\n  _write (chunk, encoding, cb) {\n    if (this.destroyed) return cb(errCode(new Error('cannot write after peer is destroyed'), 'ERR_DATA_CHANNEL'))\n\n    if (this._connected) {\n      try {\n        this.send(chunk)\n      } catch (err) {\n        return this.destroy(errCode(err, 'ERR_DATA_CHANNEL'))\n      }\n      if (this._channel.bufferedAmount > MAX_BUFFERED_AMOUNT) {\n        this._debug('start backpressure: bufferedAmount %d', this._channel.bufferedAmount)\n        this._cb = cb\n      } else {\n        cb(null)\n      }\n    } else {\n      this._debug('write before connect')\n      this._chunk = chunk\n      this._cb = cb\n    }\n  }\n\n  // When stream finishes writing, close socket. Half open connections are not\n  // supported.\n  _onFinish () {\n    if (this.destroyed) return\n\n    // Wait a bit before destroying so the socket flushes.\n    // TODO: is there a more reliable way to accomplish this?\n    const destroySoon = () => {\n      setTimeout(() => this.destroy(), 1000)\n    }\n\n    if (this._connected) {\n      destroySoon()\n    } else {\n      this.once('connect', destroySoon)\n    }\n  }\n\n  _startIceCompleteTimeout () {\n    if (this.destroyed) return\n    if (this._iceCompleteTimer) return\n    this._debug('started iceComplete timeout')\n    this._iceCompleteTimer = setTimeout(() => {\n      if (!this._iceComplete) {\n        this._iceComplete = true\n        this._debug('iceComplete timeout completed')\n        this.emit('iceTimeout')\n        this.emit('_iceComplete')\n      }\n    }, this.iceCompleteTimeout)\n  }\n\n  _createOffer () {\n    if (this.destroyed) return\n\n    this._pc.createOffer(this.offerOptions)\n      .then(offer => {\n        if (this.destroyed) return\n        if (!this.trickle && !this.allowHalfTrickle) offer.sdp = filterTrickle(offer.sdp)\n        offer.sdp = this.sdpTransform(offer.sdp)\n\n        const sendOffer = () => {\n          if (this.destroyed) return\n          const signal = this._pc.localDescription || offer\n          this._debug('signal')\n          this.emit('signal', {\n            type: signal.type,\n            sdp: signal.sdp\n          })\n        }\n\n        const onSuccess = () => {\n          this._debug('createOffer success')\n          if (this.destroyed) return\n          if (this.trickle || this._iceComplete) sendOffer()\n          else this.once('_iceComplete', sendOffer) // wait for candidates\n        }\n\n        const onError = err => {\n          this.destroy(errCode(err, 'ERR_SET_LOCAL_DESCRIPTION'))\n        }\n\n        this._pc.setLocalDescription(offer)\n          .then(onSuccess)\n          .catch(onError)\n      })\n      .catch(err => {\n        this.destroy(errCode(err, 'ERR_CREATE_OFFER'))\n      })\n  }\n\n  _requestMissingTransceivers () {\n    if (this._pc.getTransceivers) {\n      this._pc.getTransceivers().forEach(transceiver => {\n        if (!transceiver.mid && transceiver.sender.track && !transceiver.requested) {\n          transceiver.requested = true // HACK: Safari returns negotiated transceivers with a null mid\n          this.addTransceiver(transceiver.sender.track.kind)\n        }\n      })\n    }\n  }\n\n  _createAnswer () {\n    if (this.destroyed) return\n\n    this._pc.createAnswer(this.answerOptions)\n      .then(answer => {\n        if (this.destroyed) return\n        if (!this.trickle && !this.allowHalfTrickle) answer.sdp = filterTrickle(answer.sdp)\n        answer.sdp = this.sdpTransform(answer.sdp)\n\n        const sendAnswer = () => {\n          if (this.destroyed) return\n          const signal = this._pc.localDescription || answer\n          this._debug('signal')\n          this.emit('signal', {\n            type: signal.type,\n            sdp: signal.sdp\n          })\n          if (!this.initiator) this._requestMissingTransceivers()\n        }\n\n        const onSuccess = () => {\n          if (this.destroyed) return\n          if (this.trickle || this._iceComplete) sendAnswer()\n          else this.once('_iceComplete', sendAnswer)\n        }\n\n        const onError = err => {\n          this.destroy(errCode(err, 'ERR_SET_LOCAL_DESCRIPTION'))\n        }\n\n        this._pc.setLocalDescription(answer)\n          .then(onSuccess)\n          .catch(onError)\n      })\n      .catch(err => {\n        this.destroy(errCode(err, 'ERR_CREATE_ANSWER'))\n      })\n  }\n\n  _onConnectionStateChange () {\n    if (this.destroyed) return\n    if (this._pc.connectionState === 'failed') {\n      this.destroy(errCode(new Error('Connection failed.'), 'ERR_CONNECTION_FAILURE'))\n    }\n  }\n\n  _onIceStateChange () {\n    if (this.destroyed) return\n    const iceConnectionState = this._pc.iceConnectionState\n    const iceGatheringState = this._pc.iceGatheringState\n\n    this._debug(\n      'iceStateChange (connection: %s) (gathering: %s)',\n      iceConnectionState,\n      iceGatheringState\n    )\n    this.emit('iceStateChange', iceConnectionState, iceGatheringState)\n\n    if (iceConnectionState === 'connected' || iceConnectionState === 'completed') {\n      this._pcReady = true\n      this._maybeReady()\n    }\n    if (iceConnectionState === 'failed') {\n      this.destroy(errCode(new Error('Ice connection failed.'), 'ERR_ICE_CONNECTION_FAILURE'))\n    }\n    if (iceConnectionState === 'closed') {\n      this.destroy(errCode(new Error('Ice connection closed.'), 'ERR_ICE_CONNECTION_CLOSED'))\n    }\n  }\n\n  getStats (cb) {\n    // statreports can come with a value array instead of properties\n    const flattenValues = report => {\n      if (Object.prototype.toString.call(report.values) === '[object Array]') {\n        report.values.forEach(value => {\n          Object.assign(report, value)\n        })\n      }\n      return report\n    }\n\n    // Promise-based getStats() (standard)\n    if (this._pc.getStats.length === 0 || this._isReactNativeWebrtc) {\n      this._pc.getStats()\n        .then(res => {\n          const reports = []\n          res.forEach(report => {\n            reports.push(flattenValues(report))\n          })\n          cb(null, reports)\n        }, err => cb(err))\n\n    // Single-parameter callback-based getStats() (non-standard)\n    } else if (this._pc.getStats.length > 0) {\n      this._pc.getStats(res => {\n        // If we destroy connection in `connect` callback this code might happen to run when actual connection is already closed\n        if (this.destroyed) return\n\n        const reports = []\n        res.result().forEach(result => {\n          const report = {}\n          result.names().forEach(name => {\n            report[name] = result.stat(name)\n          })\n          report.id = result.id\n          report.type = result.type\n          report.timestamp = result.timestamp\n          reports.push(flattenValues(report))\n        })\n        cb(null, reports)\n      }, err => cb(err))\n\n    // Unknown browser, skip getStats() since it's anyone's guess which style of\n    // getStats() they implement.\n    } else {\n      cb(null, [])\n    }\n  }\n\n  _maybeReady () {\n    this._debug('maybeReady pc %s channel %s', this._pcReady, this._channelReady)\n    if (this._connected || this._connecting || !this._pcReady || !this._channelReady) return\n\n    this._connecting = true\n\n    // HACK: We can't rely on order here, for details see https://github.com/js-platform/node-webrtc/issues/339\n    const findCandidatePair = () => {\n      if (this.destroyed) return\n\n      this.getStats((err, items) => {\n        if (this.destroyed) return\n\n        // Treat getStats error as non-fatal. It's not essential.\n        if (err) items = []\n\n        const remoteCandidates = {}\n        const localCandidates = {}\n        const candidatePairs = {}\n        let foundSelectedCandidatePair = false\n\n        items.forEach(item => {\n          // TODO: Once all browsers support the hyphenated stats report types, remove\n          // the non-hypenated ones\n          if (item.type === 'remotecandidate' || item.type === 'remote-candidate') {\n            remoteCandidates[item.id] = item\n          }\n          if (item.type === 'localcandidate' || item.type === 'local-candidate') {\n            localCandidates[item.id] = item\n          }\n          if (item.type === 'candidatepair' || item.type === 'candidate-pair') {\n            candidatePairs[item.id] = item\n          }\n        })\n\n        const setSelectedCandidatePair = selectedCandidatePair => {\n          foundSelectedCandidatePair = true\n\n          let local = localCandidates[selectedCandidatePair.localCandidateId]\n\n          if (local && (local.ip || local.address)) {\n            // Spec\n            this.localAddress = local.ip || local.address\n            this.localPort = Number(local.port)\n          } else if (local && local.ipAddress) {\n            // Firefox\n            this.localAddress = local.ipAddress\n            this.localPort = Number(local.portNumber)\n          } else if (typeof selectedCandidatePair.googLocalAddress === 'string') {\n            // TODO: remove this once Chrome 58 is released\n            local = selectedCandidatePair.googLocalAddress.split(':')\n            this.localAddress = local[0]\n            this.localPort = Number(local[1])\n          }\n          if (this.localAddress) {\n            this.localFamily = this.localAddress.includes(':') ? 'IPv6' : 'IPv4'\n          }\n\n          let remote = remoteCandidates[selectedCandidatePair.remoteCandidateId]\n\n          if (remote && (remote.ip || remote.address)) {\n            // Spec\n            this.remoteAddress = remote.ip || remote.address\n            this.remotePort = Number(remote.port)\n          } else if (remote && remote.ipAddress) {\n            // Firefox\n            this.remoteAddress = remote.ipAddress\n            this.remotePort = Number(remote.portNumber)\n          } else if (typeof selectedCandidatePair.googRemoteAddress === 'string') {\n            // TODO: remove this once Chrome 58 is released\n            remote = selectedCandidatePair.googRemoteAddress.split(':')\n            this.remoteAddress = remote[0]\n            this.remotePort = Number(remote[1])\n          }\n          if (this.remoteAddress) {\n            this.remoteFamily = this.remoteAddress.includes(':') ? 'IPv6' : 'IPv4'\n          }\n\n          this._debug(\n            'connect local: %s:%s remote: %s:%s',\n            this.localAddress,\n            this.localPort,\n            this.remoteAddress,\n            this.remotePort\n          )\n        }\n\n        items.forEach(item => {\n          // Spec-compliant\n          if (item.type === 'transport' && item.selectedCandidatePairId) {\n            setSelectedCandidatePair(candidatePairs[item.selectedCandidatePairId])\n          }\n\n          // Old implementations\n          if (\n            (item.type === 'googCandidatePair' && item.googActiveConnection === 'true') ||\n            ((item.type === 'candidatepair' || item.type === 'candidate-pair') && item.selected)\n          ) {\n            setSelectedCandidatePair(item)\n          }\n        })\n\n        // Ignore candidate pair selection in browsers like Safari 11 that do not have any local or remote candidates\n        // But wait until at least 1 candidate pair is available\n        if (!foundSelectedCandidatePair && (!Object.keys(candidatePairs).length || Object.keys(localCandidates).length)) {\n          setTimeout(findCandidatePair, 100)\n          return\n        } else {\n          this._connecting = false\n          this._connected = true\n        }\n\n        if (this._chunk) {\n          try {\n            this.send(this._chunk)\n          } catch (err) {\n            return this.destroy(errCode(err, 'ERR_DATA_CHANNEL'))\n          }\n          this._chunk = null\n          this._debug('sent chunk from \"write before connect\"')\n\n          const cb = this._cb\n          this._cb = null\n          cb(null)\n        }\n\n        // If `bufferedAmountLowThreshold` and 'onbufferedamountlow' are unsupported,\n        // fallback to using setInterval to implement backpressure.\n        if (typeof this._channel.bufferedAmountLowThreshold !== 'number') {\n          this._interval = setInterval(() => this._onInterval(), 150)\n          if (this._interval.unref) this._interval.unref()\n        }\n\n        this._debug('connect')\n        this.emit('connect')\n      })\n    }\n    findCandidatePair()\n  }\n\n  _onInterval () {\n    if (!this._cb || !this._channel || this._channel.bufferedAmount > MAX_BUFFERED_AMOUNT) {\n      return\n    }\n    this._onChannelBufferedAmountLow()\n  }\n\n  _onSignalingStateChange () {\n    if (this.destroyed) return\n\n    if (this._pc.signalingState === 'stable') {\n      this._isNegotiating = false\n\n      // HACK: Firefox doesn't yet support removing tracks when signalingState !== 'stable'\n      this._debug('flushing sender queue', this._sendersAwaitingStable)\n      this._sendersAwaitingStable.forEach(sender => {\n        this._pc.removeTrack(sender)\n        this._queuedNegotiation = true\n      })\n      this._sendersAwaitingStable = []\n\n      if (this._queuedNegotiation) {\n        this._debug('flushing negotiation queue')\n        this._queuedNegotiation = false\n        this._needsNegotiation() // negotiate again\n      } else {\n        this._debug('negotiated')\n        this.emit('negotiated')\n      }\n    }\n\n    this._debug('signalingStateChange %s', this._pc.signalingState)\n    this.emit('signalingStateChange', this._pc.signalingState)\n  }\n\n  _onIceCandidate (event) {\n    if (this.destroyed) return\n    if (event.candidate && this.trickle) {\n      this.emit('signal', {\n        type: 'candidate',\n        candidate: {\n          candidate: event.candidate.candidate,\n          sdpMLineIndex: event.candidate.sdpMLineIndex,\n          sdpMid: event.candidate.sdpMid\n        }\n      })\n    } else if (!event.candidate && !this._iceComplete) {\n      this._iceComplete = true\n      this.emit('_iceComplete')\n    }\n    // as soon as we've received one valid candidate start timeout\n    if (event.candidate) {\n      this._startIceCompleteTimeout()\n    }\n  }\n\n  _onChannelMessage (event) {\n    if (this.destroyed) return\n    let data = event.data\n    if (data instanceof ArrayBuffer) data = Buffer.from(data)\n    this.push(data)\n  }\n\n  _onChannelBufferedAmountLow () {\n    if (this.destroyed || !this._cb) return\n    this._debug('ending backpressure: bufferedAmount %d', this._channel.bufferedAmount)\n    const cb = this._cb\n    this._cb = null\n    cb(null)\n  }\n\n  _onChannelOpen () {\n    if (this._connected || this.destroyed) return\n    this._debug('on channel open')\n    this._channelReady = true\n    this._maybeReady()\n  }\n\n  _onChannelClose () {\n    if (this.destroyed) return\n    this._debug('on channel close')\n    this.destroy()\n  }\n\n  _onTrack (event) {\n    if (this.destroyed) return\n\n    event.streams.forEach(eventStream => {\n      this._debug('on track')\n      this.emit('track', event.track, eventStream)\n\n      this._remoteTracks.push({\n        track: event.track,\n        stream: eventStream\n      })\n\n      if (this._remoteStreams.some(remoteStream => {\n        return remoteStream.id === eventStream.id\n      })) return // Only fire one 'stream' event, even though there may be multiple tracks per stream\n\n      this._remoteStreams.push(eventStream)\n      queueMicrotask(() => {\n        this._debug('on stream')\n        this.emit('stream', eventStream) // ensure all tracks have been added\n      })\n    })\n  }\n\n  _debug () {\n    const args = [].slice.call(arguments)\n    args[0] = '[' + this._id + '] ' + args[0]\n    debug.apply(null, args)\n  }\n}\n\nPeer.WEBRTC_SUPPORT = !!getBrowserRTC()\n\n/**\n * Expose peer and data channel config for overriding all Peer\n * instances. Otherwise, just set opts.config or opts.channelConfig\n * when constructing a Peer.\n */\nPeer.config = {\n  iceServers: [\n    {\n      urls: [\n        'stun:stun.l.google.com:19302',\n        'stun:global.stun.twilio.com:3478'\n      ]\n    }\n  ],\n  sdpSemantics: 'unified-plan'\n}\n\nPeer.channelConfig = {}\n\nmodule.exports = Peer\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","'use strict';\n\n/**\n * @typedef {{ [key: string]: any }} Extensions\n * @typedef {Error} Err\n * @property {string} message\n */\n\n/**\n *\n * @param {Error} obj\n * @param {Extensions} props\n * @returns {Error & Extensions}\n */\nfunction assign(obj, props) {\n    for (const key in props) {\n        Object.defineProperty(obj, key, {\n            value: props[key],\n            enumerable: true,\n            configurable: true,\n        });\n    }\n\n    return obj;\n}\n\n/**\n *\n * @param {any} err - An Error\n * @param {string|Extensions} code - A string code or props to set on the error\n * @param {Extensions} [props] - Props to set on the error\n * @returns {Error & Extensions}\n */\nfunction createError(err, code, props) {\n    if (!err || typeof err === 'string') {\n        throw new TypeError('Please pass an Error to err-code');\n    }\n\n    if (!props) {\n        props = {};\n    }\n\n    if (typeof code === 'object') {\n        props = code;\n        code = '';\n    }\n\n    if (code) {\n        props.code = code;\n    }\n\n    try {\n        return assign(err, props);\n    } catch (_) {\n        props.message = err.message;\n        props.stack = err.stack;\n\n        const ErrClass = function () {};\n\n        ErrClass.prototype = Object.create(Object.getPrototypeOf(err));\n\n        // @ts-ignore\n        const output = assign(new ErrClass(), props);\n\n        return output;\n    }\n}\n\nmodule.exports = createError;\n","/*! simple-websocket. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* global WebSocket */\n\nconst debug = require('debug')('simple-websocket')\nconst randombytes = require('randombytes')\nconst stream = require('readable-stream')\nconst queueMicrotask = require('queue-microtask') // TODO: remove when Node 10 is not supported\nconst ws = require('ws') // websockets in node - will be empty object in browser\n\nconst _WebSocket = typeof ws !== 'function' ? WebSocket : ws\n\nconst MAX_BUFFERED_AMOUNT = 64 * 1024\n\n/**\n * WebSocket. Same API as node core `net.Socket`. Duplex stream.\n * @param {Object} opts\n * @param {string=} opts.url websocket server url\n * @param {string=} opts.socket raw websocket instance to wrap\n */\nclass Socket extends stream.Duplex {\n  constructor (opts = {}) {\n    // Support simple usage: `new Socket(url)`\n    if (typeof opts === 'string') {\n      opts = { url: opts }\n    }\n\n    opts = Object.assign({\n      allowHalfOpen: false\n    }, opts)\n\n    super(opts)\n\n    if (opts.url == null && opts.socket == null) {\n      throw new Error('Missing required `url` or `socket` option')\n    }\n    if (opts.url != null && opts.socket != null) {\n      throw new Error('Must specify either `url` or `socket` option, not both')\n    }\n\n    this._id = randombytes(4).toString('hex').slice(0, 7)\n    this._debug('new websocket: %o', opts)\n\n    this.connected = false\n    this.destroyed = false\n\n    this._chunk = null\n    this._cb = null\n    this._interval = null\n\n    if (opts.socket) {\n      this.url = opts.socket.url\n      this._ws = opts.socket\n      this.connected = opts.socket.readyState === _WebSocket.OPEN\n    } else {\n      this.url = opts.url\n      try {\n        if (typeof ws === 'function') {\n          // `ws` package accepts options\n          this._ws = new _WebSocket(opts.url, null, {\n            ...opts,\n            encoding: undefined // encoding option breaks ws internals\n          })\n        } else {\n          this._ws = new _WebSocket(opts.url)\n        }\n      } catch (err) {\n        queueMicrotask(() => this.destroy(err))\n        return\n      }\n    }\n\n    this._ws.binaryType = 'arraybuffer'\n\n    if (opts.socket && this.connected) {\n      queueMicrotask(() => this._handleOpen())\n    } else {\n      this._ws.onopen = () => this._handleOpen()\n    }\n\n    this._ws.onmessage = event => this._handleMessage(event)\n    this._ws.onclose = () => this._handleClose()\n    this._ws.onerror = err => this._handleError(err)\n\n    this._handleFinishBound = () => this._handleFinish()\n    this.once('finish', this._handleFinishBound)\n  }\n\n  /**\n   * Send text/binary data to the WebSocket server.\n   * @param {TypedArrayView|ArrayBuffer|Buffer|string|Blob|Object} chunk\n   */\n  send (chunk) {\n    this._ws.send(chunk)\n  }\n\n  // TODO: Delete this method once readable-stream is updated to contain a default\n  // implementation of destroy() that automatically calls _destroy()\n  // See: https://github.com/nodejs/readable-stream/issues/283\n  destroy (err) {\n    this._destroy(err, () => {})\n  }\n\n  _destroy (err, cb) {\n    if (this.destroyed) return\n\n    this._debug('destroy (error: %s)', err && (err.message || err))\n\n    this.readable = this.writable = false\n    if (!this._readableState.ended) this.push(null)\n    if (!this._writableState.finished) this.end()\n\n    this.connected = false\n    this.destroyed = true\n\n    clearInterval(this._interval)\n    this._interval = null\n    this._chunk = null\n    this._cb = null\n\n    if (this._handleFinishBound) {\n      this.removeListener('finish', this._handleFinishBound)\n    }\n    this._handleFinishBound = null\n\n    if (this._ws) {\n      const ws = this._ws\n      const onClose = () => {\n        ws.onclose = null\n      }\n      if (ws.readyState === _WebSocket.CLOSED) {\n        onClose()\n      } else {\n        try {\n          ws.onclose = onClose\n          ws.close()\n        } catch (err) {\n          onClose()\n        }\n      }\n\n      ws.onopen = null\n      ws.onmessage = null\n      ws.onerror = () => {}\n    }\n    this._ws = null\n\n    if (err) this.emit('error', err)\n    this.emit('close')\n    cb()\n  }\n\n  _read () {}\n\n  _write (chunk, encoding, cb) {\n    if (this.destroyed) return cb(new Error('cannot write after socket is destroyed'))\n\n    if (this.connected) {\n      try {\n        this.send(chunk)\n      } catch (err) {\n        return this.destroy(err)\n      }\n      if (typeof ws !== 'function' && this._ws.bufferedAmount > MAX_BUFFERED_AMOUNT) {\n        this._debug('start backpressure: bufferedAmount %d', this._ws.bufferedAmount)\n        this._cb = cb\n      } else {\n        cb(null)\n      }\n    } else {\n      this._debug('write before connect')\n      this._chunk = chunk\n      this._cb = cb\n    }\n  }\n\n  _handleOpen () {\n    if (this.connected || this.destroyed) return\n    this.connected = true\n\n    if (this._chunk) {\n      try {\n        this.send(this._chunk)\n      } catch (err) {\n        return this.destroy(err)\n      }\n      this._chunk = null\n      this._debug('sent chunk from \"write before connect\"')\n\n      const cb = this._cb\n      this._cb = null\n      cb(null)\n    }\n\n    // Backpressure is not implemented in Node.js. The `ws` module has a buggy\n    // `bufferedAmount` property. See: https://github.com/websockets/ws/issues/492\n    if (typeof ws !== 'function') {\n      this._interval = setInterval(() => this._onInterval(), 150)\n      if (this._interval.unref) this._interval.unref()\n    }\n\n    this._debug('connect')\n    this.emit('connect')\n  }\n\n  _handleMessage (event) {\n    if (this.destroyed) return\n    let data = event.data\n    if (data instanceof ArrayBuffer) data = Buffer.from(data)\n    this.push(data)\n  }\n\n  _handleClose () {\n    if (this.destroyed) return\n    this._debug('on close')\n    this.destroy()\n  }\n\n  _handleError (_) {\n    this.destroy(new Error(`Error connecting to ${this.url}`))\n  }\n\n  // When stream finishes writing, close socket. Half open connections are not\n  // supported.\n  _handleFinish () {\n    if (this.destroyed) return\n\n    // Wait a bit before destroying so the socket flushes.\n    // TODO: is there a more reliable way to accomplish this?\n    const destroySoon = () => {\n      setTimeout(() => this.destroy(), 1000)\n    }\n\n    if (this.connected) {\n      destroySoon()\n    } else {\n      this.once('connect', destroySoon)\n    }\n  }\n\n  _onInterval () {\n    if (!this._cb || !this._ws || this._ws.bufferedAmount > MAX_BUFFERED_AMOUNT) {\n      return\n    }\n    this._debug('ending backpressure: bufferedAmount %d', this._ws.bufferedAmount)\n    const cb = this._cb\n    this._cb = null\n    cb(null)\n  }\n\n  _debug () {\n    const args = [].slice.call(arguments)\n    args[0] = '[' + this._id + '] ' + args[0]\n    debug.apply(null, args)\n  }\n}\n\nSocket.WEBSOCKET_SUPPORT = !!_WebSocket\n\nmodule.exports = Socket\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n"],"names":["debug","require","EventEmitter","once","parallel","Peer","queueMicrotask","common","HTTPTracker","UDPTracker","WebSocketTracker","Client","opts","peerId","Error","infoHash","announce","process","browser","port","toString","_peerIdBuffer","Buffer","from","_peerIdBinary","toLowerCase","_infoHashBuffer","_infoHashBinary","destroyed","_port","_getAnnounceOpts","getAnnounceOpts","_rtcConfig","rtcConfig","_userAgent","userAgent","_proxyOpts","proxyOpts","_wrtc","wrtc","map","announceUrl","length","substring","Array","Set","webrtcSupport","WEBRTC_SUPPORT","nextTickWarn","err","emit","_trackers","parsedUrl","parseUrl","protocol","window","location","filter","Boolean","_defaultAnnounceOpts","event","_announce","forEach","tracker","setInterval","scrape","intervalMs","cb","tasks","destroy","numwant","DEFAULT_ANNOUNCE_PEERS","uploaded","downloaded","Object","assign","clientOpts","isArray","client","len","results","on","data","keys","module","exports","Tracker","interval","DEFAULT_ANNOUNCE_INTERVAL","clearInterval","unref","clone","randombytes","Socket","Socks","socketPool","RECONNECT_MINIMUM","RECONNECT_MAXIMUM","RECONNECT_VARIANCE","OFFER_TIMEOUT","peers","socket","reconnecting","retries","reconnectTimer","expectingResponse","_openSocket","connected","params","action","info_hash","peer_id","_trackerId","trackerid","_send","Math","min","_generateOffers","offers","infoHashes","noop","clearTimeout","peer","trackerTimeout","removeListener","_onSocketConnectBound","_onSocketDataBound","_onSocketCloseBound","_onSocketErrorBound","consumers","timeout","destroyCleanup","setTimeout","DESTROY_TIMEOUT","_onSocketConnect","_onSocketError","_onSocketData","_onSocketClose","URL","agent","httpsAgent","httpAgent","socksProxy","Agent","url","JSON","parse","_onAnnounceResponse","_onScrapeResponse","binaryToHex","stringify","failure","warning","trackerId","complete","response","offer","_createPeer","id","answer","to_peer_id","offer_id","signal","offerId","files","_startReconnectTimer","ms","floor","random","pow","message","send","self","i","generateOffer","checkDone","initiator","push","hexToBinary","trickle","config","onError","onConnect","prototype","_socketPool","MAX_ANNOUNCE_PEERS","str","String","replace","match","defineProperties","href","value","origin","_instanceof","obj","type","nativeMap","Map","_","nativeSet","nativePromise","Promise","parent","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","Infinity","_clone","child","proto","resolve","reject","then","__isArray","__isRegExp","RegExp","source","__getRegExpFlags","lastIndex","__isDate","Date","getTime","isBuffer","allocUnsafe","copy","create","getPrototypeOf","index","indexOf","key","keyChild","valueChild","set","entryChild","add","attrs","getOwnPropertyDescriptor","getOwnPropertySymbols","symbols","symbol","descriptor","enumerable","defineProperty","allPropertyNames","getOwnPropertyNames","propertyName","clonePrototype","c","__objToStr","o","call","re","flags","global","ignoreCase","multiline","formatArgs","save","load","useColors","storage","localstorage","warned","console","warn","colors","__nwjs","navigator","document","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","$1","args","namespace","humanize","diff","color","splice","lastC","log","namespaces","setItem","removeItem","error","r","getItem","env","DEBUG","localStorage","formatters","j","v","setup","createDebug","default","coerce","disable","enable","enabled","names","skips","selectColor","hash","charCodeAt","abs","prevTime","enableOverride","curr","Number","prev","unshift","format","formatter","val","logFn","apply","extend","configurable","get","init","delimiter","newDebug","split","substr","toNamespace","join","name","test","regexp","stack","R","Reflect","ReflectApply","target","receiver","Function","ReflectOwnKeys","ownKeys","concat","ProcessEmitWarning","NumberIsNaN","isNaN","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","arg","RangeError","setMaxListeners","n","_getMaxListeners","that","getMaxListeners","arguments","doError","events","er","context","handler","listeners","arrayClone","_addListener","prepend","m","existing","newListener","w","emitter","count","addListener","prependListener","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","prependOnceListener","list","position","originalListener","shift","spliceOne","off","removeAllListeners","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","listenerCount","eventNames","arr","pop","ret","errorListener","resolver","slice","eventTargetAgnosticAddListener","addErrorHandlerIfEventEmitter","addEventListener","wrapListener","removeEventListener","getBrowserRTC","globalThis","RTCPeerConnection","mozRTCPeerConnection","webkitRTCPeerConnection","RTCSessionDescription","mozRTCSessionDescription","webkitRTCSessionDescription","RTCIceCandidate","mozRTCIceCandidate","webkitRTCIceCandidate","inherits","ctor","superCtor","super_","constructor","writable","TempCtor","s","h","d","y","options","isFinite","long","fmtLong","fmtShort","exec","parseFloat","msAbs","round","plural","isPlural","wrappy","strict","onceStrict","fn","f","called","onceError","promise","catch","MAX_BYTES","MAX_UINT32","oldBrowser","crypto","msCrypto","getRandomValues","randomBytes","size","bytes","generated","nextTick","_inheritsLoose","subClass","superClass","__proto__","codes","createErrorType","code","Base","getMessage","arg1","arg2","arg3","NodeError","_Base","oneOf","expected","thing","startsWith","search","pos","endsWith","this_len","includes","start","actual","determiner","msg","objectKeys","Duplex","Readable","Writable","method","allowHalfOpen","readable","onend","_writableState","highWaterMark","getBuffer","ended","onEndNT","end","_readableState","PassThrough","Transform","_transform","chunk","encoding","ReadableState","EE","EElistenerCount","Stream","OurUint8Array","Uint8Array","_uint8ArrayToBuffer","_isUint8Array","debugUtil","debuglog","BufferList","destroyImpl","_require","getHighWaterMark","_require$codes","ERR_INVALID_ARG_TYPE","ERR_STREAM_PUSH_AFTER_EOF","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","StringDecoder","createReadableStreamAsyncIterator","errorOrDestroy","kProxyEvents","stream","isDuplex","objectMode","readableObjectMode","buffer","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","paused","emitClose","autoDestroy","defaultEncoding","awaitDrain","readingMore","decoder","read","_read","_destroy","_undestroy","undestroy","skipChunkCheck","readableAddChunk","addToFront","onEofChunk","chunkInvalid","addChunk","write","maybeReadMore","emitReadable","isPaused","setEncoding","enc","p","head","content","next","clear","MAX_HWM","computeNewHighWaterMark","howMuchToRead","nOrig","endReadable","doRead","fromList","emitReadable_","flow","maybeReadMore_","pipe","dest","pipeOpts","src","doEnd","stdout","stderr","endFn","unpipe","onunpipe","unpipeInfo","hasUnpiped","cleanup","ondrain","pipeOnDrain","cleanedUp","onclose","onfinish","onerror","ondata","needDrain","pause","resume","pipeOnDrainFunctionResult","dests","ev","res","nReadingNextTick","updateReadableListening","resume_","wrap","_this","methodWrap","methodWrapReturnFunction","Symbol","asyncIterator","_fromList","first","consume","endReadableNT","wState","finished","iterable","xs","x","l","ERR_MULTIPLE_CALLBACK","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","afterTransform","ts","_transformState","transforming","writecb","writechunk","rs","needTransform","writeencoding","transform","flush","_flush","prefinish","done","_write","err2","WriteReq","callback","CorkedRequest","entry","finish","onCorkedFinish","WritableState","internalUtil","deprecate","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","nop","writableObjectMode","finalCalled","ending","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","bufferedRequest","lastBufferedRequest","pendingcb","prefinished","errorEmitted","bufferedRequestCount","corkedRequestsFree","current","out","writableStateBufferGetter","realHasInstance","hasInstance","object","writev","_writev","final","_final","writeAfterEnd","validChunk","isBuf","writeOrBuffer","cork","uncork","clearBuffer","setDefaultEncoding","decodeChunk","newChunk","last","doWrite","onwriteError","finishMaybe","onwriteStateUpdate","needFinish","afterWrite","onwriteDrain","holder","allBuffers","endWritable","callFinal","need","rState","corkReq","_Object$setPrototypeO","_defineProperty","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","readAndResolve","iter","onReadable","wrapForNext","lastPromise","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","setPrototypeOf","_return","_this2","_Object$create","iterator","enumerableOnly","sym","_objectSpread","getOwnPropertyDescriptors","_classCallCheck","instance","Constructor","_defineProperties","props","_createClass","protoProps","staticProps","_require2","inspect","custom","copyBuffer","offset","tail","alloc","hasStrings","_getString","_getBuffer","nb","buf","customInspect","readableDestroyed","writableDestroyed","emitErrorNT","emitErrorAndCloseNT","emitCloseNT","ERR_STREAM_PREMATURE_CLOSE","_len","_key","isRequest","setHeader","abort","eos","onlegacyfinish","writableEnded","readableEnded","onrequest","req","ERR_MISSING_ARGS","destroyer","closed","to","popCallback","streams","pipeline","destroys","reduce","ERR_INVALID_OPT_VALUE","highWaterMarkFrom","duplexKey","hwm","runParallel","pending","isSync","each","result","task","copyProps","dst","allocUnsafeSlow","SafeBuffer","encodingOrOffset","fill","SlowBuffer","errCode","MAX_BUFFERED_AMOUNT","ICECOMPLETE_TIMEOUT","CHANNEL_CLOSING_TIMEOUT","filterTrickle","sdp","_id","_debug","channelName","channelConfig","channelNegotiated","negotiated","offerOptions","answerOptions","sdpTransform","allowHalfTrickle","iceCompleteTimeout","destroying","_connected","remoteAddress","remoteFamily","remotePort","localAddress","localFamily","localPort","_pcReady","_channelReady","_iceComplete","_iceCompleteTimer","_channel","_pendingCandidates","_isNegotiating","_firstNegotiation","_batchedNegotiation","_queuedNegotiation","_sendersAwaitingStable","_senderMap","_closingInterval","_remoteTracks","_remoteStreams","_chunk","_cb","_interval","_pc","_isReactNativeWebrtc","_peerConnectionId","oniceconnectionstatechange","_onIceStateChange","onicegatheringstatechange","onconnectionstatechange","_onConnectionStateChange","onsignalingstatechange","_onSignalingStateChange","onicecandidate","_onIceCandidate","peerIdentity","_setupData","channel","createDataChannel","ondatachannel","addStream","ontrack","_onTrack","_needsNegotiation","_onFinishBound","_onFinish","bufferedAmount","readyState","family","address","renegotiate","transceiverRequest","addTransceiver","kind","candidate","remoteDescription","_addIceCandidate","setRemoteDescription","_createAnswer","iceCandidateObj","addIceCandidate","getTracks","track","addTrack","submap","sender","removed","oldTrack","newTrack","replaceTrack","removeTrack","negotiate","_createOffer","close","onmessage","onopen","binaryType","bufferedAmountLowThreshold","label","_onChannelMessage","onbufferedamountlow","_onChannelBufferedAmountLow","_onChannelOpen","_onChannelClose","filename","lineno","colno","isClosing","destroySoon","createOffer","sendOffer","localDescription","onSuccess","setLocalDescription","getTransceivers","transceiver","mid","requested","createAnswer","sendAnswer","_requestMissingTransceivers","connectionState","iceConnectionState","iceGatheringState","_maybeReady","flattenValues","report","values","getStats","reports","stat","timestamp","_connecting","findCandidatePair","items","remoteCandidates","localCandidates","candidatePairs","foundSelectedCandidatePair","item","setSelectedCandidatePair","selectedCandidatePair","local","localCandidateId","ip","ipAddress","portNumber","googLocalAddress","remote","remoteCandidateId","googRemoteAddress","selectedCandidatePairId","googActiveConnection","selected","_onInterval","signalingState","sdpMLineIndex","sdpMid","_startIceCompleteTimeout","ArrayBuffer","eventStream","some","remoteStream","iceServers","urls","sdpSemantics","namespacesCache","enabledCache","createError","ErrClass","output","ws","_WebSocket","WebSocket","_ws","OPEN","_handleOpen","_handleMessage","_handleClose","_handleError","_handleFinishBound","_handleFinish","onClose","CLOSED","WEBSOCKET_SUPPORT","isEncoding","_normalizeEncoding","retried","normalizeEncoding","nenc","text","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8End","utf8Text","utf8CheckByte","byte","utf8CheckIncomplete","utf8CheckExtraBytes","total","deprecated","trace","k","wrapper"],"sourceRoot":""}